- en: <!--yml
  prefs: []
  type: TYPE_NORMAL
- en: 'category: 未分类'
  prefs: []
  type: TYPE_NORMAL
- en: 'date: 2024-05-18 06:42:13'
  prefs: []
  type: TYPE_NORMAL
- en: -->
  prefs: []
  type: TYPE_NORMAL
- en: Price Impact in Efficient Markets | Mechanical Markets
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 来源：[https://mechanicalmarkets.wordpress.com/2016/08/15/price-impact-in-efficient-markets/#0001-01-01](https://mechanicalmarkets.wordpress.com/2016/08/15/price-impact-in-efficient-markets/#0001-01-01)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Market prices generally respond to an increase in supply or demand. This phenomenon,
    called “price impact,” is of central importance in financial markets. Price impact
    provides feedback between supply and demand, an essential component of the [price
    discovery mechanism](https://arxiv.org/abs/0809.0822). Price impact also accounts
    for the vast majority of large traders’ execution costs — costs which regulators
    may seek to reduce by tweaking market structure.
  prefs: []
  type: TYPE_NORMAL
- en: Price impact is a [concave](https://en.wikipedia.org/wiki/Concave_function)
    function of meta-order [[1](#bottom1fp)] size — approximately proportional to
    the square-root of meta-order size — across every well-measured financial market
    (e.g. [European](http://arxiv.org/abs/0908.0202) and [U.S.](https://arxiv.org/abs/1412.2152)
    equities, [futures](https://arxiv.org/abs/1311.6262), and [bitcoin](https://arxiv.org/abs/1412.4503)).
    There are some nice models that help explain this universality, most of which
    require fine-grained assumptions about market dynamics. [[2](#bottom2fp)] But
    perhaps various financial markets, regardless of their idiosyncrasies, share emergent
    properties that could explain empirical impact data. In this post, I try to predict
    price impact using only conjectures about a market’s large-scale statistical properties.
    In particular, we can translate intuitive market principles into integral equations.
    Some principles, based on efficiency arguments, imply systems of equations that
    behave like real markets.
  prefs: []
  type: TYPE_NORMAL
- en: 'In part **I**, we’ll start with the simplest principles, which we’ll only assume
    to hold on average: the “fair pricing condition”, and that market prices efficiently
    anticipate the total quantity of a meta-order based on its quantity already-executed.
    In part **II**, we’ll replace the fair pricing condition with an assumption that
    traders use price targets successfully, on average. In part **III**, we’ll return
    to fair pricing, but remove some efficiency from meta-order anticipation — by
    assuming that execution information percolates slowly into the marketplace. In
    part **IV**, we’ll emulate front-running, by doing the opposite of part **III**:
    leaking meta-orders’ short-term execution plans into the market. In parts **V**
    and **VI**, we’ll discuss adding the notion of urgency into meta-orders.'
  prefs: []
  type: TYPE_NORMAL
- en: Definitions and Information-Driven Impact
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We can motivate price impact from a supply and demand perspective. During the
    execution of a large buyer’s meta-order, her order flow usually changes the balance
    between supply and demand, inducing prices to rise by an amount called the “temporary
    price impact.” After the buyer is finished, she keeps her newly-acquired assets
    off the market, until she decides to sell. This semi-permanent reduction in supply
    causes the price to settle at a new level, which is higher than the asset’s initial
    price by an amount called the “permanent price impact.” Changes in available inventory
    cause permanent impact, and changes in flow (as well as inventory) cause temporary
    impact. [[3](#bottom3fp)]
  prefs: []
  type: TYPE_NORMAL
- en: Another view is that informed trading causes permanent impact, and that uncertainty
    about informedness causes temporary impact. When a trader submits a meta-order,
    its permanent impact should correspond in some fashion to her information. And
    its temporary impact should correspond to the market-estimate of permanent impact.
    In an “efficient” market, the informational view and the supply/demand view should
    be equivalent.
  prefs: []
  type: TYPE_NORMAL
- en: Before we proceed, we need some more definitions. Define ![\alpha(q)](img/a2601871842a7e281f0b1197e448d473.png)
    as the typical permanent price impact associated with a meta-order of quantity
    ![q](img/d5dff62051727d5390f29a8eb12a4588.png). By “typical”, I mean that ![\alpha(q)](img/a2601871842a7e281f0b1197e448d473.png)
    is the expectation value of permanent impacts, ![\alpha_{s}(q)](img/d2fe1ccaee209643c0a9e180b648f038.png),
    associated with a situation, ![s](img/ab1230707c8986af9d98cc24d293d09a.png), in
    the set of all possible situations and meta-orders, ![S](img/ebebb11194ef60654a4b960525d0e8ab.png).
    Specifically, ![\alpha(q) = \mathbf{E}_{s \in S}[\alpha_{s}(q)]](img/75951ceb4c7e31ac017e3f2aae1a6a34.png).
    It’s reasonable to associate the colloquial term “alpha” — which describes how
    well a given trade (![s](img/ab1230707c8986af9d98cc24d293d09a.png)) predicts the
    price — with ![\alpha_{s}](img/938e55c1d59cc25abe2da4f478319f8e.png).
  prefs: []
  type: TYPE_NORMAL
- en: Also define ![\mathcal{I}(q)](img/d1fc49c3a5b2e624efc8605a1544b836.png) as the
    typical temporary price impact after a quantity ![q](img/d5dff62051727d5390f29a8eb12a4588.png)
    has been executed. Again, “typical” means ![\mathcal{I}(q) = \mathbf{E}_{s \in
    S}[\mathcal{I}_{s}(q)]](img/9febc968058fc89f1b11edbe57370e4b.png).
  prefs: []
  type: TYPE_NORMAL
- en: These expectations can be [passed](https://en.wikipedia.org/wiki/Fubini's_theorem)
    through the integrals discussed below, so we don’t need to pay attention to them.
    In the rest of this post, “permanent impact” will refer to the expectation ![\alpha(q)=E_{s
    \in S}[\alpha_{s}(q)]](img/ea33043445f352a8c98f41772b1fbd3c.png) unless otherwise
    specified (and likewise for “temporary impact” and ![\mathcal{I}(q)](img/d1fc49c3a5b2e624efc8605a1544b836.png)).
  prefs: []
  type: TYPE_NORMAL
- en: I. A Bare-Bones Model
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Starting from two assumptions of market efficiency, we can determine the typical
    price-trajectory of meta-orders. The two conditions are:'
  prefs: []
  type: TYPE_NORMAL
- en: '**I.1)** The “[fair pricing condition](http://arxiv.org/abs/1102.5457),” which
    equates traders’ alpha with their execution costs from market-impact (on average):'
  prefs: []
  type: TYPE_NORMAL
- en: '![\alpha(q) = \frac{1}{q} \int_{0}^{q} \mathcal{I}(q'') dq''](img/5730d169a1437eb58ad4cc7e1f7d4a1f.png)'
  prefs: []
  type: TYPE_IMG
- en: The integral denotes the quantity-averaged temporary impact “paid” over the
    course of an entire meta-order. “Fair pricing” means that, in aggregate, meta-orders
    of a given size do not earn excess returns or below-benchmark returns.
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: '**I.2)** Efficient linkage between temporary and permanent price impact:'
  prefs: []
  type: TYPE_NORMAL
- en: '![\mathcal{I}(q'') = \mathbf{E}_{q}[\alpha(q)|q \geq q''] = \int_{q''}^{\infty}
    \alpha(q)p[q|q \geq q'']dq](img/a725adaa10c6f0614cde961e37ad800c.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Here, ![p[q]](img/5d86139ce74f8712def6c47b6b480c49.png) is the PDF of meta-order
    sizes and ![P[q]](img/53bb107ec4a82094a47726f62bdb340f.png) is the CDF. And ![p[q|q
    \geq q'']](img/11597b12238c540c11c295a74a7c37eb.png) is the truncated probability
    density of meta-order sizes, ![\frac{p[q]}{1 - P[q'']}](img/511f310d5bddc22ddf84fba7126b7b6f.png)
    — which represents the probability distribution of ![q](img/d5dff62051727d5390f29a8eb12a4588.png)
    given that quantity ![q''](img/907ba789ae50190e0a9a33fca2f1d4b8.png) from the
    meta-order has already executed. This condition means that, on average, “the market”
    observes how much quantity an anonymous trader has executed, and uses that to
    estimate the distribution of her meta-order’s total quantity. “The market” then
    calculates an expectation value of the meta-order’s alpha, which sets the current
    clearing price (i.e. temporary impact). [[4](#bottom4fp)] [[5](#bottom5fp)] To
    emphasize, only the average temporary impact is determined this way; a single
    meta-order could have much different behavior. Here’s a heuristic example:'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: A. A trader is buying a lot of IBM stock and has so far bought a million shares.
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: B. The rest of the market sees signs (like higher price and volume) of that
    purchase and knows roughly that somebody has bought a million shares.
  prefs: []
  type: TYPE_NORMAL
- en: C. Once a trader has bought a million shares, there is a 50% chance that she’ll
    buy 5 million in total, and a 50% chance that she’ll buy 10 million. “The market”
    knows these probabilities.
  prefs: []
  type: TYPE_NORMAL
- en: D. For 5 million share meta-orders, the typical permanent price impact is 1%,
    and for 10 million share meta-orders it’s 2%. So “the market” expects our trader’s
    meta-order to have permanent impact of 1.5%. The *typical* temporary impact is
    determined by this expectation value. This particular meta-order may have temporary
    impact smaller or larger than 1.5%, but meta-orders sent under similar circumstances
    will have temporary impact of 1.5% on average.
  prefs: []
  type: TYPE_NORMAL
- en: Relationship with Efficiency
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The fair pricing condition could emerge when the capital management industry
    is sufficiently competitive. If a money manager uses a trading strategy that’s
    profitable after impact costs, other managers could copy it and make money. The
    strategy would continue to attract additional capital, until impact expenses balanced
    its alpha. (Some managers are protective of their methods, but most strategies
    probably get replicated eventually.) If a strategy ever became overused, and impact
    expenses overwhelmed its alpha, then managers would probably scale back or see
    clients pull their money due to poor performance. Of course these processes take
    time, so some strategies will earn excess returns post-impact and some strategies
    may underperform — fair pricing would hold so long as they average out to a wash.
  prefs: []
  type: TYPE_NORMAL
- en: 'A strictly stronger condition than **I.2)** should hold in a market where meta-orders
    are assigned an anonymous ID, and every trade is instantly reported to the public
    with its meta-order IDs disclosed. [Farmer, Gerig, Lillo, and Waelbroeck](http://www.haas.berkeley.edu/groups/finance/hiddenImpact13.pdf)
    call a similar market structure the “colored print” model. Under this disclosure
    regime, if intermediary profits are zero, the expected alpha would determine the
    temporary impact path of individual meta-orders, not just the average ![\mathcal{I}(q'')](img/81ef6948e7eae930219c89139e4c547c.png)
    as in **I.2)**. All meta-orders would have the same impact path: ![\mathcal{I}_{s}(q'')
    = \mathbf{E}_{q}[\alpha(q)|q \geq q''] = \int_{q''}^{\infty} \alpha(q)p[q|q \geq
    q'']dq](img/a983de4cf6617ce75b7b635878971996.png) for any ![s](img/ab1230707c8986af9d98cc24d293d09a.png).
    [[6](#bottom6fp)] Now, the colored print model doesn’t seem very realistic; most
    markets don’t have anywhere near that level of transparency. Nonetheless, Farmer
    et al. show preliminary measurements that partly support it. [[7](#bottom7fp)]'
  prefs: []
  type: TYPE_NORMAL
- en: Even without colored prints, the linkage property **I.2)** could be due to momentum
    and mean-reversion traders competing away their profits. As discussed by [Bouchaud,
    Farmer, and Lillo](https://arxiv.org/abs/0809.0822), most price movement is probably
    caused by changes in supply and demand. That is, if prices move on increased volume,
    it’s likely that someone activated a large meta-order, especially if there hasn’t
    been any news. So, if average impact overshot **I.2)** significantly, a mean-reversion
    trader could plausibly watch for these signs and profitably trade opposite large
    meta-orders. Likewise, if average impact undershot **I.2)**, momentum traders
    might profit by following the price trend.
  prefs: []
  type: TYPE_NORMAL
- en: Solving the System of Equations
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We can combine **I.1)** and **I.2)** to get an ODE [[8](#bottom8fp)]:'
  prefs: []
  type: TYPE_NORMAL
- en: '![\alpha''''(q) + (\frac{2}{q} - \frac{p[q]}{1-P[q]})\alpha''(q) = 0](img/56dc99d81d8c39826749a78049feb397.png)'
  prefs: []
  type: TYPE_IMG
- en: This ODE lets us compute ![\alpha(q)](img/a2601871842a7e281f0b1197e448d473.png)
    and ![\mathcal{I}(q)](img/d1fc49c3a5b2e624efc8605a1544b836.png) for a given meta-order
    size distribution, ![p[q]](img/5d86139ce74f8712def6c47b6b480c49.png).
  prefs: []
  type: TYPE_NORMAL
- en: It’s common to approximate ![p[q]](img/5d86139ce74f8712def6c47b6b480c49.png)
    as a ![Pareto[q_{min},\beta]](img/39a7ed0014b5ee206935d23daa803a0d.png) [distribution](https://en.wikipedia.org/wiki/Pareto_distribution)
    (![p[q] = \frac{\beta q_{min}^{\beta}}{q^{\beta+1}}](img/45ce44e632a79493fc394d4b49617ef4.png)).
    If we do so, then ![\frac{p[q]}{1-P[q]} = \frac{\beta}{q}](img/0c0790d8ae957cb5457d2cdeae60299e.png),
    and the ODE has [solution](http://www.wolframalpha.com/input/?i=DSolve%5Ba%27%27%5Bq%5D+%2B+a%27%5Bq%5D*%282%2Fq+-+B%2Fq%29++%3D%3D+0%5D)
    ![\alpha(q) = c_1 q^{\beta-1}+c_2](img/0322ced16ae3f6454e88f7c4ecedca1c.png).
    Equation **I.1)** implies ![\mathcal{I}(q) = \alpha(q)+q\alpha'(q)](img/517b3f77ae5707a16d264425a820e90f.png),
    so we have that ![\mathcal{I}(q) = c_1 \beta q^{\beta-1} + c_2](img/c8789c4cf11b71d6f67f82435f376188.png).
    Impact should nearly vanish for small ![q](img/d5dff62051727d5390f29a8eb12a4588.png),
    so we can say that ![c_2 \approx 0](img/c7e6c9703cac763cd036bebd707be196.png).
    The post-execution decay in impact is then given by ![\frac{\alpha(q)}{\mathcal{I}(q)}
    = \frac{1}{\beta}](img/c757ceb3d2098ab2e23a4b35582ca42e.png)
  prefs: []
  type: TYPE_NORMAL
- en: 'If we choose ![\beta = \frac{3}{2}](img/3533382cf88c8f1098a2add7579bed2e.png) (roughly
    in-line with [empirical data](http://papers.ssrn.com/sol3/papers.cfm?abstract_id=2197534)),
    we get the familiar square-root law: ![\mathcal{I}(q) \propto \sqrt{q}](img/cb7bba63fd55806a94f34fc0d146dbd7.png).
    We also get an impact ratio of ![\frac{\alpha(q)}{\mathcal{I}(q)} = \frac{2}{3}](img/ce6187f69ea52135980b041b2c7f2eba.png),
    very close to [real-world values](http://arxiv.org/abs/1412.2152).'
  prefs: []
  type: TYPE_NORMAL
- en: A similar [method](http://arxiv.org/abs/1102.5457) from Farmer, Gerig, Lillo,
    and Waelbroeck gives the same result. They use the fair pricing condition, but
    combine it with a competitive model of market microstructure. [[9](#bottom9fp)]
    Here, instead of having a specific model of a market, we’re making a broad assumption
    about efficiency with property **I.2)**. There may be a large class of competitive
    market structures that have this efficiency property.
  prefs: []
  type: TYPE_NORMAL
- en: Distribution of Order Sizes Implied by a Given Impact Curve
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Under this model, knowing an asset’s price elasticity (![\mathcal{I}(q)](img/d1fc49c3a5b2e624efc8605a1544b836.png))
    is equivalent to knowing its equilibrium meta-order size distribution(![p[q]](img/5d86139ce74f8712def6c47b6b480c49.png)).
    [[10](#bottom10fp)] If a market impact function ![\mathcal{I}(q)](img/d1fc49c3a5b2e624efc8605a1544b836.png)
    is assumed, we can calculate the meta-order size distribution. [[11](#bottom11fp)]
    For instance, Zarinelli, Treccani, Farmer, and Lillo [are](http://arxiv.org/abs/1412.2152)
    able to better fit their dataset with an impact function of the form ![\mathcal{I}(q)
    = a Log_{10}(1+bq)](img/16407d4fc2c14f04aaf6322753b81ea9.png) (p17). This impact
    curve implies a ![p[q]](img/5d86139ce74f8712def6c47b6b480c49.png) that’s similar
    to a power-law, but with a slight bend such that its tail decays slower than its
    bulk:'
  prefs: []
  type: TYPE_NORMAL
- en: 'II. A Replacement Principle for Fair Pricing: Traders’ Effective Use of Price
    Targets'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The two integral equations in part **I** can be modified to accommodate other
    market structure principles. There’s some [evidence](http://papers.ssrn.com/sol3/papers.cfm?abstract_id=2291720)
    that our markets obey the fair pricing condition, but it’s fun to consider alternatives.
    One possibility is that traders have price targets, and cease execution of their
    meta-orders when prices approach those targets. We can try replacing the fair
    pricing of **I.1)** with something that embodies this intuition:'
  prefs: []
  type: TYPE_NORMAL
- en: '**II.1)** ![\alpha(q) = a\mathcal{I}(q) + d](img/8bf63f189b0a5129d5cd2249e1f2770b.png)'
  prefs: []
  type: TYPE_NORMAL
- en: Where ![a](img/fc4933ce84c1ffb62edca3ae319efb12.png) and ![d](img/5cf792e745970789813cf1c8866bee0b.png)
    are constants. This principle should be true when traders follow price-target
    rules, and their targets accurately predict the long-term price (on average).
    If ![d=0](img/5750ec51faa997d1dafe6ab6109baf87.png) and ![a=\frac{5}{4}](img/c3bfd75b6d3171e6e77ae60ac9236519.png),
    then traders typically stop executing when the price has moved ![\frac{4}{5}](img/681924080d232785ee6644396a9974b2.png)
    of the way from its starting value to its long-term value. If ![a=1](img/6e015b940fb24d0880c8a499b42d54ff.png)
    and ![d=0.01](img/e2f2f112e87d9d2108fdb177f04c7310.png), then traders stop executing
    when the price is within 1% of its long-term value.
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'If we keep **I.2)**, this gives the ODE:'
  prefs: []
  type: TYPE_NORMAL
- en: '![\alpha''(q) + \frac{p[q](a-1)}{1 - P[q]}\alpha(q) + \frac{p[q]d}{1 - P[q]}=0](img/1630ab88aa5b5683a9624291f0357f45.png)'
  prefs: []
  type: TYPE_IMG
- en: 'It’s readily solved. [[12](#bottom12fp)] In particular, if ![q \sim Pareto[q_{min},\beta]](img/27c3e1f720889721b0ba1c99207ea8a6.png)
    and ![a \neq 1](img/a9fd43d8193a8c5dcf8f383810af655c.png) :'
  prefs: []
  type: TYPE_NORMAL
- en: '![\alpha(q) = c q^{\beta (1-a)}+\frac{d}{1-a}](img/07a0c79e6e8ce5307824c74b0b01e5ed.png)
    and ![\mathcal{I}(q) = \frac{c q^{\beta (1-a)}+\frac{d}{1-a}-d}{a}](img/b9646415fbe1a8f93b0204c64c0359ae.png).'
  prefs: []
  type: TYPE_NORMAL
- en: For typical values of ![\beta \approx 1.5](img/00ef29fd232a6a1d49c1fe9da578cc44.png),
    we can get the usual square root-law by setting ![a \approx \frac{2}{3}](img/8ab45197d97622f3ac7cf936bfbc4ccc.png).
    We need ![0 < a < 1](img/65b1862bc09b696342fcabcfca0ec8bb.png) in order for impact
    to be a concave, increasing function of order size, in agreement with empirical
    data. This suggests that perhaps traders do employ price targets, only instead
    of being conservative, their targets are overly aggressive. In other words, this
    model gives a realistic concave impact function if traders are overconfident and
    think their information is worth more than it is. [[13](#bottom13fp)] More generally,
    the partial reversion of impact after meta-orders’ completion could be explained
    with overconfidence. And when the “average” trader is overconfident just enough
    to balance out her alpha, the market will obey the fair pricing condition. I think
    there’s more to fair pricing than overconfidence, but this link between human
    irrationality and market efficiency is intriguing.
  prefs: []
  type: TYPE_NORMAL
- en: III. A Replacement Principle for Efficient Linkage, with Delayed Dissemination
    of Information
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We can also think about alternatives for **I.2)**. In **I.2)**, “the market”
    could immediately observe the already-executed quantity of a typical meta-order.
    But markets don’t instantly process new information, so perhaps the market estimate
    of meta-orders’ already-executed quantity is delayed:'
  prefs: []
  type: TYPE_NORMAL
- en: '**III.2)** ![\mathcal{I}\left(q''\right) = \mathbf{E}_{q}[\alpha(q)|q \geq
    (q''-q_d)^+] = \frac{\int_{(q''-q_d)^+}^{\infty } p[q] \alpha (q) \, dq}{1-P[(q''-q_d)^+]}](img/429290f822579b2fa814f2412ad3036f.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Where ![q_d](img/6d19b904fb6df88428bb26a244f2c6ea.png) is a constant and ![(q''-q_d)^+](img/38d6e19247ac14ef904e3ab0617da087.png)
    is the positive part of ![(q''-q_d)](img/d9d1c143cc7420dbc5e126845c476c93.png):
    ![max(0,(q''-q_d))](img/8de7cc5f2cedf06fe52b48b6509baf44.png).'
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: This condition should be true when the market (on average) is able to observe
    how much quantity an anonymous trader executed in the past, when her executed
    quantity was ![q_d](img/6d19b904fb6df88428bb26a244f2c6ea.png) less than it is
    in the present. This information can be used to estimate the distribution of her
    meta-order’s total size, and thus an expectation value of its final alpha. The
    temporary impact is set by this expectation value.
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Intuitively, small meta-orders may blend in with background activity, but large
    ones are too conspicuous. If someone sends two 100-share orders to buy AAPL, other
    traders won’t know (or care) whether those orders came from one trader or two.
    But if a large buyer is responsible for a third of the day’s volume, other traders
    will notice and have a decent estimate of the buyer’s already-executed quantity,
    even if they don’t know whether the buyer was involved in the most recent trades
    on the tape. So, it’s very plausible for market participants to have a quantity-lagged,
    anonymized view of each other’s trading activity.
  prefs: []
  type: TYPE_NORMAL
- en: 'Combining **III.2)** with fair pricing **I.1)** gives the delay differential
    equation [[14](#bottom14fp)]:'
  prefs: []
  type: TYPE_NORMAL
- en: '![\begin{cases} q \alpha ''''(q) + \alpha ''(q) \left(2-\frac{q p[q-q_d]}{1-P[q-q_d]}\right)-\left(\alpha
    (q)-\alpha (q-q_d)\right)\frac{p[q-q_d]}{1-P[q-q_d]}=0, & \mbox{if } q \geq q_d
    \\ \mathcal{I}(q)=\alpha(q)=constant, & \mbox{if } q < q_d \end{cases}](img/8441e8d88df4ea0cf3a86e5df4fcb9cb.png).'
  prefs: []
  type: TYPE_NORMAL
- en: 'We can solve it numerically [[15](#bottom15fp)]:'
  prefs: []
  type: TYPE_NORMAL
- en: 'I gather that fundamental traders don’t like it when the price reverts on them,
    so some may want this impact ratio to be close to 1\. Delayed information dissemination
    helps accomplish this goal when meta-orders are smaller than what can be executed
    within the delay period. But traders experience bigger than usual reversions if
    their meta-orders are larger than ![q_d](img/6d19b904fb6df88428bb26a244f2c6ea.png).
    This behavior is intuitive: if a meta-order has executed a quantity less than
    ![q_d](img/6d19b904fb6df88428bb26a244f2c6ea.png), other traders will have zero
    information about it and can’t react. But as soon as its executed quantity reaches
    ![q_d](img/6d19b904fb6df88428bb26a244f2c6ea.png), the market is made aware that
    somebody is working an unusually big meta-order, and so the price moves considerably.'
  prefs: []
  type: TYPE_NORMAL
- en: Some bond traders are [pushing](http://www.ft.com/cms/s/0/c4176a68-ea8f-11e4-a701-00144feab7de.html)
    for a longer delay in trade reporting. One rationale is that asset managers could
    execute meta-orders during the delay period, before other traders react and move
    the market. The idea feels superficially like condition **III.2)**, but isn’t
    a perfect analogy, because counterparties still receive trade confirmations without
    delay. And counterparties do use this information to trade. [[16](#bottom16fp)]
    So, delaying prints may not significantly slow the percolation of traders’ information
    into the marketplace, it just concentrates that information into the hands of
    their counterparties. Counterparties might provide tighter quotes because of this
    informational advantage, but only if liquidity provision is sufficiently competitive.
    [[17](#bottom17fp)]
  prefs: []
  type: TYPE_NORMAL
- en: In theory, it’s possible for market structure to explicitly alter ![q_d](img/6d19b904fb6df88428bb26a244f2c6ea.png).
    [[18](#bottom18fp)] An exchange could delay both prints and trade confirmations,
    while operating, on behalf of customers, execution algorithms which do not experience
    a delay. This was the idea behind IEX’s [defunct](https://www.sec.gov/comments/10-222/10222-421.pdf)
    router, which would have been able to execute aggressive orders against its hidden
    order book and route out the remainder before informing either counterparty about
    the trades. The router would’ve increased the equity market’s ![q_d](img/6d19b904fb6df88428bb26a244f2c6ea.png)
    by the resting size on IEX’s hidden order book, which (I’m guessing) is very rarely
    above $100k notional — an amount that doesn’t really move the needle for large
    fundamental traders, especially since orders larger than ![q_d](img/6d19b904fb6df88428bb26a244f2c6ea.png)
    experience significant price reversion. Regardless, it’s interesting to think
    about more creative ways of giving exchange execution algorithms an informational
    advantage. The general problem with such schemes is that they are [anti-competitive](https://mechanicalmarkets.wordpress.com/2015/12/18/possible-compromises-for-iex/);
    brokers would have to use the advantaged exchange algos, which could command exorbitant
    fees and suffer from a lack of innovation. [[19](#bottom19fp)]
  prefs: []
  type: TYPE_NORMAL
- en: IV. A Replacement Principle for Efficient Linkage, with Information Leakage
    from Sloppy Trading or Front-Running
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In **III.**, we altered condition **I.2)** so that market prices responded
    to meta-orders’ executions in a lagged fashion. We can try the same idea in reverse
    to see what happens if market prices adjust to meta-orders’ future executed quantity:'
  prefs: []
  type: TYPE_NORMAL
- en: '**IV.2)**'
  prefs: []
  type: TYPE_NORMAL
- en: '![\mathcal{I}\left(q_{tot},q_{executed}\right) = \begin{cases} \mathbf{E}_{q}[\alpha(q)|q
    \geq q_{executed}+q_{FR}] = \frac{\int_{q_{executed}+q_{FR}}^{\infty } p[q] \alpha
    (q) \, dq}{1-P[q_{executed}+q_{FR}]}, & \mbox{if } q_{executed}<q_{tot}-q_{FR}
    \\ \mathbf{E}_{q}[\alpha(q)|q=q_{tot}] = \alpha \left(q_{tot}\right), & \mbox{if
    } q_{executed}\geq q_{tot}-q_{FR} \end{cases} ](img/f9493d3378bd3962df2873de406ff6e1.png)'
  prefs: []
  type: TYPE_IMG
- en: Where ![\mathcal{I}\left(q_{tot},q_{executed}\right)](img/37fd497e08466a92a736850a2c94a2f9.png)
    is the temporary impact associated with a meta-order that has an already-executed
    quantity of ![q_{executed}](img/ca2dc8c261bf0a26817fe929688f8d26.png) and a total
    quantity of ![q_{tot}](img/2d56f587e959fe03f1faa99ed04e15d9.png). ![q_{FR}](img/704deb8a24f60054556318187c9ca878.png)
    is a constant. On average, a meta-order’s intentions are partly revealed to the
    market, which “knows” not only the meta-order’s already-executed quantity, but
    also whether it will execute an additional quantity ![q_{FR}](img/704deb8a24f60054556318187c9ca878.png)
    in the future. If a meta-order will execute, in total, less than ![q_{executed}+q_{FR}](img/fc9506857d5c3555f26519e16017d753.png),
    the market knows its total quantity exactly. “The market” uses this quantity information
    to calculate the meta-order’s expected alpha, which determines the typical temporary
    impact.
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'This condition may be an appropriate approximation for several market structure
    issues:'
  prefs: []
  type: TYPE_NORMAL
- en: '**A.** The sloppy execution methods described in “Flash Boys”: If a sub-par
    router sends orders to multiple exchanges without timing them to splash-down simultaneously,
    then “the market” may effectively “know” that some of the later orders are in-flight,
    before they arrive. If most fundamental traders use these sloppy routing methods
    (as “Flash Boys” claims), then we might be able to describe the market’s behavior
    with a ![q_{FR}](img/704deb8a24f60054556318187c9ca878.png) approximately equal
    to the typical top-of-book depth.'
  prefs: []
  type: TYPE_NORMAL
- en: '**B.** Actual front-running: E.g., if fundamental traders split up their meta-orders
    into $10M pieces, and front-running brokers handle those pieces, the market will
    have a ![q_{FR} \approx \$ 10M](img/436ca3fce1de4da69a49ae60fa072dec.png). Though,
    brokers know their customers’ identities, so they may be able to predict a customer’s
    permanent impact with better precision than this model allows.'
  prefs: []
  type: TYPE_NORMAL
- en: '**C.** Last look: During the last-look-period, a fundamental trader’s counterparty
    can wait before finalizing the trade. If the fundamental trader sends orders to
    other exchanges during this period, her counterparty can take those into account
    when deciding to complete the trade. This is similar to A., except traders can’t
    avoid the information leakage by synchronizing their orders.'
  prefs: []
  type: TYPE_NORMAL
- en: 'We can examine the solutions of this version of condition **2)**. Combining
    it with the fair pricing condition **I.1)** gives, for meta-orders with ![q_{tot}>q_{FR}](img/83a371435b0c37796682d7fc5710efcf.png):
    [[20](#bottom20fp)]'
  prefs: []
  type: TYPE_NORMAL
- en: '![\alpha ''(q_{tot}) \left(2-\frac{(q_{tot}-q_{FR}) p[q_{tot}]}{1-P[q_{tot}]}\right)+(q_{tot}-q_{FR})
    \alpha ''''(q_{tot})=0](img/52ee368572685aaf77d8fb041cfc0d10.png)'
  prefs: []
  type: TYPE_IMG
- en: 'If ![q_{tot} \sim Pareto[q_{min},\beta]](img/178302ca0d0c5816e17877dee2fe7bd5.png),
    this has solution:'
  prefs: []
  type: TYPE_NORMAL
- en: '![\alpha (q_{tot}) = c_1 + c_2 (q_{tot}-q_{FR}){}^{\beta-1} \, _2F_1(1-\beta,-\beta;2-\beta;\frac{q_{FR}}{q_{FR}-q_{tot}})](img/2959582d45d2c58864b3bfa8e87407ff.png)'
  prefs: []
  type: TYPE_IMG
- en: 'For ![q_{tot} \gg q_{FR}](img/5efd1a9264ae318ae1e263c870dbc860.png): [the](http://functions.wolfram.com/HypergeometricFunctions/Hypergeometric2F1/06/01/03/01/01/)
    ![_2F_1(...) \approx 1](img/4938ca1a67b0274edc6fe88ae9997545.png), so ![\alpha
    (q_{tot}) \approx c_1 + c_2 q_{tot}^{\beta-1}](img/b9ea70ac09eb3a205011b981dc216ba2.png),
    which is the same behavior we saw in the base model **I.**'
  prefs: []
  type: TYPE_NORMAL
- en: 'If we look at the solution’s behavior for ![q_{tot} \gtrsim q_{FR}](img/42a64ec8026be53554ebb9fc2e0da4c3.png),
    the story is quite different:'
  prefs: []
  type: TYPE_NORMAL
- en: Under this model, meta-orders slightly larger than ![q_{FR}](img/704deb8a24f60054556318187c9ca878.png)
    *necessarily* have negative long-term alpha. It’s possible that traders would
    adapt to this situation by never submitting meta-orders of that size, altering
    the Pareto-distribution of meta-order sizes so that no commonly-used ![q_{tot}](img/2d56f587e959fe03f1faa99ed04e15d9.png)
    is associated with negative alpha. But, it’s also possible that some traders would
    continue submitting orders that lose money in expectation. Market participants
    have diverse priorities, and long-term alpha is not always one of them.
  prefs: []
  type: TYPE_NORMAL
- en: V. Adding Time-Dependence
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The model template above gets some general behavior right, but glosses over
    important phenomena in our markets. It makes no explicit mention of time, ignoring
    important factors like the urgency and execution rate of a meta-order. It’s not
    obvious how we could include these using only general arguments about efficiency,
    but we can imagine possible market principles and see where they lead.
  prefs: []
  type: TYPE_NORMAL
- en: For the sake of argument, say that every informed trading opportunity has a
    certain urgency, ![u](img/ed2bda96ce6ef739f5a610bae69f3b6e.png), defined as the
    amount of time before its information’s value expires. For example, an informed
    trader may have a proprietary meteorological model which makes predictions 30
    minutes before public forecasts are published. If her model predicts abnormal
    rainfall and she expects an effect on the price of wheat, she’d have 30 minutes
    to trade before her information becomes suddenly worthless. Of course, in real
    life she’d have competitors and her information would decay in value gradually
    over the 30 minutes, perhaps even retaining some value after it’s fully public.
    But let’s just assume that ![u](img/ed2bda96ce6ef739f5a610bae69f3b6e.png) is a
    constant for a given trading opportunity and see where it leads us.
  prefs: []
  type: TYPE_NORMAL
- en: 'If we try following a strict analogy with the time-independent model, we might
    write down these equations:'
  prefs: []
  type: TYPE_NORMAL
- en: '**V.1)** A “universal-urgency fair pricing condition,” that applies to meta-orders
    at every level of urgency:'
  prefs: []
  type: TYPE_NORMAL
- en: '![\alpha(q,u) = \frac{1}{q} \int_{0}^{q} \mathcal{I}(q'',u) dq''](img/0d11d026417bcbfe3627c0124adf818d.png)'
  prefs: []
  type: TYPE_IMG
- en: This is a much stronger statement than ordinary fair pricing. It says that market-impact
    expenses equal alpha, on average, for meta-orders grouped by *any* given urgency.
    There are good reasons to expect this to be a bad approximation of reality — e.g.
    high-frequency traders probably constitute most short-urgency volume [[21](#bottom21fp)]
    and have large numbers of trades to analyze, so they can successfully tune their
    order sizes such that their profits are maximized (and positive). Perhaps some
    traders with long-urgency information submit orders that are larger than the capacity
    of their strategies, but I doubt HFTs do.
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: '**V.2)** Efficient linkage between temporary and permanent price impact:'
  prefs: []
  type: TYPE_NORMAL
- en: '![\mathcal{I}(q'',u'') = \mathbf{E}_{q,u}[\alpha(q,u)|q \geq q'', u \geq u'']
    =\int_{u''}^{\infty}\int_{q''}^{\infty} \alpha(q,u)p[q,u|q \geq q'', u \geq u'']dqdu](img/5de3a36d2dcc8a1dc69d1edaaa13b6b6.png)'
  prefs: []
  type: TYPE_IMG
- en: Where ![p[q,u]](img/7f00fc41b8787811e24be2eed3dbb09f.png) is the PDF of meta-order
    sizes and urgencies, and ![P[q,u]](img/ac6cdbb748346ce09cd27c9fc6d8874d.png) is
    the CDF. ![p[q,u|q \geq q',u \geq u']](img/f4ceb46686c465d2c09275ea3d001ff7.png)
    is the truncated probability distribution of meta-order sizes and urgencies, ![\frac{p[q,u]}{1
    - P[q',\infty] - P[\infty,u'] + P[q',u']}](img/f51981a086d3a231d699318f4e1c6811.png)
    — which represents the probability distribution of ![q](img/d5dff62051727d5390f29a8eb12a4588.png)
    and ![u](img/ed2bda96ce6ef739f5a610bae69f3b6e.png) given the knowledge that quantity
    ![q'](img/907ba789ae50190e0a9a33fca2f1d4b8.png) from the meta-order has already
    executed in time ![u'](img/3203471e250f3e805b57c6f491619b6e.png). This is similar
    to the time-independent efficient linkage condition **I.2)**. For example, a trader
    splits her meta-order into chunks, executing 1,000 shares per minute starting
    at 9:45\. If she is still trading at 10:00, “the market,” having observed her
    order-flow imbalance, will “know” that her meta-order is at least 15,000 shares
    and has an urgency of at least 15 minutes. “The market” then calculates the expected
    alpha of the meta-order given these two pieces of information, which determines
    the average temporary impact.
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: We can combine these two equations to get a rather unenticing PDE. [[22](#bottom22fp)]
    As far as I can tell, its solutions are unrealistic. [[23](#bottom23fp)] Most
    solutions have temporary price impact that barely changes with varying levels
    of urgency. But in the real world, temporary impact should be greater for more
    urgent orders. The universal-urgency fair pricing here is too strong of a constraint
    on trader behavior. This condition means that markets don’t discriminate based
    on information urgency. Its failure suggests that markets do discriminate — and
    that informed traders, when they specialize in a particular time-sensitivity,
    face either a headwind or tailwind in their profitability.
  prefs: []
  type: TYPE_NORMAL
- en: VI. A Weaker Constraint
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'If we want to replace the universal-urgency of **V.1)** with something still
    compatible with ordinary fair pricing, perhaps the weakest constraint would be
    the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '**VI.1)** ![\mathbf{E}_{u|q}[\alpha(q,u)] = \mathbf{E}_{u|q}[\frac{1}{q} \int_{0}^{q}
    \mathcal{I}(q'',u) dq'']](img/305897caf605869f43c8471b123be016.png)'
  prefs: []
  type: TYPE_NORMAL
- en: Which says that, for a given ![q](img/d5dff62051727d5390f29a8eb12a4588.png),
    fair pricing holds on average across all ![u](img/ed2bda96ce6ef739f5a610bae69f3b6e.png).
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: 'Requiring this, along with **V.2)**, gives a large class of solutions. Many
    solutions have ![q](img/d5dff62051727d5390f29a8eb12a4588.png) -behavior similar
    to the time-independent model **I**, with ![u](img/ed2bda96ce6ef739f5a610bae69f3b6e.png)
    -behavior that looks something like this:'
  prefs: []
  type: TYPE_NORMAL
- en: This weaker constraint leaves a great deal of flexibility in the shape of the
    market impact surface ![\mathcal{I}(q,u)](img/46e672c336f0bcb5a65f4c03a93b4175.png).
    Some of the solutions seem reasonable, e.g. for large ![u](img/ed2bda96ce6ef739f5a610bae69f3b6e.png),
    ![\mathcal{I}](img/8700abac086fcc35177f347646a6558f.png) could decay as a power
    of ![u](img/ed2bda96ce6ef739f5a610bae69f3b6e.png). But there are plenty of unreasonable
    solutions too, so perhaps real markets obey a stronger form of fair pricing.
  prefs: []
  type: TYPE_NORMAL
- en: Conclusion
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Price impact has characteristics that are universal across asset classes. This
    universality suggests that financial markets possess emergent properties that
    don’t depend too strongly upon their underlying market structure. Here, we consider
    some possible properties and their connection with impact.
  prefs: []
  type: TYPE_NORMAL
- en: The general approach is to think about a market structure principle, and write
    down a corresponding equation. Some of these equations, stemming from notions
    of efficiency, form systems which have behavior evocative of our markets. The
    simple system in part **I** combines the “fair pricing condition” with a linkage
    between expected short-term and long-term price impact. It predicts both impact’s
    size-dependence and post-execution decay with surprising accuracy. Fair pricing
    appears to agree with [empirical equities data](http://papers.ssrn.com/sol3/papers.cfm?abstract_id=2291720).
    The linkage condition is also testable. And, as discussed in part **III**, its
    form may weakly depend on how much and how quickly a market disseminates data.
    If we measure this dependence, we might further understand the effects of price-transparency
    on fundamental traders, and give regulators a better toolbox to evaluate the evolution
    of markets.
  prefs: []
  type: TYPE_NORMAL
- en: '[[1](#1fp)] A “meta-order” refers to a collection of orders stemming from a
    single trading decision. For example, a trader wanting to buy 10,000 lots of crude
    oil might split this meta-order into 1,000 child orders of 10 lots.'
  prefs: []
  type: TYPE_NORMAL
- en: '[[2](#2fp)] There’s a good review and empirical study by [Zarinelli et al](https://arxiv.org/abs/1412.2152).
    It has a brief overview of several models that can predict concave impact, including
    the [Almgen-Chriss model](http://www.courant.nyu.edu/~almgren/papers/optliq.pdf),
    the propagator model of [Bouchaud et al.](https://arxiv.org/abs/cond-mat/0307332)
    and of [Lillo and Farmer](https://arxiv.org/abs/cond-mat/0311053), the latent
    order book approach of [Toth et al.](https://arxiv.org/abs/1105.1694) and its
    extension by [Donier et al.](https://arxiv.org/abs/1412.0141), and the fair pricing
    and martingale approach of [Farmer et al.](https://arxiv.org/abs/1102.5457)'
  prefs: []
  type: TYPE_NORMAL
- en: '[[3](#3fp)] Recall the “flow versus stock” (“stock” meaning available inventory)
    debate from the Fed’s Quantitative Easing programs, when people agonized over
    which of the two had a bigger impact on prices. E.g., [Bernanke](https://www.federalreserve.gov/mediacenter/files/FOMCpresconf20130619.pdf)
    in 2013:'
  prefs: []
  type: TYPE_NORMAL
- en: We do believe — although, you know, there’s room for debate — we do believe
    that the primary effect of our purchases is through the stock that we hold, because
    that stock has been withdrawn from markets, and the prices of those assets have
    to adjust to balance supply and demand. And we’ve taken out some of the supply,
    and so the prices go up, the yields go down.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: For ordinary transactions, the “stock effect” is typically responsible for about
    two thirds of total impact (see, e.g., [Figure 12](https://arxiv.org/abs/1412.2152)).
    Central banks, though, are not ordinary market participants. But there are hints
    that their impact characteristics may not be so exceptional. Payne and Vitale
    [studied](http://eprints.lse.ac.uk/25040/1/200209-PayneVitale-TxLevelStudyCBIntervFX.pdf)
    FX interventions by the SNB. Their measurements show that the SNB’s price impact
    was a concave function of intervention size (Figure 2). The impact of SNB trades
    also appears to have partially reverted within 15-30 minutes, perhaps by about
    one third (Figures 1 and 2, Table 2). Though, unlike QE, these interventions were
    sterilised, so longer-term there shouldn’t have been much of a “stock effect”
    — and other participants may have known that.
  prefs: []
  type: TYPE_NORMAL
- en: '[[4](#4fp)] We can assume without loss of generality that the traders in question
    are buying (i.e. the meta-order sizes are positive). Sell meta-orders would have
    negative ![q](img/d5dff62051727d5390f29a8eb12a4588.png), and the same arguments
    would apply, but with “![\geq](img/ba8db2bffde956715aca54e852ad104a.png)” replaced
    by “![\leq](img/288fbbbcd5cb2cc4b9330cde54995b85.png)“. Though, the meta-order
    size distribution for sell orders might not be symmetric to the distribution for
    buy orders (i.e. ![p[q] \neq p[-q]](img/47f9ba251d3d276bc18e400ee6b9eb53.png)).
    Note that this model assumes that traders don’t submit sell orders when their
    intention is really to buy. There’s some debate over whether doing so would constitute
    market manipulation and I doubt it happens all that much, but that’s a discussion
    for another time.'
  prefs: []
  type: TYPE_NORMAL
- en: '[[5](#5fp)] I’m being a little loose with words here. Say a meta-order in situation
    ![s](img/ab1230707c8986af9d98cc24d293d09a.png) has an already-executed quantity
    of ![q_{executed,s}](img/d58ebd0e1ac5628a4621b3143c6f5056.png), and the market-estimate
    of ![q_{executed,s}](img/d58ebd0e1ac5628a4621b3143c6f5056.png) is ![\hat{q}_s](img/8e66d54685e96b7a5d5fbffe9884df24.png).
    **I.2)** is not the same as saying that ![\mathbf{E}_{s \in S}[\hat{q}_s] = \mathbf{E}_{s
    \in S}[q_{executed,s}]](img/d4d8c2173f01772cd4ab97de573ffb33.png). The market-estimate
    ![\hat{q}_s](img/8e66d54685e96b7a5d5fbffe9884df24.png) could be biased and **I.2)**
    might still hold. And **I.2)** could be wrong even if ![\hat{q}_s](img/8e66d54685e96b7a5d5fbffe9884df24.png)
    is unbiased.'
  prefs: []
  type: TYPE_NORMAL
- en: '[[6](#6fp)] I’m being imprecise here. Intermediaries could differentiate some
    market situations from others, so we really should have: ![\mathcal{I}_{s_p}(q'')
    = \mathbf{E}_{q}[\alpha_{S_p}|q \geq q''] = \int_{q''}^{\infty} \alpha_{S_p}(q)p[q|q
    \geq q'']dq](img/7156269d5b85939e106371543a5a821a.png), where ![\alpha_{S_p} =
    \mathbf{E}_{s_p \in S_p}[\alpha_{s_p}(q)]](img/cc3567afbd31fe84d41171abbdf84da3.png)
    is the average alpha for possible situations ![s_p](img/aefa9b8d5216718dc67bd977af633c8e.png)
    given observable market conditions. E.g. average alpha increases when volatility
    doubles, and other traders know it — so they adjust their estimates of temporary
    impact accordingly. In this case, ![S_p](img/df4024c6947ecee9dc6c98c2c9c88e77.png)
    is the set of meta-orders that could be sent when volatility is doubled. For this
    reason, and because impact is not the only cause of price fluctuations, the stronger
    “colored print” constraint wouldn’t eliminate empirically measured ![\mathbf{Var}_{s}[\mathcal{I}_{s}]](img/3aea33d05ffafe10184b6d6215a83514.png)
    — though it should dramatically reduce it.'
  prefs: []
  type: TYPE_NORMAL
- en: '[[7](#7fp)] The [draft](http://www.haas.berkeley.edu/groups/finance/hiddenImpact13.pdf)
    presents some fascinating evidence in support of the colored print hypothesis.
    Using broker-tagged execution data from the LSE and an estimation method, the
    authors group trades into meta-orders. They then look at the marginal temporary
    impact of each successive child order from a given meta-order (call this meta-order
    ![M_{1}](img/c2f5a30505e86d0d8a92fc702a8b2586.png)). In keeping with a concave
    impact-function, they find that ![M_{1}](img/c2f5a30505e86d0d8a92fc702a8b2586.png)‘s
    child orders have lower impact if they’re sent later in ![M_{1}](img/c2f5a30505e86d0d8a92fc702a8b2586.png)‘s
    execution. However, if another meta-order (![M_{2}](img/7861ea0505bba7db14fb2369dfea2398.png))
    is concurrently executing on the same side as ![M_{1}](img/c2f5a30505e86d0d8a92fc702a8b2586.png),
    ![M_{2}](img/7861ea0505bba7db14fb2369dfea2398.png)‘s child orders have nearly
    the same temporary impact, regardless of whether they occur early or late in the
    execution of ![M_{1}](img/c2f5a30505e86d0d8a92fc702a8b2586.png) (p39-40). This
    means that “the market” is able to differentiate ![M_{1}](img/c2f5a30505e86d0d8a92fc702a8b2586.png)‘s
    executions from ![M_{2}](img/7861ea0505bba7db14fb2369dfea2398.png)‘s!'
  prefs: []
  type: TYPE_NORMAL
- en: '**I.2)** might seem like a sensible approximation for real markets, but I’d
    have expected it to be pretty inaccurate when multiple large traders are simultaneously
    (and independently) active. There should be price movement and excess volume if
    two traders have bought a million shares each, but how could “the market” differentiate
    this situation from one where a single trader bought two million shares? It’s
    surprising, but the (draft) paper offers evidence that this differentiation happens.
    I don’t know what LSE market structure was like during the relevant period (2000-2002)
    — maybe it allowed information to leak — but it’s also possible that large meta-orders
    just aren’t very well camouflaged. A large trader’s orders might be poorly camouflaged,
    for example, if she has a favorite order size, or submits orders at regular time-intervals.
    In any case, if a meta-order is sufficiently large, its prints should effectively
    be “colored” — because it’s unlikely that an independent trading strategy would
    submit another meta-order of similar size at the same time.'
  prefs: []
  type: TYPE_NORMAL
- en: '[[8](#8fp)]'
  prefs: []
  type: TYPE_NORMAL
- en: 'A. Take a ![\frac{d}{dq}](img/2407d736534b3098338d45d30d9f45d0.png) of **I.1)**:
    ![\mathcal{I}(q)=q \alpha ''(q)+\alpha (q)](img/5a753489be079545d800d3a7ddd82f2f.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'B. Set A. equal to the definition of ![\mathcal{I}(q'')](img/81ef6948e7eae930219c89139e4c547c.png)
    in **I.2)**: ![q'' \alpha ''(q'')+\alpha (q'')=\frac{\int_{q''}^{\infty } p[q]
    \alpha (q) \, dq}{1-P[q'']}](img/0911e73aedf4a64b152ce1427066c9ca.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'C. Take a ![\frac{d}{dq''}](img/028b3ae25ed07595638d037a4343414c.png) of B.:
    ![q'' \alpha ''''(q'')+2 \alpha ''(q'')=\frac{P''[q''] (\int_{q''}^{\infty } p[q]
    \alpha (q) \, dq)}{(1-P[q''])^2}-\frac{p[q''] \alpha (q'')}{1-P[q'']}](img/c9e855418b9820174f4ad742f4d60209.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'D. Plug B. into C. to eliminate the integral: ![q'' \alpha ''''(q'')+2 \alpha
    ''(q'')=\frac{P''[q''] (q'' \alpha ''(q'')+\alpha (q''))}{1-P[q'']}-\frac{p[q'']
    \alpha (q'')}{1-P[q'']}](img/e4977cc328eef06860905f93dfe3051b.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'E. Use ![P''[q'']=p[q'']](img/2429f0561839132227595e83fe69a389.png): ![\alpha
    ''(q'') (2-\frac{q'' p(q'')}{1-P(q'')})+q'' \alpha ''''(q'')=0](img/0bef0e93f69c3e1215cccff4c3624a69.png)'
  prefs: []
  type: TYPE_NORMAL
- en: F. And for clarity, we can change variables from ![q' \rightarrow q](img/c286dcbdd102345b28f6f0e9340c8ded.png),
    and divide by ![q](img/d5dff62051727d5390f29a8eb12a4588.png) (since we’re not
    interested in the ODE when ![q=0](img/da2865d01b5bfba0df35cd336ad2b0a7.png)).
  prefs: []
  type: TYPE_NORMAL
- en: '[[9](#9fp)] There’s a helpful graphic on p20 of this [presentation](http://market-microstructure.institutlouisbachelier.org/uploads/91_3%20WAELBROECK%20Paris2014_HWaelbroeck%20Short.pdf).'
  prefs: []
  type: TYPE_NORMAL
- en: '[[10](#10fp)] This equivalence comes from ODE uniqueness and applies more generally
    than the model here. Latent liquidity models have a similar feature. In [latent
    liquidity](https://arxiv.org/abs/1105.1694) models, traders submit orders when
    the market approaches a price that appeals to them. In addition to their intuitive
    appeal, latent liquidity models predict square-root impact under a fairly [wide
    variety](https://arxiv.org/abs/1412.0141) of circumstances.'
  prefs: []
  type: TYPE_NORMAL
- en: It’s helpful to visualize how price movements change the balance of buy and
    sell meta-orders. Let’s call ![N_{s}(q)](img/5693818eb1e7c7d4da49e855add7daf3.png)
    the number of meta-orders, of size ![q](img/d5dff62051727d5390f29a8eb12a4588.png),
    live in the market at a given situation ![s](img/ab1230707c8986af9d98cc24d293d09a.png)
    (a negative ![q](img/d5dff62051727d5390f29a8eb12a4588.png) indicates a sell meta-order).
    When supply and demand are in balance, we have ![\sum_{q=-\infty}^{\infty} qN_{s}(q)
    = 0](img/519cf4ab28af1e8876152670c6bbceea.png) (buy volume equals sell volume).
  prefs: []
  type: TYPE_NORMAL
- en: 'Say a new meta-order of size ![q''](img/907ba789ae50190e0a9a33fca2f1d4b8.png)
    enters the market and disrupts the equilibrium. This changes the price by ![\delta_{s}(q'')](img/1ef08fdff447953e548b680d4e4a0f8a.png),
    and morphs ![N_{s}(q)](img/5693818eb1e7c7d4da49e855add7daf3.png) into a new function
    ![N_{s}(q, \delta_{s}(q''))](img/63219b78e1cefe822b9b24b31efed65e.png), with ![\sum_{q=-\infty}^{\infty}
    qN_{s}(q, \delta_{s}(q'')) = -q''](img/da6c5f74f0eaed8e7c02576352a7d1b6.png).
    I.e., a new buy meta-order will fully execute only if the right volume of new
    sell meta-orders appear and/or buy meta-orders disappear. Here is a stylized illustration:'
  prefs: []
  type: TYPE_NORMAL
- en: '[![preAndPostImpactHistogram](img/246d98ee396f82af1a0b42f80bdcf94a.png)](https://mechanicalmarkets.wordpress.com/wp-content/uploads/2016/07/preandpostimpacthistogram1.png)'
  prefs: []
  type: TYPE_NORMAL
- en: Pre-impact (blue) and post-impact (orange) distributions of meta-order sizes
    live in the market, at an arbitrary situation ![s](img/ab1230707c8986af9d98cc24d293d09a.png).
    Before a new buy meta-order (red) enters the market, the volume between buy and
    sell meta-orders is balanced. After the new meta-order begins trading, the distribution
    shifts to accommodate it. This shift is facilitated by a change in price, which
    incentivizes selling and disincentivizes buying.
  prefs: []
  type: TYPE_NORMAL
- en: By definition, ![\mathcal{I}(q) = \mathbf{E}_{s \in S}[\delta_{s}(q)]](img/1b2c99c64f00b95b6f9a04af73a18c5a.png),
    where the expectation is over all situations when a meta-order of size ![q](img/d5dff62051727d5390f29a8eb12a4588.png)
    might be submitted. Also by definition, ![N_{s}(q)](img/5693818eb1e7c7d4da49e855add7daf3.png)
    — if we assume that meta-orders are i.i.d. (which would preclude correlated trading
    behavior like herding) — is the empirical distribution function of meta-order
    sizes. So ![N_{s}(q)](img/5693818eb1e7c7d4da49e855add7daf3.png) and ![p[q]](img/5d86139ce74f8712def6c47b6b480c49.png)
    [have](https://en.wikipedia.org/wiki/Glivenko%E2%80%93Cantelli_theorem) the same
    shape if there are a large number of meta-orders live.
  prefs: []
  type: TYPE_NORMAL
- en: '[Donier, Bonart, Mastromatteo, and Bouchaud](https://arxiv.org/abs/1412.0141)
    show that a broad class of latent liquidity models predict similar impact functions.
    Fitting their impact function to empirical data would give a latent liquidity
    model’s essential parameters, which describe the equilibrium (or “stationary”)
    ![p[q]](img/5d86139ce74f8712def6c47b6b480c49.png), as well as how it gets warped
    into ![p[q,\delta]](img/b21ed463dd1c3b18bd9d21be3b2c41ed.png) when the price changes
    by ![\delta](img/8b02d17e61cfebcbcd1397b11edd78fa.png).'
  prefs: []
  type: TYPE_NORMAL
- en: '[[11](#11fp)] From the ODE: ![\frac{p[q]}{1 - P[q]} = \frac{\alpha''''(q)}{\alpha''(q)}
    + \frac{2}{q}](img/5e143982aceb3f58386fbe4c3ced7fcf.png). We can use **I.1)**
    to get ![\alpha(q)](img/a2601871842a7e281f0b1197e448d473.png) from ![\mathcal{I}(q)](img/d1fc49c3a5b2e624efc8605a1544b836.png),
    and thus find ![p[q]](img/5d86139ce74f8712def6c47b6b480c49.png) (for a continuous
    probability distribution, ![p[q] \propto \frac{p[q]}{1 - P[q]} e^{-\int\frac{p[q]}{1
    - P[q]}dq}](img/55d852a906e5f7d270a81d5b05e27469.png)).'
  prefs: []
  type: TYPE_NORMAL
- en: '[[12](#12fp)] That is, if ![a \neq 1](img/a9fd43d8193a8c5dcf8f383810af655c.png)
    : ![\alpha(q) = \frac{d}{1-a}+K \exp \left(\int_0^q \frac{(1-a) p[q'']}{1-P[q'']}
    \, dq''\right)](img/dba195cd171ae352909f71450844dbe7.png). And in the case that
    ![a=1](img/6e015b940fb24d0880c8a499b42d54ff.png) : ![\alpha(q) = d \int_0^q \frac{p[q'']}{P[q'']-1}
    \, dq''+K](img/c724bd340e3b31bce02b3a43b1ddd06c.png).'
  prefs: []
  type: TYPE_NORMAL
- en: '[[13](#13fp)] If fund managers knowingly let their AUM grow beyond the capacity
    of their strategies, then “overconfidence” might not be the right word. Then again,
    maybe it is. Clients presumably have confidence that their money managers will
    not overload their strategies.'
  prefs: []
  type: TYPE_NORMAL
- en: '[[14](#14fp)]'
  prefs: []
  type: TYPE_NORMAL
- en: 'A. Take a ![\frac{d}{dq}](img/2407d736534b3098338d45d30d9f45d0.png) of the
    fair pricing condition **I.1)**: ![\mathcal{I}(q)=q \alpha ''(q)+\alpha (q)](img/5a753489be079545d800d3a7ddd82f2f.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'B. Set equal to **III.2)**: ![q'' \alpha ''\left(q''\right)+\alpha \left(q''\right)=\frac{\int_{q''-q_d}^{\infty
    } p[q] \alpha (q) \, dq}{1-P[q''-q_d]}](img/3f206afad7d496e93332c3acd5498b52.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'C. Take a ![\frac{d}{dq''}](img/028b3ae25ed07595638d037a4343414c.png) : ![q''
    \alpha ''''\left(q''\right)+2 \alpha ''\left(q''\right)=\frac{P''[q''-q_d] \left(\int_{q''-q_d}^{\infty
    } p[q] \alpha (q) \, dq\right)}{\left(1-P[q''-q_d]\right){}^2}-\frac{p[q''-q_d]
    \alpha \left(q''-q_d\right)}{1-P[q''-q_d]}](img/09948181990df4d2c94c0ff1c5a4dadf.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'D. Substitute B. into C. to eliminate the integral: ![q'' \alpha ''''\left(q''\right)+2
    \alpha ''\left(q''\right)=\frac{\left(q'' \alpha ''\left(q''\right)+\alpha \left(q''\right)\right)
    P''[q''-q_d]}{1-P[q''-q_d]}-\frac{p[q''-q_d] \alpha \left(q''-q_d\right)}{1-P[q''-q_d]}](img/1f0006b4ee69c35353e6e8d14dfedabd.png)'
  prefs: []
  type: TYPE_NORMAL
- en: E. And use ![P'[q'-q_d]=p[q'-q_d]](img/23cc5b619ac84a86fb42fe27075b4861.png)
    to get ![q \alpha ''(q) + \alpha '(q) \left(2-\frac{q p[q-q_d]}{1-P[q-q_d]}\right)-\left(\alpha
    (q)-\alpha (q-q_d)\right)\frac{p[q-q_d]}{1-P[q-q_d]}=0](img/1b8bd53608ad73dd8ff2c0576c799cfb.png)
  prefs: []
  type: TYPE_NORMAL
- en: '[[15](#15fp)] The solutions were generated with the following assumptions:'
  prefs: []
  type: TYPE_NORMAL
- en: '![q \sim Pareto[q_{min}=10^{-7},\beta=\frac{3}{2}]](img/530d4c2285ef234c4b11c6b59d82f53d.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Initial conditions for ![q_d=0](img/3a1567f73163a4889246decf86b6d1ef.png) :
    ![\alpha(q_{min})=10^{-5}, \alpha''(q_{min})=10^{3}](img/f7124b939e4f65c190f35ebd5409f27b.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Initial conditions for ![q_d=10^{-5}](img/b8e8c47fb89f266f4a5ff99b9182ed00.png)
    : ![\alpha(q_{min})=1.1 \times 10^{-4}, \alpha''(q_{min})=10^{-2}](img/5656d1674d112162d4b00fa86fca2c6a.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Initial conditions for ![q_d=10^{-2}](img/c63f6345be7b44dfab7bec3d5498770f.png)
    : ![\alpha(q_{min})=1.1 \times 10^{-4}, \alpha''(q_{min})=10^{-3}](img/31c8ab0f8e480120536ea802eaf9c0c6.png)'
  prefs: []
  type: TYPE_NORMAL
- en: The ![q_d=0](img/3a1567f73163a4889246decf86b6d1ef.png) solution was generated
    from the ODE of **I.1)**.
  prefs: []
  type: TYPE_NORMAL
- en: '[[16](#16fp)] [Here’s](http://www.ft.com/intl/cms/s/0/80ce4970-527c-11e5-8642-453585f2cfcd.html)
    Robin Wigglesworth on one reason bank market-makers like trade reporting delays:'
  prefs: []
  type: TYPE_NORMAL
- en: These days, bank traders are loath or unable to sit on big positions due to
    regulatory restrictions. Even if an asset manager is willing to offload his position
    to a dealer at a deep discount, the price they agree will swiftly go out to the
    entire market through Trace, hamstringing the trader’s ability to **offload it
    quickly**. [Emphasis added]
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[[17](#17fp)] I don’t know whether bond liquidity provision is sufficiently
    competitive, but it has notoriously high barriers to entry.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Even for exchange-traded products, subsidizing market-makers with an informational
    advantage requires great care. E.g., for products that are 1-tick wide with thick
    order books, it’s possible that market-makers monetize most of the benefit of
    delayed trade reporting. On these products, market-makers may submit small orders
    at strategic places in the queue to receive advance warning of large trades. Matt
    Hurd calls these orders “[canaries](http://meanderful.blogspot.com/2013/05/well-known-trading-secrets-become-public.html).”
    If only a handful of HFTs use canaries, a large aggressor won’t receive meaningful
    size-improvement, but the HFTs will have a brief window where they can advantageously
    trade correlated products. To be clear, canaries don’t hurt the aggressor at all
    (unless she simultaneously and sloppily trades these correlated products), but
    they don’t help much either. Here’s a hypothetical example:'
  prefs: []
  type: TYPE_NORMAL
- en: 1\. Canary orders make up 5% of the queue for S&P 500 futures (ES).
  prefs: []
  type: TYPE_NORMAL
- en: 2\. A fundamental trader sweeps ES, and the canaries give her a 5% larger fill.
  prefs: []
  type: TYPE_NORMAL
- en: 3\. The canary traders learn about the sweep before the broader market, and
    use that info to trade correlated products (e.g. FX, rates, energy, cash equities).
  prefs: []
  type: TYPE_NORMAL
- en: Most likely, the fundamental trader had no interest in trading those products,
    so she received 5% size-improvement for free. But, if more HFTs had been using
    canaries, their profits would’ve been lower and maybe she could’ve received 10%
    size-improvement. The question is whether the number of HFTs competing over these
    strategies is large enough to maximize the size-improvement for our fundamental
    trader. You could argue that 5% size-improvement is better than zero, but delaying
    public market data does have costs, such as reduced certainty and wider spreads.
  prefs: []
  type: TYPE_NORMAL
- en: '[[18](#18fp)] If ![q_d](img/6d19b904fb6df88428bb26a244f2c6ea.png) were intentionally
    changed by altering market structure, there’d probably be corresponding changes
    in the distribution of ![q](img/d5dff62051727d5390f29a8eb12a4588.png) and the
    initial conditions. These changes could counteract the anticipated effects.'
  prefs: []
  type: TYPE_NORMAL
- en: '[[19](#19fp)] A more competition-friendly version might be for exchange latency-structure
    to allow canaries. But the loss of transparency from delaying market data may
    itself be anti-competitive. E.g., if ES immediately transmitted execution reports,
    and delayed market data by 10ms, then market-makers would only be able to quote
    competing products (like SPY) when they have canary orders live in ES. Requiring
    traders on competing venues to also trade on your venue doesn’t sound very competition-friendly.'
  prefs: []
  type: TYPE_NORMAL
- en: '[[20](#20fp)]'
  prefs: []
  type: TYPE_NORMAL
- en: 'A. Since ![\mathcal{I}](img/8700abac086fcc35177f347646a6558f.png) is piecewise,
    split the fair pricing integral **I.1)** into the relevant two regions: ![\alpha(q_{tot})
    = \frac{1}{q_{tot}} \left( \int_0^{q_{tot}-q_{FR}} \mathcal{I}(q_{tot},q_{executed})
    dq_{executed} + \int_{q_{tot}-q_{FR}}^{q_{tot}} \mathcal{I}(q_{tot},q_{executed})
    dq_{executed} \right)](img/81f8986ae35554f1435a9855ab02afdd.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'B. Plugging in **IV.2)** to A.:'
  prefs: []
  type: TYPE_NORMAL
- en: '![q_{tot}\alpha(q_{tot}) = \int_0^{q_{tot}-q_{FR}} \frac{\int_{q_{executed}+q_{FR}}^{\infty
    } p[q] \alpha (q) \, dq}{1-P[q_{executed}+q_{FR}]} \, dq_{executed}+q_{FR} \alpha(q_{tot})
    ](img/b2f6911b478b486357aea2910e8157fc.png)'
  prefs: []
  type: TYPE_IMG
- en: 'C. Take a ![\frac{\partial}{\partial q_{tot}}](img/28cbfec2574083d8c7c031bd8bc63f4d.png)
    : ![q_{FR} \alpha ''(q_{tot})+\frac{\int_{q_{tot}}^{\infty } p[q] \alpha (q) \,
    dq}{1-P[q_{tot}]}=q_{tot} \alpha ''(q_{tot})+\alpha (q_{tot})](img/269a4ee2d2c06dc0211661fdab910508.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'D. Take another ![\frac{\partial}{\partial q_{tot}}](img/28cbfec2574083d8c7c031bd8bc63f4d.png)
    : ![q_{FR} \alpha ''''(q_{tot})+\frac{P''[q_{tot}] (\int_{q_{tot}}^{\infty } p[q]
    \alpha (q) \, dq)}{(1-P[q_{tot}])^2}-\frac{p[q_{tot}] \alpha(q_{tot})}{1-P[q_{tot}]}=q_{tot}
    \alpha ''''(q_{tot})+2 \alpha ''(q_{tot})](img/f6ba00fb79434a8ad8e20b4292109060.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'E. Subsitute C. into D. to eliminate the integral, and use ![P''[q_{tot}] =
    p[q_{tot}]](img/c8e2b336bd45205b01fb2af64f21af2f.png) : ![\alpha ''\left(q_{\text{tot}}\right)
    \left(2-\frac{\left(q_{\text{tot}}-q_{\text{FR}}\right) p[q_{\text{tot}}]}{1-P[q_{\text{tot}}]}\right)+\left(q_{\text{tot}}-q_{\text{FR}}\right)
    \alpha ''''\left(q_{\text{tot}}\right)=0](img/c436e11713cc752d1a32ed88609fc138.png)'
  prefs: []
  type: TYPE_NORMAL
- en: '[[21](#21fp)] The value of HFTs’ information will decay in a complex manner
    over the span of their predicted time period. An HFT might predict 30-second returns
    and submit orders within 100us of a change in its prediction. If that prediction
    maintained its value for the entire 30 seconds (becoming valueless at 31 seconds),
    then the HFT wouldn’t need to react so quickly. High-frequency traders, almost
    by definition, are characterized by having to compete for profit from their signals.
    From the instant they obtain their information, it starts decaying in value.'
  prefs: []
  type: TYPE_NORMAL
- en: '[[22](#22fp)] Thanks to Mathematica.'
  prefs: []
  type: TYPE_NORMAL
- en: '![q g(q,u)^2 \alpha ^{(2,1)}(q,u) = g(q,u) \left(g^{(1,0)}(q,u) \alpha ^{(0,1)}(q,u)+q
    g^{(1,0)}(q,u) \alpha ^{(1,1)}(q,u) + q g^{(1,1)}(q,u) \alpha ^{(1,0)}(q,u)+g^{(0,1)}(q,u)
    \left(2 \alpha ^{(1,0)}(q,u)+q \alpha ^{(2,0)}(q,u)\right)+g^{(1,1)}(q,u) \alpha
    (q,u)\right) - 2 g^{(0,1)}(q,u) g^{(1,0)}(q,u) \left(q \alpha ^{(1,0)}(q,u)+\alpha
    (q,u)\right)+g(q,u)^3 p(q,u) \alpha (q,u)-2 g(q,u)^2 \alpha ^{(1,1)}(q,u) ](img/90f7a48b7fa8a6e643637cd0ddf66937.png)'
  prefs: []
  type: TYPE_IMG
- en: With ![g\left(q,u\right) = \frac{1}{1 - P[q,\infty] - P[\infty,u] + P[q,u]}](img/9b3e9a213f572fbea82a549aae257230.png)
  prefs: []
  type: TYPE_NORMAL
- en: 'The procedure is to plug **V.2)** into **V.1)** and take 2 ![q](img/d5dff62051727d5390f29a8eb12a4588.png)
    partial derivatives and 1 ![u](img/ed2bda96ce6ef739f5a610bae69f3b6e.png) partial:'
  prefs: []
  type: TYPE_NORMAL
- en: 'A. Inserting **V.2)** into **V.1)**: ![\alpha \left(q,u''\right)=\frac{\int_0^q
    g\left(q'',u''\right) \int_{u''}^{\infty} \left(\int_{q''}^{\infty} p(q'''',u)
    \alpha (q'''',u) \, dq''''\right) \, du \, dq''}{q} ](img/eddcda9c107a1ab96cd0f38ee1529b06.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'B. Take a ![\frac{\partial}{\partial q}](img/42626a197f6247bec6ea85125f45abba.png)
    : ![\alpha ^{(1,0)}\left(q,u''\right)=\frac{g\left(q,u''\right) \int_{u''}^{\infty}
    \left(\int_q^{\infty} p(q'''',u) \alpha (q'''',u) \, dq''''\right) \, du}{q}-\frac{\int_0^q
    g\left(q'',u''\right) \int_{u''}^{\infty} \left(\int_{q''}^{\infty} p(q'''',u)
    \alpha (q'''',u) \, dq''''\right) \, du \, dq''}{q^2} ](img/8f054924599fe43c005a0bc01a5a28fc.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'C. Substitute A. into B. to eliminate integrals where applicable: ![\alpha
    ^{(1,0)}\left(q,u''\right)=\frac{g\left(q,u''\right) \int_{u''}^{\infty} \left(\int_q^{\infty}
    p(q'''',u) \alpha (q'''',u) \, dq''''\right) \, du}{q}-\frac{\alpha \left(q,u''\right)}{q}](img/87f9c014f29ae2d10c3b4fd78c31fdf4.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'D. Take another ![\frac{\partial}{\partial q}](img/42626a197f6247bec6ea85125f45abba.png)
    : ![\alpha ^{(2,0)}\left(q,u''\right)=\frac{g^{(1,0)}\left(q,u''\right) \int_{u''}^{\infty}
    \left(\int_q^{\infty} p(q'''',u) \alpha (q'''',u) \, dq''''\right) \, du}{q}-\frac{g\left(q,u''\right)
    \int_{u''}^{\infty} \left(\int_q^{\infty} p(q'''',u) \alpha (q'''',u) \, dq''''\right)
    \, du}{q^2}-\frac{g\left(q,u''\right) \int_{u''}^{\infty} p(q,u) \alpha (q,u)
    \, du}{q}+\frac{\alpha \left(q,u''\right)}{q^2}-\frac{\alpha ^{(1,0)}\left(q,u''\right)}{q}](img/4b7834f38928959c62ce93832dc257ee.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'E. Substitute C. into D to eliminate integrals where applicable: ![\alpha ^{(2,0)}\left(q,u''\right)=\frac{g^{(1,0)}\left(q,u''\right)
    \left(\alpha ^{(1,0)}\left(q,u''\right)+\frac{\alpha \left(q,u''\right)}{q}\right)}{g\left(q,u''\right)}-\frac{g\left(q,u''\right)
    \int_{u''}^{\infty} p(q,u) \alpha (q,u) \, du}{q}-\frac{2 \alpha ^{(1,0)}\left(q,u''\right)}{q}](img/750845b2e5fa5c503681374cf109be92.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'F. Take a ![\frac{\partial}{\partial u''}](img/ff710af6cf80434815a51b57c817c71e.png)
    : ![\alpha ^{(2,1)}\left(q,u''\right)=\frac{-g^{(0,1)}\left(q,u''\right) \left(\int_{u''}^{\infty}
    p(q,u) \alpha (q,u) \, du\right)}{q}+\frac{g^{(1,1)}\left(q,u''\right) \left(\alpha
    ^{(1,0)}\left(q,u''\right)+\frac{\alpha \left(q,u''\right)}{q}\right)}{g\left(q,u''\right)}+\frac{g^{(1,0)}\left(q,u''\right)
    \left(\frac{\alpha ^{(0,1)}\left(q,u''\right)}{q}+\alpha ^{(1,1)}\left(q,u''\right)\right)}{g\left(q,u''\right)}-\frac{g^{(0,1)}\left(q,u''\right)
    g^{(1,0)}\left(q,u''\right) \left(\alpha ^{(1,0)}\left(q,u''\right)+\frac{\alpha
    \left(q,u''\right)}{q}\right)}{g\left(q,u''\right)^2}+\frac{g\left(q,u''\right)
    p\left(q,u''\right) \alpha \left(q,u''\right)}{q}-\frac{2 \alpha ^{(1,1)}\left(q,u''\right)}{q}](img/6e09e1d1be605dbb5f0617c2a6e693ae.png)'
  prefs: []
  type: TYPE_NORMAL
- en: G. To get the result, substitute E. into F. to eliminate integrals where applicable.
  prefs: []
  type: TYPE_NORMAL
- en: '[[23](#23fp)] I could be wrong, and it’s hard to define what “reasonable” solutions
    look like. But I checked this three ways:'
  prefs: []
  type: TYPE_NORMAL
- en: 1\. I tried numerically solving for ![\alpha](img/3216b6675f782128cece44240e17b9bf.png)
    (and thus ![\mathcal{I}](img/8700abac086fcc35177f347646a6558f.png)) assuming various
    joint probability distributions ![p[q,u]](img/7f00fc41b8787811e24be2eed3dbb09f.png)
    — where ![q](img/d5dff62051727d5390f29a8eb12a4588.png) and ![u](img/ed2bda96ce6ef739f5a610bae69f3b6e.png)
    are dependent and generated by functions of Weibull, Pareto, Log-Normal, or Stable
    random variables. I didn’t see any solutions where ![\alpha](img/3216b6675f782128cece44240e17b9bf.png)
    and ![\mathcal{I}](img/8700abac086fcc35177f347646a6558f.png) had significant ![u](img/ed2bda96ce6ef739f5a610bae69f3b6e.png)
    -dependence without simultaneously having some other ridiculous feature (e.g.
    an infinity at small ![q](img/d5dff62051727d5390f29a8eb12a4588.png)).
  prefs: []
  type: TYPE_NORMAL
- en: 2\. I tried assuming ![\alpha(q,u)](img/7ccddce58fbbe6cbf81dc3464cc0714f.png)
    had a few reasonable forms (e.g. ![\alpha(q,u) \propto q^x u^{-y}](img/590552d20dfa2318ddb4d8a9eaf829e8.png))
    and solving numerically for ![p[q,u]](img/7f00fc41b8787811e24be2eed3dbb09f.png).
    All the solutions I saw were not probability distributions (e.g. had negative
    probabilities).
  prefs: []
  type: TYPE_NORMAL
- en: 3\. It’s possible to solve the two integral equations directly if we assume
    that ![p](img/daecc39de4dc7417beb137da548b5756.png) and ![q](img/d5dff62051727d5390f29a8eb12a4588.png)
    are independent (![p[q,u]=p_q[q]p_u[u]](img/3e9ee12d1ef5bcc08e032f4b63764e4a.png))
    and the solutions are separable (![\alpha(q,u)=\alpha_q(q)\alpha_u(u)](img/d7ca5f47c9303570d6216c31b3b51a1c.png)
    and ![\mathcal{I}(q,u)=\mathcal{I}_q(q)\mathcal{I}_u(u)](img/cefa4cb1fea6386d346c0a644b466389.png)).
    In this case, ![\mathcal{I}_q(q)](img/b393a8068b465a9cb9e2e2d8a7a5fcc4.png) and
    ![\alpha_q(q)](img/0fa42af827a934d6806f97cfaf69ad42.png) obey the same ODE as
    the original time-independent system in part **I**. And ![\alpha_u(u)=\mathcal{I}_u(u)=
    constant](img/24ab05fb0668c141bde166c9a2dc0bb0.png), which isn’t realistic.
  prefs: []
  type: TYPE_NORMAL
