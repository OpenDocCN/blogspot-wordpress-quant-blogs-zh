- en: <!--yml
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: <!--yml
- en: 'category: 未分类'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 类别：未分类
- en: 'date: 2024-05-12 19:55:07'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 日期：2024年5月12日19:55:07
- en: -->
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: -->
- en: 'Falkenblog: LvR, Impermanent Loss, Theta, and Arbitrage Profits'
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 'Falkenblog: LvR, Impermanent Loss, Theta, and Arbitrage Profits'
- en: 来源：[http://falkenblog.blogspot.com/2024/03/lvr-impermanent-loss-theta-and.html#0001-01-01](http://falkenblog.blogspot.com/2024/03/lvr-impermanent-loss-theta-and.html#0001-01-01)
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 来源：[http://falkenblog.blogspot.com/2024/03/lvr-impermanent-loss-theta-and.html#0001-01-01](http://falkenblog.blogspot.com/2024/03/lvr-impermanent-loss-theta-and.html#0001-01-01)
- en: Columbia professor Ciamac Moallemi, Uniswap's Adams, Reynolds, and Dan Robinson
    [released](https://arxiv.org/abs/2403.03367) a paper last week on recapturing
    some of the LP convexity costs by having the arbitrageurs bid for the right to
    trade at a reduced rate. I wanted to dive into that, but I thought it would be
    helpful to see how arbitrage profits relate to LP convexity costs, as this is
    not obvious. Further, people in this space use different terms and formulas for
    what I am calling the LP convexity costs, and it would be useful to clarify how
    they differ.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 哥伦比亚大学教授Ciamac Moallemi，Uniswap的Adams，Reynolds和Dan Robinson [发布](https://arxiv.org/abs/2403.03367)了一篇关于通过让套利者以降低的利率进行交易权竞价来重新获得一些LP凸度成本的文章上周。我想深入研究这一问题，但是我认为看到套利利润与LP凸度成本的关系可能会有所帮助，因为这点并不明显。而且，这个领域的人们使用不同的术语和公式来描述我所谓的LP几何成本，澄清它们的区别将是有用的。
- en: Ultimately, loss vs. rebalancing (LvR), impermanent loss (IL), convexity costs,
    and theta, represent the same thing. The estimation method for these metrics will
    use daily data generating random errors that become irrelevant due to the Law
    of Large Numbers. That is, resetting the IL benchmark each day is like hedging
    once a day or using daily data to estimate variance.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 最终，损失与再平衡（LvR），临时损失（IL），凸度成本和西塔代表同一件事。这些指标的估算方法将使用每日数据产生的随机误差，由于大数定律而变得不相关。也就是说，每天重置IL基准就像每天套期保值一次或使用每日数据估算方差。
- en: '**Impermanent Loss**'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '**永久损失**'
- en: The OG term for the peculiar LP cost in constant product AMMs is 'impermanent
    loss.' It was called that because while an LP could have a loss relative to their
    initial LP position, they would not lose money if the price moved back, implying
    that loss was not permanent. One could say that about any mark-to-market loss,
    but whatever, it's a commonly used term, and generally, people know what it means.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在常数产品自动做市商中，奇怪的LP成本的OG术语是“永久损失”。之所以这样称呼是因为虽然LP相对于其初始LP头寸可能有损失，但如果价格回落，他们将不会亏损，这意味着亏损不是永久的。对于任何一笔按市值计算的损失，都可以这么说，但是不论如何，这是一个常用的术语，并且通常人们知道这是什么意思。
- en: The basic idea was to compare the LP's current pool position with the original
    LP token deposit, though one can compare it to the prior tokens at any time in
    the past. I will use ETH and USDC as the tokens in my example, but the analysis
    generalizes to any tokens A and B, making it easier to intuit.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 基本思想是将LP的当前池位置与原始LP代币存款进行比较，尽管可以随时将其与过去的任何时间的代币进行比较。我将以ETH和USDC作为我的示例代币，但分析推广到任何代币A和B，使得直观性更强。
- en: An LP position is necessarily adversely selected, losing ETH when the price
    rises gaining ETH when its price falls. It is this change in token quantities
    that drives the IL.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: LP头寸必然被不利地选择，当价格上涨时损失ETH，当价格下跌时获得ETH。正是代币数量的变化推动了IL。
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="left"><mtr><mtd><mi>I</mi><mi>L</mi><mo>=</mo><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo
    stretchy="false">(</mo><mi>i</mi><mi>n</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>a</mi><mi>l</mi><mi>L</mi><mi>P</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>u</mi><mi>r</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>p</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi><mo
    stretchy="false">)</mo><mo>−</mo><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo
    stretchy="false">(</mo><mi>L</mi><mi>P</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>u</mi><mi>r</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>p</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi><mo
    stretchy="false">)</mo></mtd></mtr> <mtr><mtd><mi>I</mi><mi>L</mi><mo>=</mo> <mfenced
    close="}" open="{"><mrow><mi>U</mi><mi>S</mi> <msub><mi>D</mi> <mn>0</mn></msub>
    <mo>−</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi> <mn>0</mn></msub> <mo>⋅</mo> <msub><mi>p</mi>
    <mn>1</mn></msub></mrow></mfenced> <mo>−</mo> <mfenced close="}" open="{"><mrow><mi>U</mi><mi>S</mi>
    <msub><mi>D</mi> <mn>1</mn></msub> <mo>+</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi>
    <mn>1</mn></msub> <mo>⋅</mo> <msub><mi>p</mi> <mn>1</mn></msub></mrow></mfenced></mtd></mtr>
    <mtr><mtd><mi>I</mi><mi>L</mi><mo>=</mo> <mfenced close="}" open="{"><mrow><mi>U</mi><mi>S</mi>
    <msub><mi>D</mi> <mn>1</mn></msub> <mo>−</mo><mi>U</mi><mi>S</mi> <msub><mi>D</mi>
    <mn>0</mn></msub></mrow></mfenced> <mo>−</mo> <msub><mi>p</mi> <mn>1</mn></msub>
    <mfenced close="}" open="{"><mrow><mi>E</mi><mi>T</mi> <msub><mi>H</mi> <mn>1</mn></msub>
    <mo>−</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi> <mn>0</mn></msub></mrow></mfenced></mtd></mtr></mtable>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGceaqabeaacaWGjb
    Gaamitaiabg2da9iaadAfacaWGHbGaamiBaiaadwhacaWGLbGaaiik aiaadMgacaWGUbGaamyAaiaadshacaWGPbGaamyyaiaadYgacaqGGa
    GaamitaiaadcfacaqGGaGaamiCaiaad+gacaWGZbGaamyAaiaadsha caWGPbGaam4Baiaad6gacaqGGaGaamyyaiaadshacaqGGaGaam4yai
    aadwhacaWGYbGaamOCaiaadwgacaWGUbGaamiDaiaabccacaWGWbGa amOCaiaadMgacaWGJbGaamyzaiaacMcacqGHsislcaWGwbGaamyyai
    aadYgacaWG1bGaamyzaiaacIcacaWGmbGaamiuaiaabccacaWGHbGa amiDaiaabccacaWGJbGaamyDaiaadkhacaWGYbGaamyzaiaad6gaca
    WG0bGaaeiiaiaadchacaWGYbGaamyAaiaadogacaWGLbGaaiykaaqa aiaadMeacaWGmbGaeyypa0ZaaiWaaeaacaWGvbGaam4uaiaadseada
    WgaaWcbaGaaGimaaqabaGccqGHsislcaWGfbGaamivaiaadIeadaWg aaWcbaGaaGimaaqabaGccqGHflY1caWGWbWaaSbaaSqaaiaaigdaae
    qaaaGccaGL7bGaayzFaaGaeyOeI0YaaiWaaeaacaWGvbGaam4uaiaa dseadaWgaaWcbaGaaGymaaqabaGccqGHRaWkcaWGfbGaamivaiaadI
    eadaWgaaWcbaGaaGymaaqabaGccqGHflY1caWGWbWaaSbaaSqaaiaa igdaaeqaaaGccaGL7bGaayzFaaaabaGaamysaiaadYeacqGH9aqpda
    GadaqaaiaadwfacaWGtbGaamiramaaBaaaleaacaaIXaaabeaakiab gkHiTiaadwfacaWGtbGaamiramaaBaaaleaacaaIWaaabeaaaOGaay
    5Eaiaaw2haaiabgkHiTiaadchadaWgaaWcbaGaaGymaaqabaGcdaGa daqaaiaadweacaWGubGaamisamaaBaaaleaacaaIXaaabeaakiabgk
    HiTiaadweacaWGubGaamisamaaBaaaleaacaaIWaaabeaaaOGaay5E aiaaw2haaaaaaa@AF65@</annotation></semantics></math>
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="left"><mtr><mtd><mi>I</mi><mi>L</mi><mo>=</mo><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo
    stretchy="false">(</mo><mi>i</mi><mi>n</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>a</mi><mi>l</mi><mi>L</mi><mi>P</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>u</mi><mi>r</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>p</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi><mo
    stretchy="false">)</mo><mo>−</mo><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo
    stretchy="false">(</mo><mi>L</mi><mi>P</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>u</mi><mi>r</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>p</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi><mo
    stretchy="false">)</mo></mtd></mtr> <mtr><mtd><mi>I</mi><mi>L</mi><mo>=</mo> <mfenced
    close="}" open="{"><mrow><mi>U</mi><mi>S</mi> <msub><mi>D</mi> <mn>0</mn></msub>
    <mo>−</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi> <mn>0</mn></msub> <mo>⋅</mo> <msub><mi>p</mi>
    <mn>1</mn></msub></mrow></mfenced> <mo>−</mo> <mfenced close="}" open="{"><mrow><mi>U</mi><mi>S</mi>
    <msub><mi>D</mi> <mn>1</mn></msub> <mo>+</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi>
    <mn>1</mn></msub> <mo>⋅</mo> <msub><mi>p</mi> <mn>1</mn></msub></mrow></mfenced></mtd></mtr>
    <mtr><mtd><mi>I</mi><mi>L</mi><mo>=</mo> <mfenced close="}" open="{"><mrow><mi>U</mi><mi>S</mi>
    <msub><mi>D</mi> <mn>1</mn></msub> <mo>−</mo><mi>U</mi><mi>S</mi> <msub><mi>D</mi>
    <mn>0</mn></msub></mrow></mfenced> <mo>−</mo> <msub><mi>p</mi> <mn>1</mn></msub>
    <mfenced close="}" open="{"><mrow><mi>E</mi><mi>T</mi> <msub><mi>H</mi> <mn>1</mn></msub>
    <mo>−</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi> <mn>0</mn></msub></mrow></mfenced></mtd></mtr></mtable>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGceaqabeaacaWGjb
    Gaamitaiabg2da9iaadAfacaWGHbGaamiBaiaadwhacaWGLbGaaiik aiaadMgacaWGUbGaamyAaiaadshacaWGPbGaamyyaiaadYgacaqGGa
    GaamitaiaadcfacaqGGaGaamiCaiaad+gacaWGZbGaamyAaiaadsha caWGPbGaam4Baiaad6gacaqGGaGaamyyaiaadshacaqGGaGaam4yai
    aadwhacaWGYbGaamOCaiaadwgacaWGUbGaamiDaiaabccacaWGWbGa amOCaiaadMgacaWGJbGaamyzaiaacMcacqGHsislcaWGwbGaamyyai
    aadYgacaWG1bGaamyzaiaacIcacaWGmbGaamiuaiaabccacaWGHbGa amiDaiaabccacaWGJbGaamyDaiaadkhacaWGYbGaamyzaiaad6gaca
    WG0bGaaeiiaiaadchacaWGYbGaamyAaiaadogacaWGLbGaaiykaaqa aiaadMeacaWGmbGaeyypa0ZaaiWaaeaacaWGvbGaam4uaiaadseada
    WgaaWcbaGaaGimaaqabaGccqGHsislcaWGfbGaamivaiaadIeadaWg aaWcbaGaaGimaaqabaGccqGHflY1caWGWbWaaSbaaSqaaiaaigdaae
    qaaaGccaGL7bGaayzFaaGaeyOeI0YaaiWaaeaacaWGvbGaam4uaiaa dseadaWgaaWcbaGaaGymaaqabaGccqGHRaWkcaWGfbGaamivaiaadI
    eadaWgaaWcbaGaaGymaaqabaGccqGHflY1caWGWbWaaSbaaSqaaiaa igdaaeqaaaGccaGL7bGaayzFaaaabaGaamysaiaadYeacqGH9aqpda
    GadaqaaiaadwfacaWGtbGaamiramaaBaaaleaacaaIXaaabeaakiab gkHiTiaadwfacaWGtbGaamiramaaBaaaleaacaaIWaaabeaaaOGaay
    5Eaiaaw2haaiabgkHiTiaadchadaWgaaWcbaGaaGymaaqabaGcdaGa daqaaiaadweacaWGubGaamisamaaBaaaleaacaaIXaaabeaakiabgk
    HiTiaadweacaWGubGaamisamaaBaaaleaacaaIWaaabeaaaOGaay5E aiaaw2haaaaaaa@AF65@</annotation></semantics></math>
- en: This simplifies to a net token change valued at the ending price
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以简化为以结束价格价值为净代币变化
- en: 'Equation (1) - net LP token change: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>L</mi><mo>=</mo><mi>Δ</mi><mi>U</mi><mi>S</mi><mi>D</mi><mo>+</mo>
    <msub><mi>p</mi> <mn>1</mn></msub> <mo>⋅</mo><mi>Δ</mi><mi>E</mi><mi>T</mi><mi>H</mi></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamysaiaadY
    eacqGH9aqpcqqHuoarcaWGvbGaam4uaiaadseacqGHRaWkcaWGWbWa aSbaaSqaaiaaigdaaeqaaOGaeyyXICTaeuiLdqKaamyraiaadsfaca
    WGibaaaa@4564@</annotation></semantics></math>'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 方程（1）- 净LP代币变化：<math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>L</mi><mo>=</mo><mi>Δ</mi><mi>U</mi><mi>S</mi><mi>D</mi><mo>+</mo>
    <msub><mi>p</mi> <mn>1</mn></msub> <mo>⋅</mo><mi>Δ</mi><mi>E</mi><mi>T</mi><mi>H</mi></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamysaiaadY
    eacqGH9aqpcqqHuoarcaWGvbGaam4uaiaadseacqGHRaWkcaWGWbWa aSbaaSqaaiaaigdaaeqaaOGaeyyXICTaeuiLdqKaamyraiaadsfaca
    WGibaaaa@4564@</annotation></semantics></math>
- en: The AMM generates simple formulas for ΔETH and ΔUSD as a function of liquidity
    and price changes. Note these are the pool token changes, excluding fees.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: AMM为ΔETH和ΔUSD生成了以流动性和价格变化为函数的简单公式。注意这些是除了 fees 之外的池子代币变化。
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="left"><mtr><mtd><mi>Δ</mi><mi>E</mi><mi>T</mi><mi>H</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><mfrac bevelled="true"><mn>1</mn> <mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>1</mn></msub></mrow></msqrt></mrow></mfrac> <mo>−</mo> <mfrac bevelled="true"><mn>1</mn>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfenced></mtd></mtr>
    <mtr><mtd><mi>Δ</mi><mi>U</mi><mi>S</mi><mi>D</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mtd></mtr></mtable>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGceaqabeaacqqHuo
    arcaWGfbGaamivaiaadIeacqGH9aqpcaWGSbGaamyAaiaadghacqGH flY1daqadaqaamaaliaabaGaaGymaaqaamaakaaabaGaamiCamaaBa
    aaleaacaaIXaaabeaaaeqaaaaakiabgkHiTmaaliaabaGaaGymaaqa amaakaaabaGaamiCamaaBaaaleaacaaIWaaabeaaaeqaaaaaaOGaay
    jkaiaawMcaaaqaaiabfs5aejaadwfacaWGtbGaamiraiabg2da9iaa dYgacaWGPbGaamyCaiabgwSixpaabmaabaWaaOaaaeaacaWGWbWaaS
    baaSqaaiaaigdaaeqaaaqabaGccqGHsisldaGcaaqaaiaadchadaWg aaWcbaGaaGimaaqabaaabeaaaOGaayjkaiaawMcaaaaaaa@585A@</annotation></semantics></math>
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="left"><mtr><mtd><mi>Δ</mi><mi>E</mi><mi>T</mi><mi>H</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><mfrac bevelled="true"><mn>1</mn> <mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>1</mn></msub></mrow></msqrt></mrow></mfrac> <mo>−</mo> <mfrac bevelled="true"><mn>1</mn>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfenced></mtd></mtr>
    <mtr><mtd><mi>Δ</mi><mi>U</mi><mi>S</mi><mi>D</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mtd></mtr></mtable>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGceaqabeaacqqHuo
    arcaWGfbGaamivaiaadIeacqGH9aqpcaWGSbGaamyAaiaadghacqGH flY1daqadaqaamaaliaabaGaaGymaaqaamaakaaabaGaamiCamaaBa
    aaleaacaaIXaaabeaaaeqaaaaakiabgkHiTmaaliaabaGaaGymaaqa amaakaaabaGaamiCamaaBaaaleaacaaIWaaabeaaaeqaaaaaaOGaay
    jkaiaawMcaaaqaaiabfs5aejaadwfacaWGtbGaamiraiabg2da9iaa dYgacaWGPbGaamyCaiabgwSixpaabmaabaWaaOaaaeaacaWGWbWaaS
    baaSqaaiaaigdaaeqaaaqabaGccqGHsisldaGcaaqaaiaadchadaWg aaWcbaGaaGimaaqabaaabeaaaOGaayjkaiaawMcaaaaaaa@585A@</annotation></semantics></math>
- en: 'Plugging this in and doing algebra, we get a square-root function that, multiplied
    by liquidity, generates the second metric for the LP''s convexity cost:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 将其代入并进行代数运算，我们得到一个平方根函数，乘以流动性，生成了LP凸性成本的第二个度量：
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="left"><mtr><mtd><mi>I</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced>
    <mo>+</mo> <msub><mi>p</mi> <mn>1</mn></msub> <mo>⋅</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><mfrac bevelled="true"><mn>1</mn> <mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>1</mn></msub></mrow></msqrt></mrow></mfrac> <mo>−</mo> <mfrac bevelled="true"><mn>1</mn>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfenced></mtd></mtr>
    <mtr><mtd><mi>I</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt> <mo>+</mo>
    <msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt> <mo>−</mo> <mfrac
    bevelled="true"><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow> <mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfenced></mtd></mtr> <mtr><mtd><mi>I</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><mn>2</mn> <msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt> <mo>−</mo>
    <mfrac bevelled="true"><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow> <mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfenced></mtd></mtr> <mtr><mtd><mi>I</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><mfenced><mrow><mn>2</mn> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub>
    <msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt> <mo>−</mo> <msub><mi>p</mi>
    <mn>0</mn></msub> <mo>−</mo> <msub><mi>p</mi> <mn>1</mn></msub></mrow></mfenced></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mtd></mtr></mtable>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGceaqabeaacaWGjb
    Gaamitaiabg2da9iaadYgacaWGPbGaamyCaiabgwSixpaabmaabaWa aOaaaeaacaWGWbWaaSbaaSqaaiaaigdaaeqaaaqabaGccqGHsislda
    GcaaqaaiaadchadaWgaaWcbaGaaGimaaqabaaabeaaaOGaayjkaiaa wMcaaiabgUcaRiaadchadaWgaaWcbaGaaGymaaqabaGccqGHflY1ca
    WGSbGaamyAaiaadghacqGHflY1daqadaqaamaaliaabaGaaGymaaqa amaakaaabaGaamiCamaaBaaaleaacaaIXaaabeaaaeqaaaaakiabgk
    HiTmaaliaabaGaaGymaaqaamaakaaabaGaamiCamaaBaaaleaacaaI WaaabeaaaeqaaaaaaOGaayjkaiaawMcaaaqaaiaadMeacaWGmbGaey
    ypa0JaamiBaiaadMgacaWGXbGaeyyXIC9aaeWaaeaadaGcaaqaaiaa dchadaWgaaWcbaGaaGymaaqabaaabeaakiabgkHiTmaakaaabaGaam
    iCamaaBaaaleaacaaIWaaabeaaaeqaaOGaey4kaSYaaOaaaeaacaWG WbWaaSbaaSqaaiaaigdaaeqaaaqabaGccqGHsisldaWccaqaaiaadc
    hadaWgaaWcbaGaaGymaaqabaaakeaadaGcaaqaaiaadchadaWgaaWc baGaaGimaaqabaaabeaaaaaakiaawIcacaGLPaaaaeaacaWGjbGaam
    itaiabg2da9iaadYgacaWGPbGaamyCaiabgwSixpaabmaabaGaaGOm amaakaaabaGaamiCamaaBaaaleaacaaIXaaabeaaaeqaaOGaeyOeI0
    YaaOaaaeaacaWGWbWaaSbaaSqaaiaaicdaaeqaaaqabaGccqGHsisl daWccaqaaiaadchadaWgaaWcbaGaaGymaaqabaaakeaadaGcaaqaai
    aadchadaWgaaWcbaGaaGimaaqabaaabeaaaaaakiaawIcacaGLPaaa aeaacaWGjbGaamitaiabg2da9iaadYgacaWGPbGaamyCaiabgwSixp
    aalaaabaWaaeWaaeaacaaIYaWaaOaaaeaacaWGWbWaaSbaaSqaaiaa icdaaeqaaOGaamiCamaaBaaaleaacaaIXaaabeaaaeqaaOGaeyOeI0
    IaamiCamaaBaaaleaacaaIWaaabeaakiabgkHiTiaadchadaWgaaWc baGaaGymaaqabaaakiaawIcacaGLPaaaaeaadaGcaaqaaiaadchada
    WgaaWcbaGaaGimaaqabaaabeaaaaaaaaa@9566@</annotation></semantics></math>
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="left"><mtr><mtd><mi>I</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced>
    <mo>+</mo> <msub><mi>p</mi> <mn>1</mn></msub> <mo>⋅</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><mfrac bevelled="true"><mn>1</mn> <mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>1</mn></msub></mrow></msqrt></mrow></mfrac> <mo>−</mo> <mfrac bevelled="true"><mn>1</mn>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfenced></mtd></mtr>
    <mtr><mtd><mi>I</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt> <mo>+</mo>
    <msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt> <mo>−</mo> <mfrac
    bevelled="true"><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow> <mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfenced></mtd></mtr> <mtr><mtd><mi>I</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><mn>2</mn> <msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt> <mo>−</mo>
    <mfrac bevelled="true"><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow> <mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfenced></mtd></mtr> <mtr><mtd><mi>I</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><mfenced><mrow><mn>2</mn> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub>
    <msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt> <mo>−</mo> <msub><mi>p</mi>
    <mn>0</mn></msub> <mo>−</mo> <msub><mi>p</mi> <mn>1</mn></msub></mrow></mfenced></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mtd></mtr></mtable>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGceaqabeaacaWGjb
    Gaamitaiabg2da9iaadYgacaWGPbGaamyCaiabgwSixpaabmaabaWa aOaaaeaacaWGWbWaaSbaaSqaaiaaigdaaeqaaaqabaGccqGHsislda
    GcaaqaaiaadchadaWgaaWcbaGaaGimaaqabaaabeaaaOGaayjkaiaa wMcaaiabgUcaRiaadchadaWgaaWcbaGaaGymaaqabaGccqGHflY1ca
    WGSbGaamyAaiaadghacqGHflY1daqadaqaamaaliaabaGaaGymaaqa amaakaaabaGaamiCamaaBaaaleaacaaIXaaabeaaaeqaaaaakiabgk
    HiTmaaliaabaGaaGymaaqaamaakaaabaGaamiCamaaBaaaleaacaaI WaaabeaaaeqaaaaaaOGaayjkaiaawMcaaaqaaiaadMeacaWGmbGaey
    ypa0JaamiBaiaadMgacaWGXbGaeyyXIC9aaeWaaeaadaGcaaqaaiaa dchadaWgaaWcbaGaaGymaaqabaaabeaakiabgkHiTmaakaaabaGaam
    iCamaaBaaaleaacaaIWaaabeaaaeqaaOGaey4kaSYaaOaaaeaacaWG WbWaaSbaaSqaaiaaigdaaeqaaaqabaGccqGHsisldaWccaqaaiaadc
    hadaWgaaWcbaGaaGymaaqabaaakeaadaGcaaqaaiaadchadaWgaaWc baGaaGimaaqabaaabeaaaaaakiaawIcacaGLPaaaaeaacaWGjbGaam
    itaiabg2da9iaadYgacaWGPbGaamyCaiabgwSixpaabmaabaGaaGOm amaakaaabaGaamiCamaaBaaaleaacaaIXaaabeaaaeqaaOGaeyOeI0
    YaaOaaaeaacaWGWbWaaSbaaSqaaiaaicdaaeqaaaqabaGccqGHsisl daWccaqaaiaadchadaWgaaWcbaGaaGymaaqabaaakeaadaGcaaqaai
    aadchadaWgaaWcbaGaaGimaaqabaaabeaaaaaakiaawIcacaGLPaaa aeaacaWGjbGaamitaiabg2da9iaadYgacaWGPbGaamyCaiabgwSixp
    aalaaabaWaaeWaaeaacaaIYaWaaOaaaeaacaWGWbWaaSbaaSqaaiaa icdaaeqaaOGaamiCamaaBaaaleaacaaIXaaabeaaaeqaaOGaeyOeI0
    IaamiCamaaBaaaleaacaaIWaaabeaakiabgkHiTiaadchadaWgaaWc baGaaGymaaqabaaakiaawIcacaGLPaaaaeaadaGcaaqaaiaadchada
    WgaaWcbaGaaGimaaqabaaabeaaaaaaaaa@9566@</annotation></semantics></math>
- en: 'equation (2) - square of square roots: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>L</mi><mo>=</mo><mo>−</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msup><mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mn>2</mn></msup></mrow> <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamysaiaadY
    eacqGH9aqpcqGHsislcaWGSbGaamyAaiaadghacqGHflY1daWcaaqa amaabmaabaWaaOaaaeaacaWGWbWaaSbaaSqaaiaaigdaaeqaaaqaba
    GccqGHsisldaGcaaqaaiaadchadaWgaaWcbaGaaGimaaqabaaabeaa aOGaayjkaiaawMcaamaaCaaaleqabaGaaGOmaaaaaOqaamaakaaaba
    GaamiCamaaBaaaleaacaaIWaaabeaaaeqaaaaaaaa@47F6@</annotation></semantics></math>'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 方程式（2） - 平方根的平方： <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>L</mi><mo>=</mo><mo>−</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msup><mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mn>2</mn></msup></mrow> <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamysaiaadY
    eacqGH9aqpcqGHsislcaWGSbGaamyAaiaadghacqGHflY1daWcaaqa amaabmaabaWaaOaaaeaacaWGWbWaaSbaaSqaaiaaigdaaeqaaaqaba
    GccqGHsisldaGcaaqaaiaadchadaWgaaWcbaGaaGimaaqabaaabeaa aOGaayjkaiaawMcaamaaCaaaleqabaGaaGOmaaaaaOqaamaakaaaba
    GaamiCamaaBaaaleaacaaIWaaabeaaaeqaaaaaaaa@47F6@</annotation></semantics></math>
- en: '**Arbitrage Profit**'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '**套利利润**'
- en: As the LP's IL is based on net tokens coming in, someone took the opposite side;
    if the LPs net +1 ETH and −4000 USDC, traders net +1 ETH and −4000 USDC. As the
    LPs always lose money, the trader collective always makes money pre-fees.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 由于LP的IL是基于进入的净代币，某人持相反立场；如果LP的净+1 ETH和-4000 USDC，交易者的净+1 ETH和-4000 USDC。由于LP总是亏钱，交易者集体总是在收费前赚钱。
- en: The arbitrage profit is how much the arb is traded times the price changes.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 套利利润是套利交易次数乘以价格变动。
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>r</mi><mi>b</mi><mi>i</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>g</mi><mi>e</mi><mi>P</mi><mi>n</mi><mi>L</mi><mo>=</mo><mi>Δ</mi><mi>E</mi><mi>T</mi><mi>H</mi><mo>⋅</mo>
    <mfenced><mrow><msub><mi>p</mi> <mn>1</mn></msub> <mo>−</mo><mi>f</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>P</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi></mrow></mfenced></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamyqaiaadk
    hacaWGIbGaamyAaiaadshacaWGYbGaamyyaiaadEgacaWGLbGaamiu aiaad6gacaWGmbGaeyypa0JaeuiLdqKaamyraiaadsfacaWGibGaey
    yXIC9aaeWaaeaacaWGWbWaaSbaaSqaaiaaigdaaeqaaOGaeyOeI0Ia amOzaiaadMgacaWGSbGaamiBaiaadcfacaWGYbGaamyAaiaadogaca
    WGLbaacaGLOaGaayzkaaaaaa@5496@</annotation></semantics></math>
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>r</mi><mi>b</mi><mi>i</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>g</mi><mi>e</mi><mi>P</mi><mi>n</mi><mi>L</mi><mo>=</mo><mi>Δ</mi><mi>E</mi><mi>T</mi><mi>H</mi><mo>⋅</mo>
    <mfenced><mrow><msub><mi>p</mi> <mn>1</mn></msub> <mo>−</mo><mi>f</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>P</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi></mrow></mfenced></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamyqaiaadk
    hacaWGIbGaamyAaiaadshacaWGYbGaamyyaiaadEgacaWGLbGaamiu aiaad6gacaWGmbGaeyypa0JaeuiLdqKaamyraiaadsfacaWGibGaey
    yXIC9aaeWaaeaacaWGWbWaaSbaaSqaaiaaigdaaeqaaOGaeyOeI0Ia amOzaiaadMgacaWGSbGaamiBaiaadcfacaWGYbGaamyAaiaadogaca
    WGLbaacaGLOaGaayzkaaaaaa@5496@</annotation></semantics></math>
- en: We have the ΔETH function noted above, so we need the AMM fill price. This is
    the geometric mean of the starting and ending price.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 我们有上面提到的ΔETH函数，所以我们需要AMM成交价格。这是起始价格和结束价格的几何平均值。
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="left"><mtr><mtd><mi>f</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>P</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi><mo>=</mo>
    <mfrac><mrow><mi>Δ</mi><mi>U</mi><mi>S</mi><mi>D</mi></mrow> <mrow><mi>Δ</mi><mi>E</mi><mi>T</mi><mi>H</mi></mrow></mfrac>
    <mo>=</mo> <mfrac><mrow><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo> <mfenced><mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>1</mn></msub></mrow></msqrt> <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mrow><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo> <mfenced><mrow><mfrac bevelled="true"><mn>1</mn>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt></mrow></mfrac>
    <mo>−</mo> <mfrac bevelled="true"><mn>1</mn> <mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfenced></mrow></mfrac>
    <mo>=</mo> <mfrac><mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow></mfrac>
    <mo>⋅</mo> <mfrac><mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mrow><mfenced><mrow><mfrac bevelled="true"><mn>1</mn> <mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>1</mn></msub></mrow></msqrt></mrow></mfrac> <mo>−</mo> <mfrac bevelled="true"><mn>1</mn>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfenced></mrow></mfrac></mtd></mtr>
    <mtr><mtd><mi>f</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>P</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi><mo>=</mo>
    <mfrac><mrow><msub><mi>p</mi> <mn>1</mn></msub> <mo>+</mo> <msub><mi>p</mi> <mn>0</mn></msub>
    <mo>−</mo><mn>2</mn> <msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub> <mo>⋅</mo>
    <msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow> <mrow><mn>2</mn><mo>−</mo>
    <mfrac bevelled="true"><mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt></mrow></mfrac>
    <mo>−</mo> <mfrac bevelled="true"><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfrac></mtd></mtr>
    <mtr><mtd><mi>f</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>P</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi><mo>=</mo>
    <mfrac><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub> <mo>⋅</mo> <msub><mi>p</mi>
    <mn>0</mn></msub></mrow></msqrt> <mo>⋅</mo> <mfenced><mrow><mfrac bevelled="true"><mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>1</mn></msub></mrow></msqrt></mrow> <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac>
    <mo>+</mo> <mfrac bevelled="true"><mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt></mrow></mfrac>
    <mo>−</mo><mn>2</mn></mrow></mfenced></mrow> <mrow><mfenced><mrow><mn>2</mn><mo>−</mo>
    <mfrac bevelled="true"><mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt></mrow></mfrac>
    <mo>−</mo> <mfrac bevelled="true"><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfenced></mrow></mfrac></mtd></mtr>
    <mtr><mtd><mi>f</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>P</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi><mo>=</mo>
    <msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub> <mo>⋅</mo> <msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mtd></mtr></mtable>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGceaqabeaacaWGMb
    GaamyAaiaadYgacaWGSbGaamiuaiaadkhacaWGPbGaam4yaiaadwga cqGH9aqpdaWcaaqaaiabfs5aejaadwfacaWGtbGaamiraaqaaiabfs
    5aejaadweacaWGubGaamisaaaacqGH9aqpdaWcaaqaaiaadYgacaWG PbGaamyCaiabgwSixpaabmaabaWaaOaaaeaacaWGWbWaaSbaaSqaai
    aaigdaaeqaaaqabaGccqGHsisldaGcaaqaaiaadchadaWgaaWcbaGa aGimaaqabaaabeaaaOGaayjkaiaawMcaaaqaaiaadYgacaWGPbGaam
    yCaiabgwSixpaabmaabaWaaSGaaeaacaaIXaaabaWaaOaaaeaacaWG WbWaaSbaaSqaaiaaigdaaeqaaaqabaaaaOGaeyOeI0YaaSGaaeaaca
    aIXaaabaWaaOaaaeaacaWGWbWaaSbaaSqaaiaaicdaaeqaaaqabaaa aaGccaGLOaGaayzkaaaaaiabg2da9maalaaabaWaaeWaaeaadaGcaa
    qaaiaadchadaWgaaWcbaGaaGymaaqabaaabeaakiabgkHiTmaakaaa baGaamiCamaaBaaaleaacaaIWaaabeaaaeqaaaGccaGLOaGaayzkaa
    aabaWaaeWaaeaadaGcaaqaaiaadchadaWgaaWcbaGaaGymaaqabaaa beaakiabgkHiTmaakaaabaGaamiCamaaBaaaleaacaaIWaaabeaaae
    qaaaGccaGLOaGaayzkaaaaaiabgwSixpaalaaabaWaaeWaaeaadaGc aaqaaiaadchadaWgaaWcbaGaaGymaaqabaaabeaakiabgkHiTmaaka
    aabaGaamiCamaaBaaaleaacaaIWaaabeaaaeqaaaGccaGLOaGaayzk aaaabaWaaeWaaeaadaWccaqaaiaaigdaaeaadaGcaaqaaiaadchada
    WgaaWcbaGaaGymaaqabaaabeaaaaGccqGHsisldaWccaqaaiaaigda aeaadaGcaaqaaiaadchadaWgaaWcbaGaaGimaaqabaaabeaaaaaaki
    aawIcacaGLPaaaaaaabaGaamOzaiaadMgacaWGSbGaamiBaiaadcfa caWGYbGaamyAaiaadogacaWGLbGaeyypa0ZaaSaaaeaacaWGWbWaaS
    baaSqaaiaaigdaaeqaaOGaey4kaSIaamiCamaaBaaaleaacaaIWaaa beaakiabgkHiTiaaikdadaGcaaqaaiaadchadaWgaaWcbaGaaGymaa
    qabaGccqGHflY1caWGWbWaaSbaaSqaaiaaicdaaeqaaaqabaaakeaa caaIYaGaeyOeI0YaaSGaaeaadaGcaaqaaiaadchadaWgaaWcbaGaaG
    imaaqabaaabeaaaOqaamaakaaabaGaamiCamaaBaaaleaacaaIXaaa beaaaeqaaaaakiabgkHiTmaaliaabaWaaOaaaeaacaWGWbWaaSbaaS
    qaaiaaigdaaeqaaaqabaaakeaadaGcaaqaaiaadchadaWgaaWcbaGa aGimaaqabaaabeaaaaaaaaGcbaGaamOzaiaadMgacaWGSbGaamiBai
    aadcfacaWGYbGaamyAaiaadogacaWGLbGaeyypa0ZaaSaaaeaadaGc aaqaaiaadchadaWgaaWcbaGaaGymaaqabaGccqGHflY1caWGWbWaaS
    baaSqaaiaaicdaaeqaaaqabaGccqGHflY1daqadaqaamaaliaabaWa aOaaaeaacaWGWbWaaSbaaSqaaiaaigdaaeqaaaqabaaakeaadaGcaa
    qaaiaadchadaWgaaWcbaGaaGimaaqabaaabeaaaaGccqGHRaWkdaWc caqaamaakaaabaGaamiCamaaBaaaleaacaaIWaaabeaaaeqaaaGcba
    WaaOaaaeaacaWGWbWaaSbaaSqaaiaaigdaaeqaaaqabaaaaOGaeyOe I0IaaGOmaaGaayjkaiaawMcaaaqaamaabmaabaGaaGOmaiabgkHiTm
    aaliaabaWaaOaaaeaacaWGWbWaaSbaaSqaaiaaicdaaeqaaaqabaaa keaadaGcaaqaaiaadchadaWgaaWcbaGaaGymaaqabaaabeaaaaGccq
    GHsisldaWccaqaamaakaaabaGaamiCamaaBaaaleaacaaIXaaabeaa aeqaaaGcbaWaaOaaaeaacaWGWbWaaSbaaSqaaiaaicdaaeqaaaqaba
    aaaaGccaGLOaGaayzkaaaaaaqaaiaadAgacaWGPbGaamiBaiaadYga caWGqbGaamOCaiaadMgacaWGJbGaamyzaiabg2da9maakaaabaGaam
    iCamaaBaaaleaacaaIXaaabeaakiabgwSixlaadchadaWgaaWcbaGa aGimaaqabaaabeaaaaaa@D914@</annotation></semantics></math>
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="left"><mtr><mtd><mi>f</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>P</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi><mo>=</mo>
    <mfrac><mrow><mi>Δ</mi><mi>U</mi><mi>S</mi><mi>D</mi></mrow> <mrow><mi>Δ</mi><mi>E</mi><mi>T</mi><mi>H</mi></mrow></mfrac>
    <mo>=</mo> <mfrac><mrow><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo> <mfenced><mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>1</mn></msub></mrow></msqrt> <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mrow><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo> <mfenced><mrow><mfrac bevelled="true"><mn>1</mn>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt></mrow></mfrac>
    <mo>−</mo> <mfrac bevelled="true"><mn>1</mn> <mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfenced></mrow></mfrac>
    <mo>=</mo> <mfrac><mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow></mfrac>
    <mo>⋅</mo> <mfrac><mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mrow><mfenced><mrow><mfrac bevelled="true"><mn>1</mn> <mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>1</mn></msub></mrow></msqrt></mrow></mfrac> <mo>−</mo> <mfrac bevelled="true"><mn>1</mn>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfenced></mrow></mfrac></mtd></mtr>
    <mtr><mtd><mi>f</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>P</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi><mo>=</mo>
    <mfrac><mrow><msub><mi>p</mi> <mn>1</mn></msub> <mo>+</mo> <msub><mi>p</mi> <mn>0</mn></msub>
    <mo>−</mo><mn>2</mn> <msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub> <mo>⋅</mo>
    <msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow> <mrow><mn>2</mn><mo>−</mo>
    <mfrac bevelled="true"><mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt></mrow></mfrac>
    <mo>−</mo> <mfrac bevelled="true"><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfrac></mtd></mtr>
    <mtr><mtd><mi>f</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>P</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi><mo>=</mo>
    <mfrac><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub> <mo>⋅</mo> <msub><mi>p</mi>
    <mn>0</mn></msub></mrow></msqrt> <mo>⋅</mo> <mfenced><mrow><mfrac bevelled="true"><mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>1</mn></msub></mrow></msqrt></mrow> <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac>
    <mo>+</mo> <mfrac bevelled="true"><mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt></mrow></mfrac>
    <mo>−</mo><mn>2</mn></mrow></mfenced></mrow> <mrow><mfenced><mrow><mn>2</mn><mo>−</mo>
    <mfrac bevelled="true"><mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt></mrow></mfrac>
    <mo>−</mo> <mfrac bevelled="true"><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfenced></mrow></mfrac></mtd></mtr>
    <mtr><mtd><mi>f</mi><mi>i</mi><mi>l</mi><mi>l</mi><mi>P</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi><mo>=</mo>
    <msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub> <mo>⋅</mo> <msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mtd></mtr></mtable>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGceaqabeaacaWGMb
    GaamyAaiaadYgacaWGSbGaamiuaiaadkhacaWGPbGaam4yaiaadwga cqGH9aqpdaWcaaqaaiabfs5aejaadwfacaWGtbGaamiraaqaaiabfs
    5aejaadweacaWGubGaamisaaaacqGH9aqpdaWcaaqaaiaadYgacaWG PbGaamyCaiabgwSixpaabmaabaWaaOaaaeaacaWGWbWaaSbaaSqaai
    aaigdaaeqaaaqabaGccqGHsisldaGcaaqaaiaadchadaWgaaWcbaGa aGimaaqabaaabeaaaOGaayjkaiaawMcaaaqaaiaadYgacaWGPbGaam
    yCaiabgwSixpaabmaabaWaaSGaaeaacaaIXaaabaWaaOaaaeaacaWG WbWaaSbaaSqaaiaaigdaaeqaaaqabaaaaOGaeyOeI0YaaSGaaeaaca
    aIXaaabaWaaOaaaeaacaWGWbWaaSbaaSqaaiaaicdaaeqaaaqabaaa aaGccaGLOaGaayzkaaaaaiabg2da9maalaaabaWaaeWaaeaadaGcaa
    qaaiaadchadaWgaaWcbaGaaGymaaqabaaabeaakiabgkHiTmaakaaa baGaamiCamaaBaaaleaacaaIWaaabeaaaeqaaaGccaGLOaGaayzkaa
    aabaWaaeWaaeaadaGcaaqaaiaadchadaWgaaWcbaGaaGymaaqabaaa beaakiabgkHiTmaakaaabaGaamiCamaaBaaaleaacaaIWaaabeaaae
    qaaaGccaGLOaGaayzkaaaaaiabgwSixpaalaaabaWaaeWaaeaadaGc aaqaaiaadchadaWgaaWcbaGaaGymaaqabaaabeaakiabgkHiTmaaka
    aabaGaamiCamaaBaaaleaacaaIWaaabeaaaeqaaaGccaGLOaGaayzk aaaabaWaaeWaaeaadaWccaqaaiaaigdaaeaadaGcaaqaaiaadchada
    WgaaWcbaGaaGymaaqabaaabeaaaaGccqGHsisldaWccaqaaiaaigda aeaadaGcaaqaaiaadchadaWgaaWcbaGaaGimaaqabaaabeaaaaaaki
    aawIcacaGLPaaaaaaabaGaamOzaiaadMgacaWGSbGaamiBaiaadcfa caWGYbGaamyAaiaadogacaWGLbGaeyypa0ZaaSaaaeaacaWGWbWaaS
    baaSqaaiaaigdaaeqaaOGaey4kaSIaamiCamaaBaaaleaacaaIWaaa beaakiabgkHiTiaaikdadaGcaaqaaiaadchadaWgaaWcbaGaaGymaa
    qabaGccqGHflY1caWGWbWaaSbaaSqaaiaaicdaaeqaaaqabaaakeaa caaIYaGaeyOeI0YaaSGaaeaadaGcaaqaaiaadchadaWgaaWcbaGaaG
    imaaqabaaabeaaaOqaamaakaaabaGaamiCamaaBaaaleaacaaIXaaa beaaaeqaaaaakiabgkHiTmaaliaabaWaaOaaaeaacaWGWbWaaSbaaS
    qaaiaaigdaaeqaaaqabaaakeaadaGcaaqaaiaadchadaWgaaWcbaGa aGimaaqabaaabeaaaaaaaaGcbaGaamOzaiaadMgacaWGSbGaamiBai
    aadcfacaWGYbGaamyAaiaadogacaWGLbGaeyypa0ZaaSaaaeaadaGc aaqaaiaadchadaWgaaWcbaGaaGymaaqabaGccqGHflY1caWGWbWaaS
    baaSqaaiaaicdaaeqaaaqabaGccqGHflY1daqadaqaamaaliaabaWa aOaaaeaacaWGWbWaaSbaaSqaaiaaigdaaeqaaaqabaaakeaadaGcaa
    qaaiaadchadaWgaaWcbaGaaGimaaqabaaabeaaaaGccqGHRaWkdaWc caqaamaakaaabaGaamiCamaaBaaaleaacaaIWaaabeaaaeqaaaGcba
    WaaOaaaeaacaWGWbWaaSbaaSqaaiaaigdaaeqaaaqabaaaaOGaeyOe I0IaaGOmaaGaayjkaiaawMcaaaqaamaabmaabaGaaGOmaiabgkHiTm
    aaliaabaWaaOaaaeaacaWGWbWaaSbaaSqaaiaaicdaaeqaaaqabaaa keaadaGcaaqaaiaadchadaWgaaWcbaGaaGymaaqabaaabeaaaaGccq
    GHsisldaWccaqaamaakaaabaGaamiCamaaBaaaleaacaaIXaaabeaa aeqaaaGcbaWaaOaaaeaacaWGWbWaaSbaaSqaaiaaicdaaeqaaaqaba
    aaaaGccaGLOaGaayzkaaaaaaqaaiaadAgacaWGPbGaamiBaiaadYga caWGqbGaamOCaiaadMgacaWGJbGaamyzaiabg2da9maakaaabaGaam
    iCamaaBaaaleaacaaIXaaabeaakiabgwSixlaadchadaWgaaWcbaGa aGimaaqabaaabeaaaaaa@D914@</annotation></semantics></math>
- en: As the fill price is positive, I ignored the sign in the above algebra. Substituting
    the fill price and ETH delta formula into the original equation generates the
    negative of equation(2), the square root function above.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 由于成交价格为正，我在上面的代数中忽略了符号。将成交价格和ETH变化公式代入原方程式中，生成了方程式（2）的相反数，即上面的平方根函数。
- en: '|  | <math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable
    columnalign="left"><mtr><mtd><mi>A</mi><mi>r</mi><mi>b</mi><mi>i</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>g</mi><mi>e</mi><mi>P</mi><mi>n</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><mfrac bevelled="true"><mn>1</mn> <mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>1</mn></msub></mrow></msqrt></mrow></mfrac> <mo>−</mo> <mfrac bevelled="true"><mn>1</mn>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfenced>
    <mo>⋅</mo> <mfenced><mrow><msub><mi>p</mi> <mn>1</mn></msub> <mo>−</mo> <msqrt><mrow><msub><mi>p</mi>
    <mn>1</mn></msub> <msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mtd></mtr>
    <mtr><mtd><mi>A</mi><mi>r</mi><mi>b</mi><mi>i</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>g</mi><mi>e</mi><mi>P</mi><mi>n</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <mfrac bevelled="true"><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt> <mo>+</mo>
    <msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt></mrow></mfenced></mtd></mtr>
    <mtr><mtd><mi>A</mi><mi>r</mi><mi>b</mi><mi>i</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>g</mi><mi>e</mi><mi>P</mi><mi>n</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><mn>2</mn> <msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <mfrac bevelled="true"><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mtd></mtr>
    <mtr><mtd><mi>A</mi><mi>r</mi><mi>b</mi><mi>i</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>g</mi><mi>e</mi><mi>P</mi><mi>n</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><mfenced><mrow><mn>2</mn> <msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub>
    <mo>⋅</mo> <msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt> <mo>−</mo> <msub><mi>p</mi>
    <mn>1</mn></msub> <mo>−</mo> <msub><mi>p</mi> <mn>0</mn></msub></mrow></mfenced></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mtd></mtr>
    <mtr><mtd><mi>A</mi><mi>r</mi><mi>b</mi><mi>i</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>g</mi><mi>e</mi><mi>P</mi><mi>n</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msup><mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mn>2</mn></msup></mrow> <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mtd></mtr></mtable>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGceaqabeaacaWGbb
    GaamOCaiaadkgacaWGPbGaamiDaiaadkhacaWGHbGaam4zaiaadwga caWGqbGaamOBaiaadYeacqGH9aqpcaWGSbGaamyAaiaadghacqGHfl
    Y1daqadaqaamaaliaabaGaaGymaaqaamaakaaabaGaamiCamaaBaaa leaacaaIXaaabeaaaeqaaaaakiabgkHiTmaaliaabaGaaGymaaqaam
    aakaaabaGaamiCamaaBaaaleaacaaIWaaabeaaaeqaaaaaaOGaayjk aiaawMcaaiabgwSixpaabmaabaGaamiCamaaBaaaleaacaaIXaaabe
    aakiabgkHiTmaakaaabaGaamiCamaaBaaaleaacaaIXaaabeaakiaa dchadaWgaaWcbaGaaGimaaqabaaabeaaaOGaayjkaiaawMcaaaqaai
    aadgeacaWGYbGaamOyaiaadMgacaWG0bGaamOCaiaadggacaWGNbGa amyzaiaadcfacaWGUbGaamitaiabg2da9iaadYgacaWGPbGaamyCai
    abgwSixpaabmaabaWaaOaaaeaacaWGWbWaaSbaaSqaaiaaigdaaeqa aaqabaGccqGHsisldaWccaqaaiaadchadaWgaaWcbaGaaGymaaqaba
    aakeaadaGcaaqaaiaadchadaWgaaWcbaGaaGimaaqabaaabeaaaaGc cqGHsisldaGcaaqaaiaadchadaWgaaWcbaGaaGimaaqabaaabeaaki
    abgUcaRmaakaaabaGaamiCamaaBaaaleaacaaIXaaabeaaaeqaaaGc caGLOaGaayzkaaaabaGaamyqaiaadkhacaWGIbGaamyAaiaadshaca
    WGYbGaamyyaiaadEgacaWGLbGaamiuaiaad6gacaWGmbGaeyypa0Ja amiBaiaadMgacaWGXbGaeyyXIC9aaeWaaeaacaaIYaWaaOaaaeaaca
    WGWbWaaSbaaSqaaiaaigdaaeqaaaqabaGccqGHsisldaWccaqaaiaa dchadaWgaaWcbaGaaGymaaqabaaakeaadaGcaaqaaiaadchadaWgaa
    WcbaGaaGimaaqabaaabeaaaaGccqGHsisldaGcaaqaaiaadchadaWg aaWcbaGaaGimaaqabaaabeaaaOGaayjkaiaawMcaaaqaaiaadgeaca
    WGYbGaamOyaiaadMgacaWG0bGaamOCaiaadggacaWGNbGaamyzaiaa dcfacaWGUbGaamitaiabg2da9iaadYgacaWGPbGaamyCaiabgwSixp
    aalaaabaWaaeWaaeaacaaIYaWaaOaaaeaacaWGWbWaaSbaaSqaaiaa igdaaeqaaOGaeyyXICTaamiCamaaBaaaleaacaaIWaaabeaaaeqaaO
    GaeyOeI0IaamiCamaaBaaaleaacaaIXaaabeaakiabgkHiTiaadcha daWgaaWcbaGaaGimaaqabaaakiaawIcacaGLPaaaaeaadaGcaaqaai
    aadchadaWgaaWcbaGaaGimaaqabaaabeaaaaaakeaacaWGbbGaamOC aiaadkgacaWGPbGaamiDaiaadkhacaWGHbGaam4zaiaadwgacaWGqb
    GaamOBaiaadYeacqGH9aqpcaWGSbGaamyAaiaadghacqGHflY1daWc aaqaamaabmaabaWaaOaaaeaacaWGWbWaaSbaaSqaaiaaigdaaeqaaa
    qabaGccqGHsisldaGcaaqaaiaadchadaWgaaWcbaGaaGimaaqabaaa beaaaOGaayjkaiaawMcaamaaCaaaleqabaGaaGOmaaaaaOqaamaaka
    aabaGaamiCamaaBaaaleaacaaIWaaabeaaaeqaaaaaaaaa@D0D5@</annotation></semantics></math>
    |  |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '|  | <math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable
    columnalign="left"><mtr><mtd><mi>A</mi><mi>r</mi><mi>b</mi><mi>i</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>g</mi><mi>e</mi><mi>P</mi><mi>n</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><mfrac bevelled="true"><mn>1</mn> <mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>1</mn></msub></mrow></msqrt></mrow></mfrac> <mo>−</mo> <mfrac bevelled="true"><mn>1</mn>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow></mfenced>
    <mo>⋅</mo> <mfenced><mrow><msub><mi>p</mi> <mn>1</mn></msub> <mo>−</mo> <msqrt><mrow><msub><mi>p</mi>
    <mn>1</mn></msub> <msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mtd></mtr>
    <mtr><mtd><mi>A</mi><mi>r</mi><mi>b</mi><mi>i</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>g</mi><mi>e</mi><mi>P</mi><mi>n</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <mfrac bevelled="true"><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt> <mo>+</mo>
    <msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt></mrow></mfenced></mtd></mtr>
    <mtr><mtd><mi>A</mi><mi>r</mi><mi>b</mi><mi>i</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>g</mi><mi>e</mi><mi>P</mi><mi>n</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfenced><mrow><mn>2</mn> <msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <mfrac bevelled="true"><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mtd></mtr>
    <mtr><mtd><mi>A</mi><mi>r</mi><mi>b</mi><mi>i</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>g</mi><mi>e</mi><mi>P</mi><mi>n</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><mfenced><mrow><mn>2</mn> <msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub>
    <mo>⋅</mo> <msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt> <mo>−</mo> <msub><mi>p</mi>
    <mn>1</mn></msub> <mo>−</mo> <msub><mi>p</mi> <mn>0</mn></msub></mrow></mfenced></mrow>
    <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mtd></mtr>
    <mtr><mtd><mi>A</mi><mi>r</mi><mi>b</mi><mi>i</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>g</mi><mi>e</mi><mi>P</mi><mi>n</mi><mi>L</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msup><mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mn>2</mn></msup></mrow> <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mtd></mtr></mtable>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGceaqabeaacaWGbb
    GaamOCaiaadkgacaWGPbGaamiDaiaadkhacaWGHbGaam4zaiaadwga caWGqbGaamOBaiaadYeacqGH9aqpcaWGSbGaamyAaiaadghacqGHfl
    Y1daqadaqaamaaliaabaGaaGymaaqaamaakaaabaGaamiCamaaBaaa leaacaaIXaaabeaaaeqaaaaakiabgkHiTmaaliaabaGaaGymaaqaam
    aakaaabaGaamiCamaaBaaaleaacaaIWaaabeaaaeqaaaaaaOGaayjk aiaawMcaaiabgwSixpaabmaabaGaamiCamaaBaaaleaacaaIXaaabe
    aakiabgkHiTmaakaaabaGaamiCamaaBaaaleaacaaIXaaabeaakiaa dchadaWgaaWcbaGaaGimaaqabaaabeaaaOGaayjkaiaawMcaaaqaai
    aadgeacaWGYbGaamOyaiaadMgacaWG0bGaamOCaiaadggacaWGNbGa amyzaiaadcfacaWGUbGaamitaiabg2da9iaadYgacaWGPbGaamyCai
    abgwSixpaabmaabaWaaeWaaeaacaWGbbGaamOCaiaadkgacaWGPbGaa miDaiaadkhacaWGHbGaam4zaiaadwgaiaadwgacaWGqbGaamOBaiaad
    YeacqGH9aqpcaWGSbGaamyAaiaadghacqGHflY1daqadaqaamaalia abaGaaGymaaqaamaakaaabaGaamiCamaaBaaaleaacaaIWaaabeaaae
    qaaaaOGccaGLOaGaayzkaaGaamyyaiaad2gacaWGPbGaamyCaaGaay jkaiaawMcaaaGaayjkaiaawMcaaiabgwSixpaadmaabaWaaOaaaeaa
    caWGbbWaaSbaaSqaaiaaigdaaeqaaOGaaeiiaiaabIfaaeqaaaaaaaa a@D1A6@</annotation></semantics></math>
    |  |'
- en: Remember this arbitrage pnl number excludes fees, which are an expense to the
    arbitrageur. Looking at a net price movement over an interval will also include
    incidentally lucky noise traders instead of true arbitrageurs. However, the critical
    point is that we can see the fundamental symmetry of arbitrage revenue and an
    LP's convexity expense.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 记住这个套利 PNL 数字并没有包含手续费，手续费是套利者的开销。观察一个区间的净价格波动也会包含偶然的幸运噪音交易者而不是真正的套利者。然而，关键的一点是，我们可以看到套利收入和
    LP 凹性费用的基本对称性。
- en: '**Delta Hedged LP PnL**'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '**对冲 LP PnL**'
- en: The LP's position has a delta, or price risk, that can be hedged. We can apply
    this hedge to any frequency we want, where the complexity of handling more data
    offsets the benefit of more frequent hedging. Removing the delta generates a much
    more efficient estimate of an LP's pnl.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: LP的仓位存在着 delta，或者价格风险，可以进行套期保值。我们可以对任何频率应用这种套期保值，更频繁的套期保值会增加数据处理的复杂性，抵消更频繁套期保值的益处。去除
    delta 会得到 LP 位置 PNL 的更高效估计。
- en: The initial LP position is just {ETH, USDC}, so it is long whatever amount of
    ETH they deposited. The LP can just eyeball his ETH position to determine his
    hedge amount.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 初始 LP 位置只是 {ETH, USDC}，因此它对存入的 ETH 持有着多少仓位。LP 可以简单地眼测他的 ETH 位置来确定他的对冲数量。
- en: Position = USD[0] + ETH[0]*p[0]
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 仓位 = USD[0] + ETH[0]*p[0]
- en: 'The delta for an LP position can be confirmed by doing the math:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: LP位置的 delta 可以通过进行数学计算来确认：
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>d</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi>
    <msub><mi>e</mi> <mrow><mi>L</mi><mi>P</mi></mrow></msub></mrow> <mrow><mo>∂</mo><mi>p</mi></mrow></mfrac>
    <mo>=</mo><mi>d</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mo>=</mo><mi>Δ</mi><mo>=</mo>
    <mfrac><mrow><mi>l</mi><mi>i</mi><mi>q</mi></mrow> <mrow><msqrt><mi>p</mi></msqrt></mrow></mfrac>
    <mo>=</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi> <mrow><mi>L</mi><mi>P</mi></mrow></msub></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaWaaSaaaeaaca
    WGKbGaamOvaiaadggacaWGSbGaamyDaiaadwgadaWgaaWcbaGaamit aiaadcfaaeqaaaGcbaGaeyOaIyRaamiCaaaacqGH9aqpcaWGKbGaam
    yzaiaadYgacaWG0bGaamyyaiabg2da9iabfs5aejabg2da9maalaaa baGaamiBaiaadMgacaWGXbaabaWaaOaaaeaacaWGWbaaleqaaaaaki
    abg2da9iaadweacaWGubGaamisamaaBaaaleaacaWGmbGaamiuaaqa baaaaa@521E@</annotation></semantics></math>
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>d</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi>
    <msub><mi>e</mi> <mrow><mi>L</mi><mi>P</mi></mrow></msub></mrow> <mrow><mo>∂</mo><mi>p</mi></mrow></mfrac>
    <mo>=</mo><mi>d</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mo>=</mo><mi>Δ</mi><mo>=</mo>
    <mfrac><mrow><mi>l</mi><mi>i</mi><mi>q</mi></mrow> <mrow><msqrt><mi>p</mi></msqrt></mrow></mfrac>
    <mo>=</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi> <mrow><mi>L</mi><mi>P</mi></mrow></msub></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaWaaSaaaeaaca
    WGKbGaamOvaiaadggacaWGSbGaamyDaiaadwgadaWgaaWcbaGaamit aiaadcfaaeqaaaGcbaGaeyOaIyRaamiCaaaacqGH9aqpcaWGKbGaam
    yzaiaadYgacaWG0bGaamyyaiabg2da9iabfs5aejabg2da9maalaaa baGaamiBaiaadMgacaWGXbaabaWaaOaaaeaacaWGWbaaleqaaaaaki
    abg2da9iaadweacaWGubGaamisamaaBaaaleaacaWGmbGaamiuaaqa baaaaa@521E@</annotation></semantics></math>
- en: 'If we look at the change in the hedged LP position over time and assume we
    are looking at the change in ETH and USD without fees, we see it goes back to
    eq(1), the value of the net token change:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们观察经过时间的对冲 LP 位置的变化，并且假设我们观察 ETH 和 USD 的变化而没有考虑手续费，我们会看到它退化为 eq(1)，净代币变化的数值：
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="left"><mtr><mtd><mi>n</mi><mi>e</mi><mi>t</mi><mi>L</mi><mi>P</mi><mo>=</mo><mi>L</mi><mi>P</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>+</mo><mi>h</mi><mi>e</mi><mi>d</mi><mi>g</mi><mi>e</mi></mtd></mtr>
    <mtr><mtd><mi>n</mi><mi>e</mi><mi>t</mi><mi>L</mi> <msub><mi>P</mi> <mn>0</mn></msub>
    <mo>=</mo> <mfenced close="}" open="{"><mrow><mi>U</mi><mi>S</mi> <msub><mi>D</mi>
    <mn>0</mn></msub> <mo>+</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi> <mn>0</mn></msub>
    <mo>⋅</mo> <msub><mi>p</mi> <mn>0</mn></msub></mrow></mfenced> <mo>−</mo><mi>E</mi><mi>T</mi>
    <msub><mi>H</mi> <mn>0</mn></msub> <mo>⋅</mo> <msub><mi>p</mi> <mn>0</mn></msub>
    <mo>=</mo><mi>U</mi><mi>S</mi> <msub><mi>D</mi> <mn>0</mn></msub></mtd></mtr>
    <mtr><mtd><mi>n</mi><mi>e</mi><mi>t</mi><mi>L</mi> <msub><mi>P</mi> <mn>1</mn></msub>
    <mo>=</mo> <mfenced close="}" open="{"><mrow><mi>U</mi><mi>S</mi> <msub><mi>D</mi>
    <mn>1</mn></msub> <mo>+</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi> <mn>1</mn></msub>
    <mo>⋅</mo> <msub><mi>p</mi> <mn>1</mn></msub></mrow></mfenced> <mo>−</mo><mi>E</mi><mi>T</mi>
    <msub><mi>H</mi> <mn>0</mn></msub> <mo>⋅</mo> <msub><mi>p</mi> <mn>1</mn></msub></mtd></mtr>
    <mtr><mtd><mi>p</mi><mi>n</mi><mi>l</mi><mo>=</mo><mi>L</mi> <msub><mi>P</mi>
    <mn>1</mn></msub> <mo>−</mo><mi>L</mi> <msub><mi>P</mi> <mn>0</mn></msub> <mo>=</mo>
    <mfenced close="}" open="{"><mrow><mi>U</mi><mi>S</mi> <msub><mi>D</mi> <mn>1</mn></msub>
    <mo>+</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi> <mn>1</mn></msub> <mo>⋅</mo> <msub><mi>p</mi>
    <mn>1</mn></msub></mrow></mfenced> <mo>−</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi>
    <mn>0</mn></msub> <mo>⋅</mo> <msub><mi>p</mi> <mn>1</mn></msub> <mo>−</mo><mi>U</mi><mi>S</mi>
    <msub><mi>D</mi> <mn>0</mn></msub></mtd></mtr> <mtr><mtd><mi>p</mi><mi>n</mi><mi>l</mi><mo>=</mo><mi>Δ</mi><mi>U</mi><mi>S</mi><mi>D</mi><mo>+</mo>
    <msub><mi>p</mi> <mn>1</mn></msub> <mo>⋅</mo><mi>Δ</mi><mi>E</mi><mi>T</mi><mi>H</mi></mtd></mtr></mtable>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGceaqabeaacaWGUb
    GaamyzaiaadshacaWGmbGaamiuaiabg2da9iaadYeacaWGqbGaamiC aiaad+gacaWGZbGaamyAaiaadshacaWGPbGaam4Baiaad6gacqGHRa
    WkcaWGObGaamyzaiaadsgacaWGNbGaamyzaaqaaiaad6gacaWGLbGa amiDaiaadYeacaWGqbWaaSbaaSqaaiaaicdaaeqaaOGaeyypa0Zaai
    WaaeaacaWGvbGaam4uaiaadseadaWgaaWcbaGaaGimaaqabaGccqGH RaWkcaWGfbGaamivaiaadIeadaWgaaWcbaGaaGimaaqabaGccqGHfl
    Y1caWGWbWaaSbaaSqaaiaaicdaaeqaaaGccaGL7bGaayzFaaGaeyOe I0IaamyraiaadsfacaWGibWaaSbaaSqaaiaaicdaaeqaaOGaeyyXIC
    TaamiCamaaBaaaleaacaaIWaaabeaakiabg2da9iaadwfacaWGtbGa amiramaaBaaaleaacaaIWaaabeaaaOqaaiaad6gacaWGLbGaamiDai
    aadYeacaWGqbWaaSbaaSqaaiaaigdaaeqaaOGaeyypa0ZaaiWaaeaa caWGvbGaam4uaiaadseadaWgaaWcbaGaaGymaaqabaGccqGHRaWkca
    WGfbGaamivaiaadIeadaWgaaWcbaGaaGymaaqabaGccqGHflY1caWG WbWaaSbaaSqaaiaaigdaaeqaaaGccaGL7bGaayzFaaGaeyOeI0Iaam
    yraiaadsfacaWGibWaaSbaaSqaaiaaicdaaeqaaOGaeyyXICTaamiC amaaBaaaleaacaaIXaaabeaaaOqaaiaadchacaWGUbGaamiBaiabg2
    da9iaadYeacaWGqbWaaSbaaSqaaiaaigdaaeqaaOGaeyOeI0Iaamit aiaadcfadaWgaaWcbaGaaGimaaqabaGccqGH9aqpdaGadaqaaiaadw
    facaWGtbGaamiramaaBaaaleaacaaIXaaabeaakiabgUcaRiaadwea caWGubGaamisamaaBaaaleaacaaIXaaabeaakiabgwSixlaadchada
    WgaaWcbaGaaGymaaqabaaakiaawUhacaGL9baacqGHsislcaWGfbGa amivaiaadIeadaWgaaWcbaGaaGimaaqabaGccqGHflY1caWGWbWaaS
    baaSqaaiaaigdaaeqaaOGaeyOeI0IaamyvaiaadofacaWGebWaaSba aSqaaiaaicdaaeqaaaGcbaGaamiCaiaad6gacaWGSbGaeyypa0Jaeu
    iLdqKaamyvaiaadofacaWGebGaey4kaSIaamiCamaaBaaaleaacaaI XaaabeaakiabgwSixlabfs5aejaadweacaWGubGaamisaaaaaa@BF35@</annotation></semantics></math>
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="left"><mtr><mtd><mi>n</mi><mi>e</mi><mi>t</mi><mi>L</mi><mi>P</mi><mo>=</mo><mi>L</mi><mi>P</mi><mi>p</mi><mi>o</mi><mi>s</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>+</mo><mi>h</mi><mi>e</mi><mi>d</mi><mi>g</mi><mi>e</mi></mtd></mtr>
    <mtr><mtd><mi>n</mi><mi>e</mi><mi>t</mi><mi>L</mi> <msub><mi>P</mi> <mn>0</mn></msub>
    <mo>=</mo> <mfenced close="}" open="{"><mrow><mi>U</mi><mi>S</mi> <msub><mi>D</mi>
    <mn>0</mn></msub> <mo>+</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi> <mn>0</mn></msub>
    <mo>⋅</mo> <msub><mi>p</mi> <mn>0</mn></msub></mrow></mfenced> <mo>−</mo><mi>E</mi><mi>T</mi>
    <msub><mi>H</mi> <mn>0</mn></msub> <mo>⋅</mo> <msub><mi>p</mi> <mn>0</mn></msub>
    <mo>=</mo><mi>U</mi><mi>S</mi> <msub><mi>D</mi> <mn>0</mn></msub></mtd></mtr>
    <mtr><mtd><mi>n</mi><mi>e</mi><mi>t</mi><mi>L</mi> <msub><mi>P</mi> <mn>1</mn></msub>
    <mo>=</mo> <mfenced close="}" open="{"><mrow><mi>U</mi><mi>S</mi> <msub><mi>D</mi>
    <mn>1</mn></msub> <mo>+</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi> <mn>1</mn></msub>
    <mo>⋅</mo> <msub><mi>p</mi> <mn>1</mn></msub></mrow></mfenced> <mo>−</mo><mi>E</mi><mi>T</mi>
    <msub><mi>H</mi> <mn>0</mn></msub> <mo>⋅</mo> <msub><mi>p</mi> <mn>1</mn></msub></mtd></mtr>
    <mtr><mtd><mi>p</mi><mi>n</mi><mi>l</mi><mo>=</mo><mi>L</mi> <msub><mi>P</mi>
    <mn>1</mn></msub> <mo>−</mo><mi>L</mi> <msub><mi>P</mi> <mn>0</mn></msub> <mo>=</mo>
    <mfenced close="}" open="{"><mrow><mi>U</mi><mi>S</mi> <msub><mi>D</mi> <mn>1</mn></msub>
    <mo>+</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi> <mn>1</mn></msub> <mo>⋅</mo> <msub><mi>p</mi>
    <mn>1</mn></msub></mrow></mfenced> <mo>−</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi>
    <mn>0</mn></msub> <mo>⋅</mo> <msub><mi>p</mi> <mn>1</mn></msub> <mo>−</mo><mi>U</mi><mi>S</mi>
    <msub><mi>D</mi> <mn>0</mn></msub></mtd></mtr> <mtr><mtd><mi>p</mi><mi>n</mi><mi>l</mi><mo>=</mo><mi>Δ</mi><mi>U</mi><mi>S</mi><mi>D</mi><mo>+</mo>
    <msub><mi>p</mi> <mn>1</mn></msub> <mo>⋅</mo><mi>Δ</mi><mi>E</mi><mi>T</mi><mi>H</mi></mtd></mtr></mtable>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGceaqabeaacaWGUb
    GaamyzaiaadshacaWGmbGaamiuaiabg2da9iaadYeacaWGqbGaamiC aiaad+gacaWGZbGaamyAaiaadshacaWGPbGaam4Baiaad6gacqGHRa
    WkcaWGObGaamyzaiaadsgacaWGNbGaamyzaaqaaiaad6gacaWGLbGa amiDaiaadYeacaWGqbWaaSbaaSqaaiaaicdaaeqaaOGaeyypa0Zaai
    WaaeaacaWGvbGaam4uaiaadseadaWgaaWcbaGaaGimaaqabaGccqGH RaWkcaWGfbGaamivaiaadIeadaWgaaWcbaGaaGimaaqabaGccqGHfl
    Y1caWGWbWaaSbaaSqaaiaaicdaaeqaaaGccaGL7bGaayzFaaGaeyOe I0IaamyraiaadsfacaWGibWaaSbaaSqaaiaaicdaaeqaaOGaeyyXIC
    TaamiCamaaBaaaleaacaaIWaaabeaakiabg2da9iaadwfacaWGtbGa amiramaaBaaaleaacaaIWaaabeaaaOqaaiaad6gacaWGLbGaamiDai
    aadYeacaWGqbWaaSbaaSqaaiaaigdaaeqaaOGaeyypa0ZaaiWaaeaa caWGvbGaam4uaiaadseadaWgaaWcbaGaaGymaaqabaGccqGHRaWkca
    WGfbGaamivaiaadIeadaWgaaWcbaGaaGymaaqabaGccqGHflY1caWG WbWaaSbaaSqaaiaaigdaaeqaaaGccaGL7bGaayzFaaGaeyOeI0Iaam
    yraiaadsfacaWGibWaaSbaaSqaaiaaicdaaeqaaOGaeyyXICTaamiC amaaBaaaleaacaaIXaaabeaaaOqaaiaadchacaWGUbGaamiBaiabg2
    da9iaadYeacaWGqbWaaSbaaSqaaiaaigdaaeqaaOGaeyOeI0Iaamit aiaadcfadaWgaaWcbaGaaGimaaqabaGccqGH9aqpdaGadaqaaiaadw
    facaWGtbGaamiramaaBaaaleaacaaIXaaabeaakiabgUcaRiaadwea caWGubGaamisamaaBaaaleaacaaIXaaabeaakiabgwSixlaadchada
    WgaaWcbaGaaGymaaqabaaakiaawUhacaGL9baacqGHsislcaWGfbGa amivaiaadIeadaWgaaWcbaGaaGimaaqabaGccqGHflY1caWGWbWaaS
    baaSqaaiaaigdaaeqaaOGaeyOeI0IaamyvaiaadofacaWGebWaaSba aSqaaiaaicdaaeqaaaGcbaGaamiCaiaad6gacaWGSbGaeyypa0Jaeu
    iLdqKaamyvaiaadofacaWGebGaey4kaSIaamiCamaaBaaaleaacaaI XaaabeaakiabgwSixlabfs5aejaadweacaWGubGaamisaaaaaa@BF35@</annotation></semantics></math>
- en: Given this result, we can use the logic above to show that this is equivalent
    to the square of square roots formula. Thus, comparing an initial token position
    to an initial token position is the same as the net pnl for an LP position hedged
    at some earlier token position. It is a different way to think about impermanent
    loss.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 根据这个结果，我们可以使用上述逻辑表明，这等同于平方根公式的平方。因此，比较初始代币位置与较早代币位置对冲的 LP 位置的净PNL相同。这是一种不同的思考临时损失的方式。
- en: '**Theta**'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '**时间**'
- en: Finally, the Black-Scholes approach uses theta, which equals the expected loss
    from convexity in equilibrium (profits = 0). In their proof, they create a riskless
    portfolio of an option and a synthetically replicated inverse of that option via
    a dynamic hedging strategy that targets the delta. Negative convexity generates
    an adverse delta change in the option, whether the price goes up or down, which
    generates losses for the hedged seller. If one rehedges frequently, the losses
    will be smaller, but there will be more of them, and on average, they generate
    the same expected return whether one rehedges daily or every second. A convex
    position's theta equals the position's gamma, or second derivative, times the
    underlying asset's variance, divided by 2\.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，Black-Scholes方法使用时间，时间等于均衡状态下的凹性损失（利润=0）。在他们的证明中，他们通过一个动态套期保值策略创造了一个期权的风险无法盈利的组合，并且通过目标对冲
    delta 来合成复制这种期权的相反方向的期权。负凹性会在期权的价格上涨或下跌时产生不利的 delta 变化，从而导致对冲销售方的损失。如果频繁重新对冲，损失将会更小，但次数会更多，平均来看，无论每天重新对冲还是每秒重新对冲，它们产生的期望收益都相同。凹性仓位的时间等于仓位的
    gamma，或者二次导数，乘以基础资产的方差，再除以 2。
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi><mo>=</mo><mo>−</mo>
    <mfrac><mn>1</mn> <mn>2</mn></mfrac> <mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi><mo>⋅</mo><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamiDaiaadI
    gacaWGLbGaamiDaiaadggacqGH9aqpcqGHsisldaWcaaqaaiaaigda aeaacaaIYaaaaiaadEgacaWGHbGaamyBaiaad2gacaWGHbGaeyyXIC
    TaamODaiaadggacaWGYbGaamyAaiaadggacaWGUbGaam4yaiaadwga aaa@4C76@</annotation></semantics></math>
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi><mo>=</mo><mo>−</mo>
    <mfrac><mn>1</mn> <mn>2</mn></mfrac> <mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi><mo>⋅</mo><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamiDaiaadI
    gacaWGLbGaamiDaiaadggacqGH9aqpcqGHsisldaWcaaqaaiaaigda aeaacaaIYaaaaiaadEgacaWGHbGaamyBaiaad2gacaWGHbGaeyyXIC
    TaamODaiaadggacaWGYbGaamyAaiaadggacaWGUbGaam4yaiaadwga aaa@4C76@</annotation></semantics></math>
- en: 'Here, the variance is scaled to whatever one''s frequency is. For example,
    with daily data, one would take the annual variance divided by 365. Variance is
    linear in time, which is why people trade variance swaps and not volatility swaps.
    Fortunately, calculating gamma for AMMs from its primitive is simple, so it leads
    to the following:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，方差会按照频率进行缩放。例如，使用每日数据时，方差会除以 365 获取年方差。方差在时间上是线性的，这就是为什么人们交易方差掉期而不是波动率掉期。幸运的是，从基础原理计算
    AMM 的 gamma 很简单，因此可以得到以下结果：
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="left"><mtr><mtd><mi>L</mi><mi>P</mi><mi>v</mi><mi>a</mi><mi>l</mi><mi>u</mi>
    <msub><mi>e</mi> <mrow><mi>L</mi><mi>P</mi></mrow></msub> <mo>=</mo><mn>2</mn><mo>⋅</mo><mi>l</mi><mi>i</mi><mi>q</mi><mi>u</mi><mi>i</mi><mi>d</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo>⋅</mo>
    <msqrt><mi>p</mi></msqrt></mtd></mtr> <mtr><mtd><mfrac><mrow><mi>d</mi><mi>L</mi><mi>P</mi><mi>v</mi><mi>a</mi><mi>l</mi><mi>u</mi>
    <msub><mi>e</mi> <mrow><mi>L</mi><mi>P</mi></mrow></msub></mrow> <mrow><mo>∂</mo><mi>p</mi></mrow></mfrac>
    <mo>=</mo><mi>d</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mo>=</mo><mi>Δ</mi><mo>=</mo>
    <mfrac><mrow><mi>l</mi><mi>i</mi><mi>q</mi></mrow> <mrow><msqrt><mi>p</mi></msqrt></mrow></mfrac>
    <mo>=</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi> <mrow><mi>L</mi><mi>P</mi></mrow></msub></mtd></mtr>
    <mtr><mtd><mfrac><mrow><msup><mi>d</mi> <mn>2</mn></msup> <mi>L</mi><mi>P</mi><mi>v</mi><mi>a</mi><mi>l</mi><mi>u</mi>
    <msub><mi>e</mi> <mrow><mi>L</mi><mi>P</mi></mrow></msub></mrow> <mrow><mo>∂</mo>
    <msup><mi>p</mi> <mn>2</mn></msup></mrow></mfrac> <mo>=</mo><mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi><mo>=</mo><mi>Γ</mi><mo>=</mo><mo>−</mo>
    <mfrac><mrow><mi>l</mi><mi>i</mi><mi>q</mi></mrow> <mrow><mn>2</mn><mo>⋅</mo>
    <msup><mi>p</mi> <mrow><mn>1.5</mn></mrow></msup></mrow></mfrac></mtd></mtr> <mtr><mtd><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi><mo>=</mo><mo>−</mo>
    <mfrac><mn>1</mn> <mn>2</mn></mfrac> <mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi><mo>⋅</mo><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo>
    <mfrac><mn>1</mn> <mn>2</mn></mfrac> <mo>⋅</mo> <mfenced><mrow><mfrac><mrow><mi>l</mi><mi>i</mi><mi>q</mi></mrow>
    <mrow><mn>2</mn><mo>⋅</mo> <msup><mi>p</mi> <mrow><mn>1.5</mn></mrow></msup></mrow></mfrac></mrow></mfenced>
    <mo>⋅</mo> <mfenced><mrow><msup><mi>p</mi> <mn>2</mn></msup> <mo>⋅</mo> <msup><mi>σ</mi>
    <mn>2</mn></msup></mrow></mfenced></mtd></mtr></mtable> <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+=
    feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
    4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9 vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x
    fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGceaqabeaacaWGmb GaamiuaiaadAhacaWGHbGaamiBaiaadwhacaWGLbWaaSbaaSqaaiaa
    dYeacaWGqbaabeaakiabg2da9iaaikdacqGHflY1caWGSbGaamyAai aadghacaWG1bGaamyAaiaadsgacaWGPbGaamiDaiaadMhacqGHflY1
    daGcaaqaaiaadchaaSqabaaakeaadaWcaaqaaiaadsgacaWGmbGaam iuaiaadAhacaWGHbGaamiBaiaadwhacaWGLbWaaSbaaSqaaiaadYea
    caWGqbaabeaaaOqaaiabgkGi2kaadchaaaGaeyypa0Jaamizaiaadw gacaWGSbGaamiDaiaadggacqGH9aqpcqqHuoarcqGH9aqpdaWcaaqa
    aiaadYgacaWGPbGaamyCaaqaamaakaaabaGaamiCaaWcbeaaaaGccq GH9aqpcaWGfbGaamivaiaadIeadaWgaaWcbaGaamitaiaadcfaaeqa
    aaGcbaWaaSaaaeaacaWGKbWaaWbaaSqabeaacaaIYaaaaOGaamitai aadcfacaWG2bGaamyyaiaadYgacaWG1bGaamyzamaaBaaaleaacaWG
    mbGaamiuaaqabaaakeaacqGHciITcaWGWbWaaWbaaSqabeaacaaIYa aaaaaakiabg2da9iaadEgacaWGHbGaamyBaiaad2gacaWGHbGaeyyp
    a0Jaeu4KdCKaeyypa0JaeyOeI0YaaSaaaeaacaWGSbGaamyAaiaadg haaeaacaaIYaGaeyyXICTaamiCamaaCaaaleqabaGaaGymaiaac6ca
    caaI1aaaaaaaaOqaaiaadshacaWGObGaamyzaiaadshacaWGHbGaey ypa0JaeyOeI0YaaSaaaeaacaaIXaaabaGaaGOmaaaacaWGNbGaamyy
    aiaad2gacaWGTbGaamyyaiabgwSixlaadAhacaWGHbGaamOCaiaadM gacaWGHbGaamOBaiaadogacaWGLbGaeyypa0ZaaSaaaeaacaaIXaaa
    baGaaGOmaaaacqGHflY1daqadaqaamaalaaabaGaamiBaiaadMgaca WGXbaabaGaaGOmaiabgwSixlaadchadaahaaWcbeqaaiaaigdacaGG
    UaGaaGynaaaaaaaakiaawIcacaGLPaaacqGHflY1daqadaqaaiaadc hadaahaaWcbeqaaiaaikdaaaGccqGHflY1cqaHdpWCdaahaaWcbeqa
    aiaaikdaaaaakiaawIcacaGLPaaaaaaa@BDC0@</annotation></semantics></math>
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable columnalign="left"><mtr><mtd><mi>L</mi><mi>P</mi><mi>v</mi><mi>a</mi><mi>l</mi><mi>u</mi>
    <msub><mi>e</mi> <mrow><mi>L</mi><mi>P</mi></mrow></msub> <mo>=</mo><mn>2</mn><mo>⋅</mo><mi>l</mi><mi>i</mi><mi>q</mi><mi>u</mi><mi>i</mi><mi>d</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo>⋅</mo>
    <msqrt><mi>p</mi></msqrt></mtd></mtr> <mtr><mtd><mfrac><mrow><mi>d</mi><mi>L</mi><mi>P</mi><mi>v</mi><mi>a</mi><mi>l</mi><mi>u</mi>
    <msub><mi>e</mi> <mrow><mi>L</mi><mi>P</mi></mrow></msub></mrow> <mrow><mo>∂</mo><mi>p</mi></mrow></mfrac>
    <mo>=</mo><mi>d</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mo>=</mo><mi>Δ</mi><mo>=</mo>
    <mfrac><mrow><mi>l</mi><mi>i</mi><mi>q</mi></mrow> <mrow><msqrt><mi>p</mi></msqrt></mrow></mfrac>
    <mo>=</mo><mi>E</mi><mi>T</mi> <msub><mi>H</mi> <mrow><mi>L</mi><mi>P</mi></mrow></msub></mtd></mtr>
    <mtr><mtd><mfrac><mrow><msup><mi>d</mi> <mn>2</mn></msup> <mi>L</mi><mi>P</mi><mi>v</mi><mi>a</mi><mi>l</mi><mi>u</mi>
    <msub><mi>e</mi> <mrow><mi>L</mi><mi>P</mi></mrow></msub></mrow> <mrow><mo>∂</mo>
    <msup><mi>p</mi> <mn>2</mn></msup></mrow></mfrac> <mo>=</mo><mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi><mo>=</mo><mi>Γ</mi><mo>=</mo><mo>−</mo>
    <mfrac><mrow><mi>l</mi><mi>i</mi><mi>q</mi></mrow> <mrow><mn>2</mn><mo>⋅</mo>
    <msup><mi>p</mi> <mrow><mn>1.5</mn></mrow></msup></mrow></mfrac></mtd></mtr> <mtr><mtd><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi><mo>=</mo><mo>−</mo>
    <mfrac><mn>1</mn> <mn>2</mn></mfrac> <mi>g</mi><mi>a</mi><mi>m</mi><mi>m</mi><mi>a</mi><mo>⋅</mo><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo>
    <mfrac><mn>1</mn> <mn>2</mn></mfrac> <mo>⋅</mo> <mfenced><mrow><mfrac><mrow><mi>l</mi><mi>i</mi><mi>q</mi></mrow>
    <mrow><mn>2</mn><mo>⋅</mo> <msup><mi>p</mi> <mrow><mn>1.5</mn></mrow></msup></mrow></mfrac></mrow></mfenced>
    <mo>⋅</mo> <mfenced><mrow><msup><mi>p</mi> <mn>2</mn></msup> <mo>⋅</mo> <msup><mi>σ</mi>
    <mn>2</mn></msup></mrow></mfenced></mtd></mtr></mtable> <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+=
    feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
    4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9 vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x
    fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGceaqabeaacaWGmb GaamiuaiaadAhacaWGHbGaamiBaiaadwhacaWGLbWaaSbaaSqaaiaa
    dYeacaWGqbaabeaakiabg2da9iaaikdacqGHflY1caWGSbGaamyAai aadghacaWG1bGaamyAaiaadsgacaWGPbGaamiDaiaadMhacqGHflY1
    daGcaaqaaiaadchaaSqabaaakeaadaWcaaqaaiaadsgacaWGmbGaam iuaiaadAhacaWGHbGaamiBaiaadwhacaWGLbWaaSbaaSqaaiaadYea
    caWGqbaabeaaaOqaaiabgkGi2kaadchaaaGaeyypa0Jaamizaiaadw gacaWGSbGaamiDaiaadggacqGH9aqpcqqHuoarcqGH9aqpdaWcaaqa
    aiaadYgacaWGPbGaamyCaaqaamaakaaabaGaamiCaaWcbeaaaaGccq GH9aqpcaWGfbGaamivaiaadIeadaWgaaWcbaGaamitaiaadcfaaeqa
    aaGcbaWaaSaaaeaacaWGKbWaaWbaaSqabeaacaaIYaaaaOGaamitai aadcfacaWG2bGaamyyaiaadYgacaWG1bGaamyzamaaBaaaleaacaWG
    mbGaamiuaaqabaaakeaacqGHciITcaWGWbWaaWbaaSqabeaacaaIYa aaaaaakiabg2da9iaadEgacaWGHbGaamyBaiaad2gacaWGHbGaeyyp
    a0Jaeu4KdCKaeyypa0JaeyOeI0YaaSaaaeaacaWGSbGaamyAaiaadg haaeaacaaIYaGaeyyXICTaamiCamaaCaaaleqabaGaaGymaiaac6ca
    caaI1aaaaaaaaOqaaiaadshacaWGObGaamyzaiaadshacaWGHbGaey ypa0JaeyOeI0YaaSaaaeaacaaIXaaabaGaaGOmaaaacaWGNbGaamyy
    aiaad2gacaWGTbGaamyyaiabgwSixlaadAhacaWGHbGaamOCaiaadM gacaWGHbGaamOBaiaadogacaWGLbGaeyypa0ZaaSaaaeaacaaIXaaa
    baGaaGOmaaaacqGHflY1daqadaqaamaalaaabaGaamiBaiaadMgaca WGXbaabaGaaGOmaiabgwSixlaadchadaahaaWcbeqaaiaaigdacaGG
    UaGaaGynaaaaaaaakiaawIcacaGLPaaacqGHflY1daqadaqaaiaadc hadaahaaWcbeqaaiaaikdaaaGccqGHflY1cqaHdpWCdaahaaWcbeqa
    aiaaikdaaaaakiaawIcacaGLPaaaaaaa@BDC0@</annotation></semantics></math>
- en: 'Simplifying, we get a function that uses a variance term:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 简化之后，我们得到一个使用方差项的函数：
- en: 'Equation (3) -variance over 4: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msqrt><mi>p</mi></msqrt> <mo>⋅</mo> <msup><mi>σ</mi> <mn>2</mn></msup></mrow>
    <mn>4</mn></mfrac></mrow> <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+=
    feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
    4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9 vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x
    fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamiDaiaadI gacaWGLbGaamiDaiaadggacqGH9aqpcaWGSbGaamyAaiaadghacqGH
    flY1daWcaaqaamaakaaabaGaamiCaaWcbeaakiabgwSixlabeo8aZn aaCaaaleqabaGaaGOmaaaaaOqaaiaaisdaaaaaaa@47B2@</annotation></semantics></math>'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 方程（3）-4的方差： <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msqrt><mi>p</mi></msqrt> <mo>⋅</mo> <msup><mi>σ</mi> <mn>2</mn></msup></mrow>
    <mn>4</mn></mfrac></mrow> <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+=
    feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
    4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9 vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x
    fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamiDaiaadI gacaWGLbGaamiDaiaadggacqGH9aqpcaWGSbGaamyAaiaadghacqGH
    flY1daWcaaqaamaakaaabaGaamiCaaWcbeaakiabgwSixlabeo8aZn aaCaaaleqabaGaaGOmaaaaaOqaaiaaisdaaaaaaa@47B2@</annotation></semantics></math>
- en: While AMMs, unlike option markets, do not have theta *per se* as there is no
    option premium to decay, it still captures the option cost for any short gamma
    position. This cost is a function of convexity, not the delta, so it presumes
    the position is delta-hedged.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 不像期权市场那样，AMMs没有单独的theta，因为没有期权费用会递减，但它仍然捕捉了任何短伽玛头寸的期权成本。这个成本是凸度的一个函数，不是delta，因此它假设头寸是delta对冲的。
- en: 'The LvR function is identical to equation 3, though it looks different because
    the pool''s market value is used to normalize it:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: LvR函数与方程3相同，尽管看起来不同，因为池的市值用于对其进行归一化：
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi></mrow>
    <mrow><mi>L</mi><mi>P</mi><mi>v</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi></mrow></mfrac>
    <mo>=</mo><mo>−</mo> <mfrac><mrow><msup><mi>σ</mi> <mn>2</mn></msup></mrow> <mn>8</mn></mfrac></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaWaaSaaaeaaca
    WG0bGaamiAaiaadwgacaWG0bGaamyyaaqaaiaadYeacaWGqbGaamOD aiaadggacaWGSbGaamyDaiaadwgaaaGaeyypa0JaeyOeI0YaaSaaae
    aacqaHdpWCdaahaaWcbeqaaiaaikdaaaaakeaacaaI4aaaaaaa@468C@</annotation></semantics></math>
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>t</mi><mi>h</mi><mi>e</mi><mi>t</mi><mi>a</mi></mrow>
    <mrow><mi>L</mi><mi>P</mi><mi>v</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi></mrow></mfrac>
    <mo>=</mo><mo>−</mo> <mfrac><mrow><msup><mi>σ</mi> <mn>2</mn></msup></mrow> <mn>8</mn></mfrac></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaWaaSaaaeaaca
    WG0bGaamiAaiaadwgacaWG0bGaamyyaaqaaiaadYeacaWGqbGaamOD aiaadggacaWGSbGaamyDaiaadwgaaaGaeyypa0JaeyOeI0YaaSaaae
    aacqaHdpWCdaahaaWcbeqaaiaaikdaaaaakeaacaaI4aaaaaaa@468C@</annotation></semantics></math>
- en: This is a handy formula, as volatility per day for many coins is 5%; it generates
    a cost 3.125 basis points per day, a fun fact. In practice, however, we need to
    get the liquidity and price data anyway to get the market value we would apply
    this to anyway. Given the LP market value function
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 对于许多币种来说，这是一个方便的公式，因为每天的波动率为5%；它生成每天3.125个基点的成本，这是一个有趣的事实。然而在实践中，我们需要获取流动性和价格数据来获取我们将应用此方法的市值。给定LP市值函数
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>P</mi><mi>v</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo>=</mo><mn>2</mn><mo>⋅</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <msqrt><mi>p</mi></msqrt></mrow> <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+=
    feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
    4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9 vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x
    fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamitaiaadc facaWG2bGaamyyaiaadYgacaWG1bGaamyzaiabg2da9iaaikdacqGH
    flY1caWGSbGaamyAaiaadghacqGHflY1daGcaaqaaiaadchaaSqaba aaaa@468D@</annotation></semantics></math>
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>P</mi><mi>v</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo>=</mo><mn>2</mn><mo>⋅</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <msqrt><mi>p</mi></msqrt></mrow> <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+=
    feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
    4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9 vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x
    fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamitaiaadc facaWG2bGaamyyaiaadYgacaWG1bGaamyzaiabg2da9iaaikdacqGH
    flY1caWGSbGaamyAaiaadghacqGHflY1daGcaaqaaiaadchaaSqaba aaaa@468D@</annotation></semantics></math>
- en: If we multiply variance/8 by the LP value, we get equation (3), the variance
    function for the LP's convexity cost.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们将方差/8乘以LP值，我们得到方程（3），LP凸性成本的方差函数。
- en: Unfortunately, my math/stats skills are insufficient to prove equations 2 and
    3 are the same, but they are (or at least 99% approximations of each other).
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，我的数学/统计技能不足以证明方程2和3是相同的，但它们是相同的（或至少是它们的99%近似值）。
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msup><mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mn>2</mn></msup></mrow> <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac>
    <mo>≈</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo> <mfrac><mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>0</mn></msub></mrow></msqrt> <mo>⋅</mo> <msup><mi>σ</mi> <mn>2</mn></msup></mrow>
    <mn>4</mn></mfrac></mrow> <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+=
    feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
    4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9 vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x
    fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamiBaiaadM gacaWGXbGaeyyXIC9aaSaaaeaadaqadaqaamaakaaabaGaamiCamaa
    BaaaleaacaaIXaaabeaaaeqaaOGaeyOeI0YaaOaaaeaacaWGWbWaaS baaSqaaiaaicdaaeqaaaqabaaakiaawIcacaGLPaaadaahaaWcbeqa
    aiaaikdaaaaakeaadaGcaaqaaiaadchadaWgaaWcbaGaaGimaaqaba aabeaaaaGccqGHijYUcaWGSbGaamyAaiaadghacqGHflY1daWcaaqa
    amaakaaabaGaamiCamaaBaaaleaacaaIWaaabeaaaeqaaOGaeyyXIC Taeq4Wdm3aaWbaaSqabeaacaaIYaaaaaGcbaGaaGinaaaaaaa@5301@</annotation></semantics></math>
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msup><mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mn>2</mn></msup></mrow> <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac>
    <mo>≈</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo> <mfrac><mrow><msqrt><mrow><msub><mi>p</mi>
    <mn>0</mn></msub></mrow></msqrt> <mo>⋅</mo> <msup><mi>σ</mi> <mn>2</mn></msup></mrow>
    <mn>4</mn></mfrac></mrow> <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+=
    feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
    4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9 vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x
    fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamiBaiaadM gacaWGXbGaeyyXIC9aaSaaaeaadaqadaqaamaakaaabaGaamiCamaa
    BaaaleaacaaIXaaabeaaaeqaaOGaeyOeI0YaaOaaaeaacaWGWbWaaS baaSqaaiaaicdaaeqaaaqabaaakiaawIcacaGLPaaadaahaaWcbeqa
    aiaaikdaaaaakeaadaGcaaqaaiaadchadaWgaaWcbaGaaGimaaqaba aabeaaaaGccqGHijYUcaWGSbGaamyAaiaadghacqGHflY1daWcaaqa
    amaakaaabaGaamiCamaaBaaaleaacaaIWaaabeaaaeqaaOGaeyyXIC Taeq4Wdm3aaWbaaSqabeaacaaIYaaaaaGcbaGaaGinaaaaaaa@5301@</annotation></semantics></math>
- en: This gives us three ways to calculate IL. If we use the same starting and ending
    times, they should be the same. That is, the variance term should use the variance
    in the [0,1] interval, and the ΔETH and ΔUSDC should also use the [0, 1] interval.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 这给了我们计算IL的三种方法。如果我们使用相同的起始和结束时间，它们应该是一样的。也就是说，方差项应该使用[0,1]区间内的方差，而ΔETH和ΔUSDC也应该使用[0,1]区间。
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi>e</mi><mi>t</mi><mi>t</mi><mi>o</mi><mi>k</mi><mi>e</mi><mi>n</mi><mi>c</mi><mi>h</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>e</mi><mo>:</mo><mi>Δ</mi><mi>U</mi><mi>S</mi>
    <msub><mi>D</mi> <mrow><mn>0</mn><mo>,</mo><mn>1</mn></mrow></msub> <mo>+</mo>
    <msub><mi>p</mi> <mn>1</mn></msub> <mo>⋅</mo><mi>Δ</mi><mi>E</mi><mi>T</mi> <msub><mi>H</mi>
    <mrow><mn>0</mn><mo>,</mo><mn>1</mn></mrow></msub></mrow> <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+=
    feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
    4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9 vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x
    fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamOBaiaadw gacaWG0bGaaeiiaiaadshacaWGVbGaam4AaiaadwgacaWGUbGaaeii
    aiaadogacaWGObGaamyyaiaad6gacaWGNbGaamyzaiaacQdacqqHuo arcaWGvbGaam4uaiaadseadaWgaaWcbaGaaGimaiaacYcacaaIXaaa
    beaakiabgUcaRiaadchadaWgaaWcbaGaaGymaaqabaGccqGHflY1cq qHuoarcaWGfbGaamivaiaadIeadaWgaaWcbaGaaGimaiaacYcacaaI
    Xaaabeaaaaa@5683@</annotation></semantics></math>
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi>e</mi><mi>t</mi><mi>t</mi><mi>o</mi><mi>k</mi><mi>e</mi><mi>n</mi><mi>c</mi><mi>h</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>e</mi><mo>:</mo><mi>Δ</mi><mi>U</mi><mi>S</mi>
    <msub><mi>D</mi> <mrow><mn>0</mn><mo>,</mo><mn>1</mn></mrow></msub> <mo>+</mo>
    <msub><mi>p</mi> <mn>1</mn></msub> <mo>⋅</mo><mi>Δ</mi><mi>E</mi><mi>T</mi> <msub><mi>H</mi>
    <mrow><mn>0</mn><mo>,</mo><mn>1</mn></mrow></msub></mrow> <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+=
    feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
    4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9 vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x
    fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamOBaiaadw gacaWG0bGaaeiiaiaadshacaWGVbGaam4AaiaadwgacaWGUbGaaeii
    aiaadogacaWGObGaamyyaiaad6gacaWGNbGaamyzaiaacQdacqqHuo arcaWGvbGaam4uaiaadseadaWgaaWcbaGaaGimaiaacYcacaaIXaaa
    beaakiabgUcaRiaadchadaWgaaWcbaGaaGymaaqabaGccqGHflY1cq qHuoarcaWGfbGaamivaiaadIeadaWgaaWcbaGaaGimaiaacYcacaaI
    Xaaabeaaaaa@5683@</annotation></semantics></math>
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>q</mi><mi>u</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>o</mi><mi>f</mi><mi>s</mi><mi>q</mi><mi>u</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi><mo>:</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msup><mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mn>2</mn></msup></mrow> <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaam4Caiaadg
    hacaWG1bGaamyyaiaadkhacaWGLbGaaeiiaiaad+gacaWGMbGaaeii aiaadohacaWGXbGaamyDaiaadggacaWGYbGaamyzaiaabccacaWGYb
    Gaam4Baiaad+gacaWG0bGaaiOoaiaadYgacaWGPbGaamyCaiabgwSi xpaalaaabaWaaeWaaeaadaGcaaqaaiaadchadaWgaaWcbaGaaGymaa
    qabaaabeaakiabgkHiTmaakaaabaGaamiCamaaBaaaleaacaaIWaaa beaaaeqaaaGccaGLOaGaayzkaaWaaWbaaSqabeaacaaIYaaaaaGcba
    WaaOaaaeaacaWGWbWaaSbaaSqaaiaaicdaaeqaaaqabaaaaaaa@5820@</annotation></semantics></math>
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>q</mi><mi>u</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>o</mi><mi>f</mi><mi>s</mi><mi>q</mi><mi>u</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi><mo>:</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msup><mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mn>2</mn></msup></mrow> <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaam4Caiaadg
    hacaWG1bGaamyyaiaadkhacaWGLbGaaeiiaiaad+gacaWGMbGaaeii aiaadohacaWGXbGaamyDaiaadggacaWGYbGaamyzaiaabccacaWGYb
    Gaam4Baiaad+gacaWG0bGaaiOoaiaadYgacaWGPbGaamyCaiabgwSi xpaalaaabaWaaeWaaeaadaGcaaqaaiaadchadaWgaaWcbaGaaGymaa
    qabaaabeaakiabgkHiTmaakaaabaGaamiCamaaBaaaleaacaaIWaaa beaaaeqaaaGccaGLOaGaayzkaaWaaWbaaSqabeaacaaIYaaaaaGcba
    WaaOaaaeaacaWGWbWaaSbaaSqaaiaaicdaaeqaaaqabaaaaaaa@5820@</annotation></semantics></math>
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mi>o</mi><mi>v</mi><mi>e</mi><mi>r</mi><mn>4</mn><mo>:</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt> <mo>⋅</mo>
    <msubsup><mi>σ</mi> <mrow><mn>0</mn><mo>,</mo><mn>1</mn></mrow> <mn>2</mn></msubsup></mrow>
    <mn>4</mn></mfrac></mrow> <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+=
    feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
    4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9 vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x
    fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamODaiaadg gacaWGYbGaamyAaiaadggacaWGUbGaam4yaiaadwgacaqGGaGaam4B
    aiaadAhacaWGLbGaamOCaiaabccacaaI0aGaaiOoaiaadYgacaWGPb GaamyCaiabgwSixpaalaaabaWaaOaaaeaacaWGWbWaaSbaaSqaaiaa
    icdaaeqaaaqabaGccqGHflY1cqaHdpWCdaqhaaWcbaGaaGimaiaacY cacaaIXaaabaGaaGOmaaaaaOqaaiaaisdaaaaaaa@5300@</annotation></semantics></math>
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mi>o</mi><mi>v</mi><mi>e</mi><mi>r</mi><mn>4</mn><mo>:</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt> <mo>⋅</mo>
    <msubsup><mi>σ</mi> <mrow><mn>0</mn><mo>,</mo><mn>1</mn></mrow> <mn>2</mn></msubsup></mrow>
    <mn>4</mn></mfrac></mrow> <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+=
    feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
    4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9 vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x
    fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamODaiaadg gacaWGYbGaamyAaiaadggacaWGUbGaam4yaiaadwgacaqGGaGaam4B
    aiaadAhacaWGLbGaamOCaiaabccacaaI0aGaaiOoaiaadYgacaWGPb GaamyCaiabgwSixpaalaaabaWaaOaaaeaacaWGWbWaaSbaaSqaaiaa
    icdaaeqaaaqabaGccqGHflY1cqaHdpWCdaqhaaWcbaGaaGimaiaacY cacaaIXaaabaGaaGOmaaaaaOqaaiaaisdaaaaaaa@5300@</annotation></semantics></math>
- en: These are all costs to the LP and need to be subtracted from the LP fees to
    get the LP's total profitability. However, in practice, the net token change data
    from Uniswap's 'swap' event logs includes fees, so one does not need the daily
    volume to generate the net LP pnl; removing the fees would take more work. Thus,
    we do not need to add fee revenue if we use the swap data to get the LP's net
    token changes.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 这些都是LP的成本，需要减去LP的费用才能得到LP的总盈利能力。然而，在实践中，来自Uniswap的“swap”事件日志的净代币变化数据包括费用，所以我们不需要每日交易量来生成净LP
    PNL。删除费用将需要更多的工作。因此，如果我们使用交换数据来获取LP的净代币变化，我们就不需要增加费用收入。
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi>e</mi><mi>t</mi><mi>t</mi><mi>o</mi><mi>k</mi><mi>e</mi><mi>n</mi><mi>c</mi><mi>h</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>P</mi><mi>n</mi><mi>L</mi><mo>:</mo><mi>Δ</mi><mi>U</mi><mi>S</mi>
    <msub><mi>D</mi> <mrow><mn>0</mn><mo>,</mo><mn>1</mn></mrow></msub> <mo>+</mo>
    <msub><mi>p</mi> <mn>1</mn></msub> <mo>⋅</mo><mi>Δ</mi><mi>E</mi><mi>T</mi> <msub><mi>H</mi>
    <mrow><mn>0</mn><mo>,</mo><mn>1</mn></mrow></msub></mrow> <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+=
    feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
    4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9 vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x
    fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamOBaiaadw gacaWG0bGaaeiiaiaadshacaWGVbGaam4AaiaadwgacaWGUbGaaeii
    aiaadogacaWGObGaamyyaiaad6gacaWGNbGaamyzaiaabccacaWGqb GaamOBaiaadYeacaGG6aGaeuiLdqKaamyvaiaadofacaWGebWaaSba
    aSqaaiaaicdacaGGSaGaaGymaaqabaGccqGHRaWkcaWGWbWaaSbaaS qaaiaaigdaaeqaaOGaeyyXICTaeuiLdqKaamyraiaadsfacaWGibWa
    aSbaaSqaaiaaicdacaGGSaGaaGymaaqabaaaaa@59BF@</annotation></semantics></math>
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi>e</mi><mi>t</mi><mi>t</mi><mi>o</mi><mi>k</mi><mi>e</mi><mi>n</mi><mi>c</mi><mi>h</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>P</mi><mi>n</mi><mi>L</mi><mo>:</mo><mi>Δ</mi><mi>U</mi><mi>S</mi>
    <msub><mi>D</mi> <mrow><mn>0</mn><mo>,</mo><mn>1</mn></mrow></msub> <mo>+</mo>
    <msub><mi>p</mi> <mn>1</mn></msub> <mo>⋅</mo><mi>Δ</mi><mi>E</mi><mi>T</mi> <msub><mi>H</mi>
    <mrow><mn>0</mn><mo>,</mo><mn>1</mn></mrow></msub></mrow> <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+=
    feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
    4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9 vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x
    fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamOBaiaadw gacaWG0bGaaeiiaiaadshacaWGVbGaam4AaiaadwgacaWGUbGaaeii
    aiaadogacaWGObGaamyyaiaad6gacaWGNbGaamyzaiaabccacaWGqb GaamOBaiaadYeacaGG6aGaeuiLdqKaamyvaiaadofacaWGebWaaSba
    aSqaaiaaicdacaGGSaGaaGymaaqabaGccqGHRaWkcaWGWbWaaSbaaS qaaiaaigdaaeqaaOGaeyyXICTaeuiLdqKaamyraiaadsfacaWGibWa
    aSbaaSqaaiaaicdacaGGSaGaaGymaaqabaaaaa@59BF@</annotation></semantics></math>
- en: For the other approaches, we can multiply the absolute value of the USDC traded
    by the fees to get LP revenue. While the fees are paid in whatever token is sold
    to the pool, using the numeraire is an efficient approximation.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 对于其他方法，我们可以将所交易的USDC的绝对值乘以费用来获得LP的收入。虽然费用是用卖给池的任何代币支付的，但使用numeraire是一个有效的近似值。
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>q</mi><mi>u</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>o</mi><mi>f</mi><mi>s</mi><mi>q</mi><mi>u</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi><mi>P</mi><mi>n</mi><mi>L</mi><mo>:</mo><mi>U</mi><mi>S</mi><mi>D</mi><mi>C</mi><mi>v</mi><mi>o</mi><mi>l</mi><mi>u</mi><mi>m</mi><mi>e</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>e</mi><mi>d</mi><mo>⋅</mo><mi>f</mi><mi>e</mi><mi>e</mi><mo>−</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msup><mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mn>2</mn></msup></mrow> <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaam4Caiaadg
    hacaWG1bGaamyyaiaadkhacaWGLbGaaeiiaiaad+gacaWGMbGaaeii aiaadohacaWGXbGaamyDaiaadggacaWGYbGaamyzaiaabccacaWGYb
    Gaam4Baiaad+gacaWG0bGaaeiiaiaadcfacaWGUbGaamitaiaacQda caWGvbGaam4uaiaadseacaWGdbGaamODaiaad+gacaWGSbGaamyDai
    aad2gacaWGLbGaamiDaiaadkhacaWGHbGaamizaiaadwgacaWGKbGa eyyXICTaamOzaiaadwgacaWGLbGaeyOeI0IaamiBaiaadMgacaWGXb
    GaeyyXIC9aaSaaaeaadaqadaqaamaakaaabaGaamiCamaaBaaaleaa caaIXaaabeaaaeqaaOGaeyOeI0YaaOaaaeaacaWGWbWaaSbaaSqaai
    aaicdaaeqaaaqabaaakiaawIcacaGLPaaadaahaaWcbeqaaiaaikda aaaakeaadaGcaaqaaiaadchadaWgaaWcbaGaaGimaaqabaaabeaaaa
    aaaa@6FDD@</annotation></semantics></math>
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>q</mi><mi>u</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>o</mi><mi>f</mi><mi>s</mi><mi>q</mi><mi>u</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi><mi>P</mi><mi>n</mi><mi>L</mi><mo>:</mo><mi>U</mi><mi>S</mi><mi>D</mi><mi>C</mi><mi>v</mi><mi>o</mi><mi>l</mi><mi>u</mi><mi>m</mi><mi>e</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>e</mi><mi>d</mi><mo>⋅</mo><mi>f</mi><mi>e</mi><mi>e</mi><mo>−</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msup><mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mn>2</mn></msup></mrow> <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaam4Caiaadg
    hacaWG1bGaamyyaiaadkhacaWGLbGaaeiiaiaad+gacaWGMbGaaeii aiaadohacaWGXbGaamyDaiaadggacaWGYbGaamyzaiaabccacaWGYb
    Gaam4Baiaad+gacaWG0bGaaeiiaiaadcfacaWGUbGaamitaiaacQda caWGvbGaam4uaiaadseacaWGdbGaamODaiaad+gacaWGSbGaamyDai
    aad2gacaWGLbGaamiDaiaadkhacaWGHbGaamizaiaadwgacaWGKbGa eyyXICTaamOzaiaadwgacaWGLbGaeyOeI0IaamiBaiaadMgacaWGXb
    GaeyyXIC9aaSaaaeaadaqadaqaamaakaaabaGaamiCamaaBaaaleaa caaIXaaabeaaaeqaaOGaeyOeI0YaaOaaaeaacaWGWbWaaSbaaSqaai
    aaicdaaeqaaaqabaaakiaawIcacaGLPaaadaahaaWcbeqaaiaaikda aaaakeaadaGcaaqaaiaadchadaWgaaWcbaGaaGimaaqabaaabeaaaa
    aaaa@6FDD@</annotation></semantics></math>
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mi>o</mi><mi>v</mi><mi>e</mi><mi>r</mi><mn>4</mn><mi>P</mi><mi>n</mi><mi>L</mi><mo>:</mo><mi>U</mi><mi>S</mi><mi>D</mi><mi>C</mi><mi>v</mi><mi>o</mi><mi>l</mi><mi>u</mi><mi>m</mi><mi>e</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>e</mi><mi>d</mi><mo>⋅</mo><mi>f</mi><mi>e</mi><mi>e</mi><mo>−</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt> <mo>⋅</mo>
    <msubsup><mi>σ</mi> <mrow><mn>0</mn><mo>,</mo><mn>1</mn></mrow> <mn>2</mn></msubsup></mrow>
    <mn>4</mn></mfrac></mrow> <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+=
    feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
    4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9 vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x
    fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamODaiaadg gacaWGYbGaamyAaiaadggacaWGUbGaam4yaiaadwgacaqGGaGaam4B
    aiaadAhacaWGLbGaamOCaiaabccacaaI0aGaaeiiaiaadcfacaWGUb GaamitaiaacQdacaWGvbGaam4uaiaadseacaWGdbGaamODaiaad+ga
    caWGSbGaamyDaiaad2gacaWGLbGaamiDaiaadkhacaWGHbGaamizai aadwgacaWGKbGaeyyXICTaamOzaiaadwgacaWGLbGaeyOeI0IaamiB
    aiaadMgacaWGXbGaeyyXIC9aaSaaaeaadaGcaaqaaiaadchadaWgaa WcbaGaaGimaaqabaaabeaakiabgwSixlabeo8aZnaaDaaaleaacaaI
    WaGaaiilaiaaigdaaeaacaaIYaaaaaGcbaGaaGinaaaaaaa@6ABD@</annotation></semantics></math>
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mi>o</mi><mi>v</mi><mi>e</mi><mi>r</mi><mn>4</mn><mi>P</mi><mi>n</mi><mi>L</mi><mo>:</mo><mi>U</mi><mi>S</mi><mi>D</mi><mi>C</mi><mi>v</mi><mi>o</mi><mi>l</mi><mi>u</mi><mi>m</mi><mi>e</mi><mi>t</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>e</mi><mi>d</mi><mo>⋅</mo><mi>f</mi><mi>e</mi><mi>e</mi><mo>−</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt> <mo>⋅</mo>
    <msubsup><mi>σ</mi> <mrow><mn>0</mn><mo>,</mo><mn>1</mn></mrow> <mn>2</mn></msubsup></mrow>
    <mn>4</mn></mfrac></mrow> <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+=
    feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
    4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9 vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x
    fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamODaiaadg gacaWGYbGaamyAaiaadggacaWGUbGaam4yaiaadwgacaqGGaGaam4B
    aiaadAhacaWGLbGaamOCaiaabccacaaI0aGaaeiiaiaadcfacaWGUb GaamitaiaacQdacaWGvbGaam4uaiaadseacaWGdbGaamODaiaad+ga
    caWGSbGaamyDaiaad2gacaWGLbGaamiDaiaadkhacaWGHbGaamizai aadwgacaWGKbGaeyyXICTaamOzaiaadwgacaWGLbGaeyOeI0IaamiB
    aiaadMgacaWGXbGaeyyXIC9aaSaaaeaadaGcaaqaaiaadchadaWgaa WcbaGaaGimaaqabaaabeaakiabgwSixlabeo8aZnaaDaaaleaacaaI
    WaGaaiilaiaaigdaaeaacaaIYaaaaaGcbaGaaGinaaaaaaa@6ABD@</annotation></semantics></math>
- en: The nice thing about the net token change approach is that you can avoid the
    noise generated by the fact that liquidity is not constant, especially in restricted-range
    pools, where it can vary quite a bit over the day. Unless you calculate these
    data using each trade, any liquidity number you use will be approximate and generate
    noise in one's estimate. Thus, I prefer the net token change approach.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 净代币变动方法的好处在于，你可以避免由于流动性不是固定的而产生的噪音，尤其是在受限制范围的池中，其流动性可能在一天之内变化很大。除非你使用每笔交易来计算这些数据，否则任何你使用的流动性数字都是近似值，并且会在对估计产生噪音。因此，我更喜欢净代币变动方法。
- en: I estimated the daily pnl for a pool and used the day's price return squared
    for the variance number.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 我估算了一个池的每日pnl，并使用了当天的价格回报的平方来得出方差数。
- en: '**Uniswap ETH-USDC v2 pool on Ethereum Mainnet**'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '**以太坊主网上的Uniswap ETH-USDC v2池**'
- en: '**1/1/23-3/5/24**'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '**1/1/23-3/5/24**'
- en: 'Net token change pnl:             $7,231'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '净代币变动 pnl:             $7,231'
- en: Square root pnl:                       $7,152
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '平方根 pnl:                         $7,152'
- en: Variance pnl:                           $7,097
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '方差 pnl:                             $7,097'
- en: As the standard deviation in this period was $12k, these estimates are in complete
    agreement. The correlation between the square root and variance metrics is 99.9%,
    while the token change pnl correlation with those two is around 99.6%
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 由于此期间的标准差为$12k，这些估计完全一致。平方根和方差指标之间的相关性为99.9%，而代币变动 pnl 与这两个指标之间的相关性约为99.6%。
- en: '**Impermanent Loss != LvR ?**'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '**不稳定损失不等于LvR？**'
- en: For reasons I find irrelevant, [Milionis, Moallemi, Roughgarden, and Zhang](https://arxiv.org/abs/2208.06046)
    emphasize their LvR approach (the variance function) as superior to the square
    root function. First, they note that IL depends on the initial position, as it
    uses a squared term, so the magnitude is different for given starting prices.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 基于我认为无关紧要的原因，[Milionis, Moallemi, Roughgarden和Zhang](https://arxiv.org/abs/2208.06046)强调他们的LvR方法（方差函数）优于平方根函数。首先，他们指出IL取决于初始位置，因为它使用了一个平方项，所以对于给定的起始价格来说，大小是不同的。
- en: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>m</mi><mi>p</mi><mi>e</mi><mi>r</mi><mi>m</mi><mi>a</mi><mi>n</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>L</mi><mi>o</mi><mi>s</mi><mi>s</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msup><mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mn>2</mn></msup></mrow> <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamysaiaad2
    gacaWGWbGaamyzaiaadkhacaWGTbGaamyyaiaad6gacaWGLbGaamOB aiaadshacaqGGaGaamitaiaad+gacaWGZbGaam4Caiabg2da9iaadY
    gacaWGPbGaamyCaiabgwSixpaalaaabaWaaeWaaeaadaGcaaqaaiaa dchadaWgaaWcbaGaaGymaaqabaaabeaakiabgkHiTmaakaaabaGaam
    iCamaaBaaaleaacaaIWaaabeaaaeqaaaGccaGLOaGaayzkaaWaaWba aSqabeaacaaIYaaaaaGcbaWaaOaaaeaacaWGWbWaaSbaaSqaaiaaic
    daaeqaaaqabaaaaaaa@53F9@</annotation></semantics></math>
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: <math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>m</mi><mi>p</mi><mi>e</mi><mi>r</mi><mi>m</mi><mi>a</mi><mi>n</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>L</mi><mi>o</mi><mi>s</mi><mi>s</mi><mo>=</mo><mi>l</mi><mi>i</mi><mi>q</mi><mo>⋅</mo>
    <mfrac><mrow><msup><mrow><mfenced><mrow><msqrt><mrow><msub><mi>p</mi> <mn>1</mn></msub></mrow></msqrt>
    <mo>−</mo> <msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfenced></mrow>
    <mn>2</mn></msup></mrow> <mrow><msqrt><mrow><msub><mi>p</mi> <mn>0</mn></msub></mrow></msqrt></mrow></mfrac></mrow>
    <annotation encoding="MathType-MTEF">MathType@MTEF@5@5@+= feaahCart1ev3aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
    hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr 4rNCHbGeaGqiVu0Je9sqqrpepC0xbbL8F4rqqrFfpeea0xe9Lq=Jc9
    vqaqpepm0xbba9pwe9Q8fs0=yqaqpepae9pg0FirpepeKkFr0xfr=x fr=xb9adbaqaaeGaciGaaiaabeqaamaabaabaaGcbaGaamysaiaad2
    gacaWGWbGaamyzaiaadkhacaWGTbGaamyyaiaad6gacaWGLbGaamOB aiaadshacaqGGaGaamitaiaad+gacaWGZbGaam4Caiabg2da9iaadY
    gacaWGPbGaamyCaiabgwSixpaalaaabaWaaeWaaeaadaGcaaqaaiaa dchadaWgaaWcbaGaaGymaaqabaaabeaakiabgkHiTmaakaaabaGaam
    iCamaaBaaaleaacaaIWaaabeaaaeqaaaGccaGLOaGaayzkaaWaaWba aSqabeaacaaIYaaaaaGcbaWaaOaaaeaacaWGWbWaaSbaaSqaaiaaic
    daaeqaaaqabaaaaaaa@53F9@</annotation></semantics></math>
- en: 'This is like saying the return on a stock that moved from 100 to 150 is different
    for someone who bought it at 50 and someone who bought it at 100: one made 100%,
    the other only 50% over that price increase. In practice, we apply consistent
    starting prices for the collective of those long and short, or all the LPs, which
    is intuitive and straightforward. It is like assuming they delta hedge once each
    period.'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 这就像说，对于从100涨到150的股票的回报对于从50购买的人和从100购买的人来说是不同的：一个人获得了100%，另一个前者仅获得了50%的价格上涨。实际上，我们为长持仓和短持仓的集合，或所有LP都应用一致的起始价格，这是直观和简单的。这就像假设他们每个期间都增量对冲一次。
- en: 'Another concern is that the square root function is noisier. Yet, one can apply
    any of these formulas at whatever frequency you want: by minute, hour, day. Using
    hourly data is a lot more work with negligible benefit. The errors generated will
    be normally distributed and diversify away in the same way regardless of one''s
    approach. If you use daily data to generate variance or generate your square of
    square roots, you lose the information from the intra-period price spike, but
    when you have hundreds of daily observations, the benefits of greater granularity
    are trivial.'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个问题是平方根函数会更嘈杂。然而，你可以在任何想要的频率应用这些公式：按分钟、小时、日。使用每小时的数据会更费力，而收益微乎其微。产生的误差将呈正态分布，并以相同的方式消散，无论采取哪种方法。如果你使用每日数据来生成方差或生成你的平方根的平方，你会失去在入期内价格波动的信息，但当你有数百个每日观察时，更大的细粒度带来的好处微乎其微。
- en: What you call the LP's convexity cost does not matter. What matters is you use
    something close to daily data intervals and eliminate the LP's delta risk, as
    all the above metrics do.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 你称之为LP的凸性成本并不重要。重要的是你使用接近每日数据间隔，并消除LP的增量风险，就像上述所有指标所做的那样。
