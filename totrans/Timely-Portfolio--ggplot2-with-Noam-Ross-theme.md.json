["```\nrequire(ggplot2)\nrequire(grid)\nrequire(RColorBrewer)\nrequire(quantmod)\n\n# get closing values for S&P 500 from Yahoo! Finance\nsp500 <- getSymbols(\"^GSPC\", auto.assign = FALSE)[, 4] \n```", "```\n sp500$ma <- runMean(sp500, n = 200)\n\ncolnames(sp500) <- c(\"S&P500\", \"200d Mov Avg\")\n\n# get noam ross ggplot2 theme from github\nsource(\"https://raw.github.com/noamross/noamtools/master/R/theme_nr.R\")\n# for some reason on my computer panel.background still shows up gray this\n# fixes it but might not be necessary for others\ntheme_nr <- theme_nr() + theme(panel.background = element_rect(fill = \"white\")) + \n    theme(plot.title = element_text(size = rel(2), hjust = -0.05, vjust = -0.3)) + \n    theme(plot.margin = unit(c(1, 1, 2, 1), \"cm\"))\n\nautoplot(sp500, facets = NULL) + theme_nr + theme(legend.position = \"none\") + \n    scale_colour_manual(values = brewer.pal(\"Blues\", n = 9)[c(6, 3)]) + geom_line(size = 1.15) + \n    xlab(NULL) + ggtitle(\"S&P 500 (ggplot2 theme by Noam Ross)\") \n```"]