- en: <!--yml
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: <!--yml
- en: 'category: æœªåˆ†ç±»'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: ç±»åˆ«ï¼šæœªåˆ†ç±»
- en: 'date: 2024-05-18 05:40:50'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: æ—¥æœŸï¼š2024-05-18 05:40:50
- en: -->
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: -->
- en: FX Trading Tile with Clojure/ClojureScript | Tales from a Trading Desk
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä½¿ç”¨Clojure/ClojureScriptè¿›è¡Œçš„FXäº¤æ˜“å›¾å— | äº¤æ˜“å°å¥‡è°­
- en: æ¥æºï¼š[https://mdavey.wordpress.com/2015/07/22/fx-trading-tile-with-clojureclojurescript/#0001-01-01](https://mdavey.wordpress.com/2015/07/22/fx-trading-tile-with-clojureclojurescript/#0001-01-01)
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ¥æºï¼š[https://mdavey.wordpress.com/2015/07/22/fx-trading-tile-with-clojureclojurescript/#0001-01-01](https://mdavey.wordpress.com/2015/07/22/fx-trading-tile-with-clojureclojurescript/#0001-01-01)
- en: Anyone who subscribes to any of my social network feeds would have seen an increase
    in Clojure noise over the last time period. Â Clojure is interesting not just from
    a language perspective (Lisp) but from the few financial projects that have made
    the conferences over the last few years. Â Although a niche language in many ways,
    it has a lot going for it, if like most things, you are prepared to invest a little
    time and effort.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: ä»»ä½•è®¢é˜…äº†æˆ‘ä»»ä½•ç¤¾äº¤ç½‘ç»œä¿¡æ¯æºçš„äººéƒ½ä¼šçœ‹åˆ°å…‹é²æ ¼å°”ï¼ˆClojureï¼‰åœ¨è¿‡å»ä¸€æ®µæ—¶é—´å†…çš„å¢åŠ ã€‚  å…‹é²æ ¼å°”ä¸ä»…ä»…æ˜¯ä¸€ç§è¯­è¨€ï¼ˆLispï¼‰çš„å…´è¶£ï¼Œè¿˜æœ‰åœ¨è¿‡å»å‡ å¹´å‚åŠ ä¼šè®®çš„ä¸€äº›é‡‘èé¡¹ç›®ã€‚
    å°½ç®¡åœ¨è®¸å¤šæ–¹é¢æ˜¯ä¸€ç§å°ä¼—è¯­è¨€ï¼Œä½†å¦‚æœåƒå¤§å¤šæ•°äº‹ç‰©ä¸€æ ·æ„¿æ„æŠ•å…¥ä¸€ç‚¹æ—¶é—´å’Œç²¾åŠ›çš„è¯ï¼Œå®ƒæœ‰å¾ˆå¤šä¼˜ç‚¹ã€‚
- en: What follows is my FX trading work in progress hack that will hopefully offer
    food for thought ğŸ˜‰
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥æ˜¯æˆ‘è¿›è¡Œä¸­çš„FXäº¤æ˜“æµ‹è¯•ï¼Œå¸Œæœ›èƒ½æä¾›ä¸€äº›æ€è·¯ğŸ˜‰
- en: The main aim of the code hack was to get a simple FX currency pair tile in a
    browser built using [ClojureScript](http://cljs.info/cheatsheet/), backed by a
    [Clojure](https://www.niwi.nz/cljs-workshop/#_first_steps_with_ajax) server. Â Starting
    point for the project asÂ [lein-figwheel](https://github.com/bhauman/lein-figwheel/wiki/Quick-Start)Â with
    [Reagent](https://reagent-project.github.io/index.html).
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: ä»£ç ä¿®æ”¹çš„ä¸»è¦ç›®çš„æ˜¯åœ¨æµè§ˆå™¨ä¸­åˆ›å»ºä¸€ä¸ªç®€å•çš„FXè´§å¸å¯¹å›¾å—ï¼Œä½¿ç”¨[ClojureScript](http://cljs.info/cheatsheet/)æ”¯æŒï¼Œç”±[Clojure](https://www.niwi.nz/cljs-workshop/#_first_steps_with_ajax)æœåŠ¡å™¨æ”¯æŒã€‚  é¡¹ç›®çš„èµ·ç‚¹æ˜¯[lein-figwheel](https://github.com/bhauman/lein-figwheel/wiki/Quick-Start)ï¼Œé‡‡ç”¨[Reagent](https://reagent-project.github.io/index.html)ã€‚
- en: Remember the code below (client followed by server code) has been hacked up,
    so ignore the hard coding et al. Â The primary aim is as a learning tool, never
    to enter production ğŸ™‚
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·å¿½ç•¥ä¸‹é¢çš„ä»£ç ï¼ˆå®¢æˆ·ç«¯ä»¥åŠæœåŠ¡å™¨ç«¯çš„ä»£ç ï¼‰å·²è¢«ä¿®æ”¹ï¼Œå› æ­¤å¿½ç•¥ç¡¬ç¼–ç ç­‰ã€‚ ä¸»è¦ç›®çš„æ˜¯ä½œä¸ºä¸€ç§å­¦ä¹ å·¥å…·ï¼Œæ°¸è¿œä¸ä¼šè¿›å…¥ç”Ÿäº§ ğŸ™‚
- en: '[PRE0]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'With the pricing component as per reference above, as follows:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ä¸Šé¢çš„å‚è€ƒç›¸åŒçš„å®šä»·ç»„ä»¶ï¼Œå¦‚ä¸‹ï¼š
- en: '[PRE1]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Clearly the code is using [atomâ€™s](http://clojure.org/atoms), as one would expect.
    I had a few problems with the [JSON](http://udayv.com/clojure/2014/08/19/json-web-services-with-clojure/)
    web service â€œorderâ€ method, but ended up resolving the issue withÂ [cljs-ajax](https://github.com/JulianBirch/cljs-ajax).
    Also using the [ring](https://github.com/ring-clojure/ring-json) server and handler
    to handle the routing. Â Had a few issues with [http-kit](http://www.http-kit.org/server.html)
    deserialisation of the request, but I think that was partly my own silliness.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: æ˜¾ç„¶ï¼Œä»£ç æ­£åœ¨ä½¿ç”¨[atomâ€™s](http://clojure.org/atoms)ï¼Œè¿™æ˜¯é¢„æœŸçš„ã€‚ æˆ‘åœ¨[JSON](http://udayv.com/clojure/2014/08/19/json-web-services-with-clojure/)
    webæœåŠ¡â€œorderâ€æ–¹æ³•ä¸Šé‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œä½†æœ€ç»ˆé€šè¿‡[cljs-ajax](https://github.com/JulianBirch/cljs-ajax)è§£å†³äº†é—®é¢˜ã€‚
    è¿˜ä½¿ç”¨äº†[ring](https://github.com/ring-clojure/ring-json)æœåŠ¡å™¨å’Œå¤„ç†ç¨‹åºæ¥å¤„ç†è·¯ç”±ã€‚ æˆ‘åœ¨[http-kit](http://www.http-kit.org/server.html)å¯¹è¯·æ±‚çš„ååºåˆ—åŒ–ä¸­é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œä½†æˆ‘è®¤ä¸ºè¿™éƒ¨åˆ†åŸå› æ˜¯æˆ‘è‡ªå·±æ„šè ¢çš„è¡Œä¸ºã€‚
- en: '[PRE2]'
  id: totrans-14
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Items to work on next:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹ä¸€æ­¥è¦è§£å†³çš„é—®é¢˜ï¼š
- en: Moving the simply price generator to the Clojure server, and streaming the prices
    via Websockets â€“ possible usingÂ [chord](https://github.com/jarohen/chord)Â or [Sente](https://github.com/ptaoussanis/sente).
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å°†ç®€å•ä»·æ ¼ç”Ÿæˆå™¨ç§»åŠ¨åˆ°ClojureæœåŠ¡å™¨ï¼Œå¹¶é€šè¿‡Websocketsæµå¼ä¼ è¾“ä»·æ ¼â€”å¯èƒ½ä½¿ç”¨[chord](https://github.com/jarohen/chord)æˆ–[Sente](https://github.com/ptaoussanis/sente)ã€‚
- en: Look at [agents](http://clojure.org/agents) for the server. Â [Avout](http://avout.io/)
    and [onyx](https://github.com/onyx-platform/onyx)Â also look interesting.
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æŸ¥çœ‹[agents](http://clojure.org/agents)ç”¨äºæœåŠ¡å™¨ã€‚ [Avout](http://avout.io/) å’Œ [onyx](https://github.com/onyx-platform/onyx)ä¹Ÿçœ‹èµ·æ¥æœ‰è¶£ã€‚
- en: Dependency injection (e.g. [clj-di](https://github.com/nvbn/clj-di)) and MVC
    would be niceÂ client side.
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¾èµ–æ³¨å…¥ï¼ˆä¾‹å¦‚[clj-di](https://github.com/nvbn/clj-di)ï¼‰å’ŒMVCåœ¨å®¢æˆ·ç«¯æ–¹é¢å°†æ˜¯ä¸é”™çš„ã€‚
- en: ~ by mdavey on July 22, 2015.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: ~ ç”± mdavey äº2015å¹´7æœˆ22æ—¥å‘å¸ƒ
- en: Posted in [Languages](https://mdavey.wordpress.com/category/languages/), [Trading](https://mdavey.wordpress.com/category/trading/)
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: å‘è¡¨åœ¨[è¯­è¨€](https://mdavey.wordpress.com/category/languages/)ï¼Œ[äº¤æ˜“](https://mdavey.wordpress.com/category/trading/)ä¸­
