["```\n\n###############################################################################\n# Load Systematic Investor Toolbox (SIT)\n# https://systematicinvestor.wordpress.com/systematic-investor-toolbox/\n###############################################################################\nsetInternet2(TRUE)\ncon = gzcon(url('http://www.systematicportfolio.com/sit.gz', 'rb'))\n    source(con)\nclose(con)\n\n\t#*****************************************************************\n\t# Load historical data for ETFs\n\t#****************************************************************** \n\tload.packages('quantmod,quadprog')\n\ttickers = spl('SPY,QQQ,EEM,IWM,EFA,TLT,IYR,GLD')\n\n\tdata <- new.env()\n\tgetSymbols(tickers, src = 'yahoo', from = '1980-01-01', env = data, auto.assign = T)\n\t\tfor(i in ls(data)) data[[i]] = adjustOHLC(data[[i]], use.Adjusted=T)\t\t\t\t\t\t\t\n\tbt.prep(data, align='keep.all', dates='2002:08::')\n\n```", "```\n\n\t#*****************************************************************\n\t# Code Strategies\n\t#****************************************************************** \t\n\n\tobj = portfolio.allocation.helper(data$prices, periodicity = 'weeks',\n\t\tmin.risk.fns = list(EW=equal.weight.portfolio,\n\t\t\t\t\t\tRP=risk.parity.portfolio,\n\t\t\t\t\t\tMV=min.var.portfolio,\n\t\t\t\t\t\tMD=max.div.portfolio,\n\t\t\t\t\t\tMC=min.corr.portfolio,\n\t\t\t\t\t\tMC2=min.corr2.portfolio),\n\t\tcustom.stats.fn = 'portfolio.allocation.custom.stats'\n\t) \n\n\tmodels = create.strategies(obj, data)$models\n\n```", "```\n\n    #*****************************************************************\n    # Create Report\n    #******************************************************************       \n\t# Plot perfromance\n\tlayout(1:2)\n\tplotbt(models, plotX = T, log = 'y', LeftMargin = 3)\t    \t\n\t\tmtext('Cumulative Performance', side = 2, line = 1)\n\n\tout = plotbt.strategy.sidebyside(models, return.table=T)\n\n\t# Plot time series of components of Composite Diversification Indicator\n\tcdi = custom.composite.diversification.indicator(obj,plot.table = F)\t\n\t\tout = rbind(colMeans(cdi, na.rm=T), out)\n\t\trownames(out)[1] = 'Composite Diversification Indicator(CDI)'\n\n\t# Portfolio Turnover for each strategy\n\ty = 100 * sapply(models, compute.turnover, data)\n\t\tout = rbind(y, out)\n\t\trownames(out)[1] = 'Portfolio Turnover'\t\t\n\n\t# Plot and compare strategies across different metrics\n\tperformance.barchart.helper(out, 'Sharpe,Cagr,DVR,MaxDD', c(T,T,T,T))\n\n\tperformance.barchart.helper(out, 'Volatility,Portfolio Turnover,Composite Diversification Indicator(CDI)', c(F,F,T))\n\n\t# Plot transition maps\n\tlayout(1:len(models))\n\tfor(m in names(models)) {\n\t\tplotbt.transition.map(models[[m]]$weight, name=m)\n\t\t\tlegend('topright', legend = m, bty = 'n')\n\t}\n\n\t# Plot transition maps for Risk Contributions\n\tdates = index(data$prices)[obj$period.ends]\n\tfor(m in names(models)) {\n\t\tplotbt.transition.map(make.xts(obj$risk.contributions[[m]], dates), \n\t\tname=paste('Risk Contributions',m))\n\t\t\tlegend('topright', legend = m, bty = 'n')\n\t}\n\n```"]