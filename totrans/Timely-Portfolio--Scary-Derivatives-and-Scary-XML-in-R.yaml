- en: <!--yml
  prefs: []
  type: TYPE_NORMAL
- en: 'category: 未分类'
  prefs: []
  type: TYPE_NORMAL
- en: 'date: 2024-05-18 15:13:17'
  prefs: []
  type: TYPE_NORMAL
- en: -->
  prefs: []
  type: TYPE_NORMAL
- en: 'Timely Portfolio: Scary Derivatives and Scary XML in R'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 来源：[http://timelyportfolio.blogspot.com/2011/07/scary-derivatives-and-scary-xml-in-r.html#0001-01-01](http://timelyportfolio.blogspot.com/2011/07/scary-derivatives-and-scary-xml-in-r.html#0001-01-01)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: I need some new R skills, and there is no better motivation to learn XML in
    R than one of the scariest financial datasets out there—the US Department of the
    Treasury Office of the Comptroller of the Currency (OCC) Quarterly Derivatives
    Report. I’ll move to the even scarier global [BIS derivatives data](http://www.bis.org/publ/otc_hy1105.htm)
    in a later post to avoid inducing nightmares and sleepless nights.
  prefs: []
  type: TYPE_NORMAL
- en: The massive damage caused in 2008-2009 by the sliver of derivatives called credit
    default swaps seems like a faint warning siren when we see that they only represent
    < 7% of total derivatives exposure.  Interest rate and currency derivatives, also
    where I think the next disaster occurs, are more than 10 times larger than these
    credit contracts at $226 Trillion.  While some take comfort in
  prefs: []
  type: TYPE_NORMAL
- en: '“Bilateral Netting: A legally enforceable arrangement between a bank and a
    counterparty that creates a single legal obligation covering all included individual
    contracts. This means that a bank‟s receivable or payable, in the event of the
    default or insolvency of one of the parties, would be the net sum of all positive
    and negative fair values of contracts included in the bilateral netting arrangement.”'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: bilateral netting does not work so well when your counterparty fails like Lehman
    Brothers.
  prefs: []
  type: TYPE_NORMAL
- en: I know there must be a better way to read Microsoft Excel XML spreadsheets in
    R, but these were my two most elegant methods.  Please let me know how I could
    have done better.
  prefs: []
  type: TYPE_NORMAL
- en: '[R code (click to download):](https://docs.google.com/leaf?id=0B2qp2r96khJPODIzYjViNGUtYjQyYi00NTkyLWIyNDgtMTE5MmVjZGU0MjVm&hl=en_US)'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '[Created by Pretty R at inside-R.org](http://www.inside-r.org/pretty-r "Created
    by Pretty R at inside-R.org")'
  prefs: []
  type: TYPE_NORMAL
