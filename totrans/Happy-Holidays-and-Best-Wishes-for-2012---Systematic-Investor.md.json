["```\n\n# Load Systematic Investor Toolbox (SIT)\nsetInternet2(TRUE)\ncon = gzcon(url('https://github.com/systematicinvestor/SIT/raw/master/sit.gz', 'rb'))\n\tsource(con)\nclose(con)\n\n\t#*****************************************************************\n\t# Load historical data\n\t#****************************************************************** \n\tload.packages('quantmod')\t\n\ttickers = spl('SPY')\n\n\tdata <- new.env()\n\tgetSymbols(tickers, src = 'yahoo', from = '1970-01-01', env = data, auto.assign = T)\n\t\tfor(i in ls(data)) data[[i]] = adjustOHLC(data[[i]], use.Adjusted=T)\t\t\n\tbt.prep(data, align='remove.na', dates='1970::2011')\n\n\t#*****************************************************************\n\t# Prepare Data for the plot\n\t#****************************************************************** \n\tprices = data$prices  \n\tn = len(tickers)  \n\tret = prices / mlag(prices) - 1\n\n\t# find prices in December\n\tdates = index(prices)\n\tyears = date.year(dates)\t\n\tindex = which(date.month(dates) == 12)\n\n\t# rearrange data in trading days\n\ttrading.days = sapply(tapply(ret[index,], years[index], function(x) coredata(x)), function(x) x[1:22])\n\n\t# average return each trading days, excluding current year\n\tavg.trading.days = apply(trading.days[, -ncol(trading.days)], 1, mean, na.rm=T)\n\tcurrent.year = trading.days[, ncol(trading.days)]\n\n\t# cumulative\n\tavg.trading.days = 100 * ( cumprod(1 + avg.trading.days) - 1 )\n\tcurrent.year = 100 * ( cumprod(1 + current.year) - 1 )\n\n\t#*****************************************************************\n\t# Create Plot\n\t#****************************************************************** \t\n\tpar(mar=c(4,4,1,1))\n\tplot(avg.trading.days, type='b', col=1,\n\t\tylim=range(avg.trading.days,current.year,na.rm=T),\n\t\txlab = 'Number of Trading Days in December',\n\t\tylab = 'Avg % Profit/Loss'\n\t\t)\n\t\tlines(current.year, type='b', col=2)\n\tgrid()\n\tplota.legend('Avg SPY,SPY Dec 2011', 1:2)\n\n```"]