["```\n\n###############################################################################\n# Load Systematic Investor Toolbox (SIT)\n# https://systematicinvestor.wordpress.com/systematic-investor-toolbox/\n###############################################################################\nsetInternet2(TRUE)\ncon = gzcon(url('http://www.systematicportfolio.com/sit.gz', 'rb'))\n    source(con)\nclose(con)\n\n\t#*****************************************************************\n\t# Load historical data for ETFs\n\t#****************************************************************** \n\tload.packages('quantmod')\n\n\ttickers = spl('XLY,XLP,XLE,XLF,XLV,XLI,XLB,XLK,XLU')\n\n\tdata <- new.env()\n\tgetSymbols(tickers, src = 'yahoo', from = '1900-01-01', env = data, auto.assign = T)\n\t\tfor(i in ls(data)) data[[i]] = adjustOHLC(data[[i]], use.Adjusted=T)\t\t\n\tbt.prep(data, align='keep.all')\n\n\t#*****************************************************************\n\t# Helper function to compute portfolio allocation additional stats\n\t#****************************************************************** \n\tportfolio.allocation.custom.stats.clusters <- function(x,ia) {\n\t\treturn(list(\n\t\t\tclusters.FTCA = cluster.group.FTCA(0.5)(ia)\t\t\t\n\t\t))\n\t}\n\n\t#*****************************************************************\n\t# Find clusters\n\t#****************************************************************** \t\t\n\tperiodicity = 'months'\n\tlookback.len = 252\n\n\tobj = portfolio.allocation.helper(data$prices, \n\t\tperiodicity = periodicity, lookback.len = lookback.len,\n\t\tmin.risk.fns = list(EW=equal.weight.portfolio),\n\t\tcustom.stats.fn = portfolio.allocation.custom.stats.clusters\n\t) \t\t\t\n\n\tclusters = obj$clusters.FTCA$EW\t\n\tclusters['2012:05::']\n\n```", "```\n\n           XLB XLE XLF XLI XLK XLP XLU XLV XLY\n2012-05-31   1   1   1   1   1   1   1   1   1\n2012-06-29   1   1   1   1   1   1   1   1   1\n2012-07-31   1   1   1   1   1   1   1   1   1\n2012-08-31   1   1   1   1   1   1   1   1   1\n2012-09-28   1   1   1   1   1   1   1   1   1\n2012-10-31   1   1   1   1   1   1   1   1   1\n2012-11-30   2   2   2   2   2   2   1   2   2\n2012-12-31   2   2   2   2   2   2   1   2   2\n2013-01-31   2   2   2   2   2   2   1   2   2\n2013-02-28   1   1   1   1   1   1   1   1   1\n2013-03-28   1   1   1   1   1   1   1   1   1\n2013-04-30   1   1   1   1   1   1   1   1   1\n2013-05-31   1   1   1   1   1   1   1   1   1\n2013-06-28   1   1   1   1   1   1   1   1   1\n2013-07-31   1   1   1   1   1   1   1   1   1\n2013-08-30   1   1   1   1   1   1   1   1   1\n2013-09-30   1   1   1   1   1   1   1   1   1\n2013-10-31   1   1   1   1   1   1   1   1   1\n2013-11-26   1   1   1   1   1   1   1   1   1\n\n```", "```\n\n\t#*****************************************************************\n\t# Code Strategies\n\t#****************************************************************** \t\t\t\t\t\n\tobj = portfolio.allocation.helper(data$prices, \n\t\tperiodicity = periodicity, lookback.len = lookback.len, \n\t\tmin.risk.fns = list(\n\t\t\tC.EW.kmeans = distribute.weights(equal.weight.portfolio, cluster.group.kmeans.90),\n\t\t\tC.EW.FTCA = distribute.weights(equal.weight.portfolio, cluster.group.FTCA(0.5))\t\t\t\n\t\t)\n\t)\n\n\tmodels = create.strategies(obj, data)$models\n\n\t#*****************************************************************\n\t# Create Report\n\t#******************************************************************    \n\tbarplot.with.labels(sapply(models, compute.turnover, data), 'Average Annual Portfolio Turnover')\n\n```"]