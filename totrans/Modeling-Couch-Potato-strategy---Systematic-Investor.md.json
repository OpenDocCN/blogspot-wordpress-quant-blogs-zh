["```\n\n###############################################################################\n# Load Systematic Investor Toolbox (SIT)\n# https://systematicinvestor.wordpress.com/systematic-investor-toolbox/\n###############################################################################\nsetInternet2(TRUE)\ncon = gzcon(url('http://www.systematicportfolio.com/sit.gz', 'rb'))\n    source(con)\nclose(con)\n\n\t# helper function to model Couch Potato strategy - a fixed allocation strategy\n\tcouch.potato.strategy <- function\n\t(\n\t\tdata.all,\n\t\ttickers = 'XIC.TO,XSP.TO,XBB.TO',\n\t\tweights = c( 1/3, 1/3, 1/3 ), \t\t\n\t\tperiodicity = 'years',\n\t\tdates = '1900::',\n\t\tcommission = 0.1\n\t) \n\t{ \n\t\t#*****************************************************************\n\t\t# Load historical data \n\t\t#****************************************************************** \n\t\ttickers = spl(tickers)\n\t\tnames(weights) = tickers\n\n\t\tdata <- new.env()\n\t\tfor(s in tickers) data[[ s ]] = data.all[[ s ]]\n\n\t\tbt.prep(data, align='remove.na', dates=dates)\n\n\t\t#*****************************************************************\n\t\t# Code Strategies\n\t\t#******************************************************************\n\t\tprices = data$prices   \n\t\t\tn = ncol(prices)\n\t\t\tnperiods = nrow(prices)\n\n\t\t# find period ends\n\t\tperiod.ends = endpoints(data$prices, periodicity)\n\t\t\tperiod.ends = c(1, period.ends[period.ends > 0])\n\n\t\t#*****************************************************************\n\t\t# Code Strategies\n\t\t#******************************************************************\n\t\tdata$weight[] = NA\n\t\t\tfor(s in tickers) data$weight[period.ends, s] = weights[s]\n\t\tmodel = bt.run.share(data, clean.signal=F, commission=commission)\n\n\t\treturn(model)\n\t} \t\n\n```", "```\n\n\t#*****************************************************************\n\t# Load historical data\n\t#****************************************************************** \n\tload.packages('quantmod')\t\n\tmap = list()\n\t\tmap$can.eq = 'XIC.TO'\n\t\tmap$can.div = 'XDV.TO'\t\t\n\t\tmap$us.eq = 'XSP.TO'\n\t\tmap$us.div = 'DVY'\t\t\t\n\t\tmap$int.eq = 'XIN.TO'\t\t\n\t\tmap$can.bond = 'XBB.TO'\n\t\tmap$can.real.bond = 'XRB.TO'\n\t\tmap$can.re = 'XRE.TO'\t\t\n\t\tmap$can.it = 'XTR.TO'\n\t\tmap$can.gold = 'XGD.TO'\n\n\tdata <- new.env()\n\tfor(s in names(map)) {\n\t\tdata[[ s ]] = getSymbols(map[[ s ]], src = 'yahoo', from = '1995-01-01', env = data, auto.assign = F)\n\t\tdata[[ s ]] = adjustOHLC(data[[ s ]], use.Adjusted=T)\t\n\t}\n\n\t#*****************************************************************\n\t# Code Strategies\n\t#****************************************************************** \n\tmodels = list()\n\t\tperiodicity = 'years'\n\t\tdates = '2006::'\n\n\tmodels$classic = couch.potato.strategy(data, 'can.eq,us.eq,can.bond', rep(1/3,3), periodicity, dates)\n\tmodels$global = couch.potato.strategy(data, 'can.eq,us.eq,int.eq,can.bond', c(0.2, 0.2, 0.2, 0.4), periodicity, dates)\n\tmodels$yield = couch.potato.strategy(data, 'can.div,can.it,us.div,can.bond', c(0.25, 0.25, 0.25, 0.25), periodicity, dates)\n\tmodels$growth = couch.potato.strategy(data, 'can.eq,us.eq,int.eq,can.bond', c(0.25, 0.25, 0.25, 0.25), periodicity, dates)\n\n\tmodels$complete = couch.potato.strategy(data, 'can.eq,us.eq,int.eq,can.re,can.real.bond,can.bond', c(0.2, 0.15, 0.15, 0.1, 0.1, 0.3), periodicity, dates)\t\n\n\tmodels$permanent = couch.potato.strategy(data, 'can.eq,can.gold,can.bond', c(0.25,0.25,0.5), periodicity, dates)\t\n\n\t#*****************************************************************\n\t# Create Report\n\t#****************************************************************** \n\tplotbt.custom.report.part1(models)\n\n```", "```\n\n\t#*****************************************************************\n\t# Load historical data\n\t#****************************************************************** \n\ttickers = spl('VIPSX,VTSMX,VGTSX,SPY,TLT,GLD,SHY')\n\n\tdata <- new.env()\n\tgetSymbols(tickers, src = 'yahoo', from = '1995-01-01', env = data, auto.assign = T)\n\t\tfor(i in ls(data)) data[[i]] = adjustOHLC(data[[i]], use.Adjusted=T)\t\n\n\t\t# extend GLD with Gold.PM - London Gold afternoon fixing prices\n\t\tdata$GLD = extend.GLD(data$GLD)\n\n\t#*****************************************************************\n\t# Code Strategies\n\t#****************************************************************** \n\tmodels = list()\n\t\tperiodicity = 'years'\n\t\tdates = '2003::'\n\n\tmodels$classic = couch.potato.strategy(data, 'VIPSX,VTSMX', rep(1/2,2), periodicity, dates)\n\tmodels$margarita = couch.potato.strategy(data, 'VIPSX,VTSMX,VGTSX', rep(1/3,3), periodicity, dates)\n\tmodels$permanent = couch.potato.strategy(data, 'SPY,TLT,GLD,SHY', rep(1/4,4), periodicity, dates)\n\n\t#*****************************************************************\n\t# Create Report\n\t#****************************************************************** \n\tplotbt.custom.report.part1(models)\n\n```"]