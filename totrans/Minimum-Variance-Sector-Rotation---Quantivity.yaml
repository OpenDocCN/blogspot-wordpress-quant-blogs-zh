- en: <!--yml
  prefs: []
  type: TYPE_NORMAL
- en: 'category: 未分类'
  prefs: []
  type: TYPE_NORMAL
- en: 'date: 2024-05-18 13:44:28'
  prefs: []
  type: TYPE_NORMAL
- en: -->
  prefs: []
  type: TYPE_NORMAL
- en: Minimum Variance Sector Rotation | Quantivity
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 来源：[https://quantivity.wordpress.com/2011/04/20/minimum-variance-sector-rotation/#0001-01-01](https://quantivity.wordpress.com/2011/04/20/minimum-variance-sector-rotation/#0001-01-01)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Numerous readers inquired how to rethink asset allocation in a world where [Portfolio
    Theory is Dead](https://quantivity.wordpress.com/2011/04/10/portfolio-theory-is-dead-now-what/).
    One approach is embracing [dynamic asset allocation](http://en.wikipedia.org/wiki/Dynamic_asset_allocation)
    while assuming zero risk premium, recognizing that estimating portfolio return
    moments via standard longitudinal time series analysis turns out to be [flawed
    in practice](https://quantivity.wordpress.com/2009/08/16/naive-backtesting-is-bogus/)
    (irregardless of robust statistical estimators). In this world, the notion of
    *strategic* asset allocation is *nonsense* and thus buy-and-hold investors are
    unknowingly gambling.
  prefs: []
  type: TYPE_NORMAL
- en: 'Acknowledging this trend, the historical distinction between short-term “trading”
    and long-term “investing” is gradually blurring. This post rethinks [sector rotation](http://en.wikipedia.org/wiki/Sector_rotation)
    by applying [minimum variance portfolios](https://quantivity.wordpress.com/2011/04/17/minimum-variance-portfolios/).
    Although Quantivity dislikes classic sector rotation as it’s both *discretionary*
    and *predictive*, applying minimum variance is interesting: systematic, prediction-free
    way to model rotation. In doing so, providing a quantitative lens to analyze rotation
    both *ex post* and *ex ante*.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Start with the following simple *minimum variance sector rotation* model, assuming
    no short sale restriction:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Instruments: nine sectors constituting the S&P 500, represented by their corresponding
    ETFs; materials, energy, financials, tech, industrial, staples, utilities, healthcare,
    discretionary (XLB, XLE, XLF, XLK, XLI, XLP, XLU, XLV, XLY)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Period: 2003 – 2010, which is interesting as it includes numerous fundamentally
    different market regimes, including one significant *endogenous* crash'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Weighting: generate sector weights *once per year* on 1 Jan, based upon the
    preceding year of daily log returns'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Note the choice of one year of daily returns is *arbitrary*, deliberately not
    based upon snooped or mined optimization. For easy reference, the log return performance
    of each sector is illustrated below:'
  prefs: []
  type: TYPE_NORMAL
- en: '[![](img/6c856f45ef439050dc17cdcbc3e97653.png "sector-rets")](https://quantivity.wordpress.com/wp-content/uploads/2011/04/sector-rets.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Given this model, begin by letting the data speak and consider two *ex post*
    exploratory analyses focused on visualizing the sector covariance structure. First,
    visualize the proportion of variance via longitudinal principal components evaluated
    annually over the period (again using [Ledoit-Wolf estimator](https://quantivity.wordpress.com/2011/04/17/minimum-variance-portfolios/)):'
  prefs: []
  type: TYPE_NORMAL
- en: '[![](img/76ea8154921b8da87501d5e81c563187.png "longitudinal-pca-decomp")](https://quantivity.wordpress.com/wp-content/uploads/2011/04/longitudinal-pca-decomp2.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'This illustrates the primary component (labelled “Comp. 1”) is both *dominant
    yet fairly unstable* over the period: consistently explaining over 60% of variance,
    jumping nearly 20% year-over-year in 2007, and peaking at 84% in 2010\. Recall
    standard interpretation of the primary component as the *market component*, reflecting
    the common variance amongst all instruments in the “market” (*e.g.* see Tsay [2005],
    p. 424).'
  prefs: []
  type: TYPE_NORMAL
- en: The discontinuity in 2007 implies a fairly significant *market correlation regime
    shift*, towards greater co-movement during and after 2007\. While this makes economic
    sense during 2007 – 2009 (crisis and subsequent grind down to capitulation in
    2009), the continued increase in variance explained by the market component through
    2010 is surprising given the steep recovery.
  prefs: []
  type: TYPE_NORMAL
- en: 'Second, turn attention to minimum variance and generate sector weights on an
    annual basis. Plot the temporal evolution of those weights over the period to
    see how each sector contributes to minimizing “risk” within the overall S&P 500
    index at varying times during this period:'
  prefs: []
  type: TYPE_NORMAL
- en: '[![](img/b63aef83a749f29fa38817425a0bb200.png "annual-mv-sector-weights")](https://quantivity.wordpress.com/wp-content/uploads/2011/04/annual-mv-sector-weights.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Economic intuition suggests sector weights should broadly reflect macro trends,
    just as with principal components. Several observations provide positive corroboration:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Defensive sectors: stapes and healthcare (and utilities, to a lesser extent)
    are consistent and significant long weights, bearing out their mythology as “defensive”
    sectors; particularly interesting to compare with very strong post-crash performance
    of staples (see returns diagram above)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Financials: peak slightly above zero weight in 2005 and subsequently decrease
    to small short weights; consistent with intuition, given their central role in
    the financial collapse'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Tech: negative weight coming out of post-tech bubble residual, increasing to
    modest long weight as the post-crash recovery accelerated in 2009 and tech helped
    lead the recovery'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Energy: on a nearly linear trend downward from modest long to small short weight,
    arguably reflecting the increasing price volatility of oil'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Consider now an *ex ante* perspective: a *minimum variance sector rotation*
    strategy, based upon weights calculated above. Specifically, open positions on
    1 Jan which correspond to the portfolio of minimum variance weights, calculated
    from the previous year per the above model. Admittedly simple, this strategy remains
    fully-invested at all times, rebalances annually, and does not filter based upon
    market regime. In other words, a *simple systematic dynamic asset allocation*
    based on annual lookback with very low transaction costs.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Given combo of strategy simplicity and remarkably dynamic market environment,
    *a priori* intuition suggests performance of this strategy should be boring. The
    actual cumulative log returns per year are illustrated in the following graphic:'
  prefs: []
  type: TYPE_NORMAL
- en: '[![](img/3a0311076345c8483e981129cf6d7055.png "min-var-sector-rets")](https://quantivity.wordpress.com/wp-content/uploads/2011/04/min-var-sector-rets.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, concatenated into continuous cumulative daily returns and overlay with
    SPY log returns for corresponding time period:'
  prefs: []
  type: TYPE_NORMAL
- en: '[![](img/e9269a5143f0c1635a3fc51eec3184be.png "mvp-pl")](https://quantivity.wordpress.com/wp-content/uploads/2011/04/mvp-pl2.png)'
  prefs: []
  type: TYPE_NORMAL
- en: 'The obligatory strategy summary statistics versus beta benchmark:'
  prefs: []
  type: TYPE_NORMAL
- en: '|  | MVP | SPY |'
  prefs: []
  type: TYPE_TB
- en: '| Max drawdown    | 9.984622 % | 23.9207 % |'
  prefs: []
  type: TYPE_TB
- en: '| Std Dev | 0.008390046 | 0.01359853 |'
  prefs: []
  type: TYPE_TB
- en: '| Sharpe | 0.6171763 | 0.2172976 |'
  prefs: []
  type: TYPE_TB
- en: '| Wins | 54.05559 % | 54.76731 % |'
  prefs: []
  type: TYPE_TB
- en: '| Losses | 45.94441 % | 45.23269 % |'
  prefs: []
  type: TYPE_TB
- en: '| Avg Win | 0.3218431 % | 0.4352086 % |'
  prefs: []
  type: TYPE_TB
- en: '| Avg Loss | -0.2895475 % | -0.4163521 % |'
  prefs: []
  type: TYPE_TB
- en: 'In summary, performance of this strategy broadly matches aspirational intent
    for minimum variance portfolios: comparable performance during normal market environment,
    underperform during market exuberance, smaller comparative variance (*e.g.* average
    win/loss), higher sharpe, and significantly smaller max drawdown. All good stuff.'
  prefs: []
  type: TYPE_NORMAL
- en: While hardy noteworthy, this analysis and toy strategy illustrates minimum variance
    portfolios applied to sector rotation do appear to trade consistent with their
    theoretical claims of benefit. Of course, there are many interesting avenues for
    improving this strategy.
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: 'For readers seeking to follow along in R, analysis and plotting code for this
    post are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
