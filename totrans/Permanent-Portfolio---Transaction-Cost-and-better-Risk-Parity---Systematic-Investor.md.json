["```\n\n# original strategy\nmodels$dollar = bt.run.share(data, clean.signal=F)\n\n# assuming 10c a share commissions\nmodels$dollar = bt.run.share(data, commission=0.1, clean.signal=F)\n\n```", "```\n\n\t#*****************************************************************\n\t# Risk Weighted: allocate only to 3 asset classes: stocks(SPY), gold(GLD), and treasuries(TLT)\n\t#****************************************************************** \t\t\t\t\n\tret.log = bt.apply.matrix(prices, ROC, type='continuous')\n\thist.vol = sqrt(252) * bt.apply.matrix(ret.log, runSD, n = 21)\t\n\tweight.risk = weight.dollar / hist.vol\n\t\tweight.risk$SHY = 0 \n\t\tweight.risk = weight.risk / rowSums(weight.risk)\n\n\tdata$weight[] = NA\n\t\tdata$weight[period.ends,] = weight.risk[period.ends,]\n\tmodels$risk = bt.run.share(data, commission=commission, clean.signal=F)\n\n\t#*****************************************************************\n\t# Risk Weighted + 7% target volatility\n\t#****************************************************************** \t\t\t\t\n\tdata$weight[] = NA\n\t\tdata$weight[period.ends,] = target.vol.strategy(models$risk,\n\t\t\t\t\t\tweight.risk, 7/100, 21, 100/100)[period.ends,]\n\tmodels$risk.target7 = bt.run.share(data, commission=commission, clean.signal=F)\n\n\t#*****************************************************************\n\t# Risk Weighted + 7% target volatility + SHY\n\t#****************************************************************** \t\t\t\t\n\tdata$weight[] = NA\n\t\tdata$weight[period.ends,] = target.vol.strategy(models$risk,\n\t\t\t\t\t\tweight.risk, 7/100, 21, 100/100)[period.ends,]\n\n  \t\tcash = 1-rowSums(data$weight)\n\t    data$weight$SHY[period.ends,] = cash[period.ends]\n\tmodels$risk.target7.shy = bt.run.share(data, commission=commission, clean.signal=F)\n\n```"]