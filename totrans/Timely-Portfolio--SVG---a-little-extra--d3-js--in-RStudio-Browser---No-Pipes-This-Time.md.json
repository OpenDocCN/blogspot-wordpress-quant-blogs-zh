["```\nlibrary(SVGAnnotation)\nlibrary(htmltools)\n\nrespXML <- function( svg_xml, height = NULL, width = \"100%\", print = T, ... ){\n  # svg_xml should be an XML document\n  library(htmltools)\n  library(XML)\n\n  svg <- structure(\n    ifelse(\n      length(getDefaultNamespace(svg_xml)) > 0\n      ,getNodeSet(svg_xml,\"//x:svg\", \"x\")\n      ,getNodeSet(svg_xml,\"//svg\")\n    )\n    ,class=\"XMLNodeSet\"\n  )\n\n  xmlApply(\n    svg\n    ,function(s){\n     a = xmlAttrs(s)\n     removeAttributes(s)\n     xmlAttrs(s) <- a[-(1:2)]\n     xmlAttrs(s) <- c(\n       style = paste0(\n         \"height:100%;width:100%;\"\n       )\n     )\n    }\n  )\n\n  svg <- HTML( saveXML( svg_xml) )\n\n  svg <- tags$div(\n      style = paste(\n        sprintf('width:%s;',width)\n        ,ifelse(!is.null(height),sprintf('height:%s;',height),\"\")\n      )\n      ,svg\n    )\n\n  if(print) html_print(svg) \n\n  return( invisible( svg ) )\n}\n\n```", "```\n# make our plot here\n# since we will need to manipulate to add a g container\n# for smoother d3 pan/zoom\nsP = respXML( \n  svgPlot(\n    dotchart(\n      t(VADeaths)\n      , xlim = c(0,100)\n      , main = \"Death Rates in Virginia - 1940\"\n    )\n  )\n  , height = \"100%\"\n  , print = F\n)\n\n# parse the plot html with rvest\nsP = html(as.character(sP))\n# add a g node to contain the plot\n#  for smoother d3 pan / zoom\ng = newXMLNode(\"g\")\n# add the old g to our new g container\naddChildren(g, html_nodes(sP,\"svg > g\"))\n# add our new g container to our svg\naddChildren(html_nodes(sP,\"svg\")[[1]],g)\n\nhtml_print(attachDependencies(\n  tagList(\n    # get the div with our modified svg\n    HTML(saveXML(html_nodes(sP,\"div\")[[1]]))\n    , tags$script(\n      HTML(\n        '\n        var g = d3.select(\"svg > g\");\n        var zoom = d3.behavior.zoom().scaleExtent([1, 8]).on(\"zoom\", zoomed)\n        g.call(zoom)\n\n        function zoomed() {\n          g.select(\"g\")\n            .attr(\n              \"transform\",\n              \"translate(\" + d3.event.translate + \")scale(\" + d3.event.scale + \")\"\n            );\n        }\n        '\n      )\n      )\n      )\n  ,htmlDependency(\n    name=\"d3\"\n    ,version=\"3.0\"\n    ,src=c(\"href\"=\"http://d3js.org/\")\n    ,script=\"d3.v3.js\"\n  )\n      ))\n```"]