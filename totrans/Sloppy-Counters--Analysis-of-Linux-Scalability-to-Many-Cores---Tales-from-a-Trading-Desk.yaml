- en: <!--yml
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: <!--yml
- en: 'category: æœªåˆ†ç±»'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ†ç±»ï¼šæœªåˆ†ç±»
- en: 'date: 2024-05-18 06:26:29'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: æ—¥æœŸï¼š2024-05-18 06:26:29
- en: -->
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: -->
- en: 'Sloppy Counters: Analysis of Linux Scalability to Many Cores | Tales from a
    Trading Desk'
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç²—ç•¥è®¡æ•°å™¨ï¼šåˆ†æ Linux åœ¨å¤šæ ¸ä¸Šçš„å¯æ‰©å±•æ€§ | æ¥è‡ªäº¤æ˜“å°çš„æ•…äº‹
- en: æ¥æºï¼š[https://mdavey.wordpress.com/2013/04/23/sloppy-counters-analysis-of-linux-scalability-to-many-cores/#0001-01-01](https://mdavey.wordpress.com/2013/04/23/sloppy-counters-analysis-of-linux-scalability-to-many-cores/#0001-01-01)
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ¥æºï¼š[https://mdavey.wordpress.com/2013/04/23/sloppy-counters-analysis-of-linux-scalability-to-many-cores/#0001-01-01](https://mdavey.wordpress.com/2013/04/23/sloppy-counters-analysis-of-linux-scalability-to-many-cores/#0001-01-01)
- en: 'Sloppy Counters: Analysis of Linux Scalability to ManyÂ Cores'
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç²—ç•¥è®¡æ•°å™¨ï¼šåˆ†æ Linux åœ¨å¤šæ ¸ä¸Šçš„å¯æ‰©å±•æ€§
- en: 'From page 7 of the [paper](http://pdos.csail.mit.edu/papers/linux:osdi10.pdf):'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥è‡ª[è®ºæ–‡](http://pdos.csail.mit.edu/papers/linux:osdi10.pdf)ç¬¬ 7 é¡µï¼š
- en: Our solution, which we call sloppy counters, builds on the intuition that each
    core can hold a few spare references to an object, in hopes that it can give ownership
    of these references to threads running on that core, without having to modify
    the global reference count. More concretely, a sloppy counter represents one logical
    counter as a single shared central counter and a set of per-core counts of spare
    references. When a core increments a sloppy counter by V , it ï¬rst tries to acquire
    a spare reference by decrementing its per-core counter by V . If the percore counter
    is greater than or equal to V , meaning there are sufï¬cient local references,
    the decrement succeeds.Â  Otherwise the core must acquire the references from the
    central counter, so it increments the shared counter by V . When a core decrements
    a sloppy counter by V , it releases these references as local spare references,
    incrementing its per-core counter by V.
  id: totrans-8
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆï¼Œç§°ä¸ºç²—ç•¥è®¡æ•°å™¨ï¼ŒåŸºäºè¿™æ ·çš„ç›´è§‰ï¼šæ¯ä¸ªæ ¸å¿ƒå¯ä»¥æŒæœ‰å°‘é‡å¯¹å¯¹è±¡çš„å¤‡ç”¨å¼•ç”¨ï¼Œå¸Œæœ›å¯ä»¥å°†è¿™äº›å¼•ç”¨çš„æ‰€æœ‰æƒèµ‹äºˆåœ¨è¯¥æ ¸å¿ƒä¸Šè¿è¡Œçš„çº¿ç¨‹ï¼Œè€Œæ— éœ€ä¿®æ”¹å…¨å±€å¼•ç”¨è®¡æ•°ã€‚æ›´å…·ä½“åœ°è¯´ï¼Œç²—ç•¥è®¡æ•°å™¨å°†ä¸€ä¸ªé€»è¾‘è®¡æ•°å™¨è¡¨ç¤ºä¸ºå•ä¸ªå…±äº«ä¸­å¤®è®¡æ•°å™¨å’Œä¸€ç»„æ¯ä¸ªæ ¸å¿ƒè®¡æ•°çš„å¤‡ç”¨å¼•ç”¨ã€‚å½“ä¸€ä¸ªæ ¸å¿ƒå°†ç²—ç•¥è®¡æ•°å™¨å¢åŠ 
    V æ—¶ï¼Œå®ƒé¦–å…ˆå°è¯•é€šè¿‡å°†å…¶æ¯ä¸ªæ ¸å¿ƒè®¡æ•°å‡å°‘ V æ¥è·å–å¤‡ç”¨å¼•ç”¨ã€‚å¦‚æœæ¯ä¸ªæ ¸å¿ƒè®¡æ•°å¤§äºæˆ–ç­‰äº Vï¼Œè¡¨ç¤ºæœ‰è¶³å¤Ÿçš„æœ¬åœ°å¼•ç”¨ï¼Œåˆ™å‡å°‘æˆåŠŸã€‚å¦åˆ™ï¼Œæ ¸å¿ƒå¿…é¡»ä»ä¸­å¤®è®¡æ•°å™¨è·å–å¼•ç”¨ï¼Œå› æ­¤å®ƒå°†å…±äº«è®¡æ•°å™¨å¢åŠ 
    Vã€‚å½“ä¸€ä¸ªæ ¸å¿ƒå°†ç²—ç•¥è®¡æ•°å™¨å‡å°‘ V æ—¶ï¼Œå®ƒé‡Šæ”¾è¿™äº›å¼•ç”¨ä½œä¸ºæœ¬åœ°å¤‡ç”¨å¼•ç”¨ï¼Œå°†å…¶æ¯ä¸ªæ ¸å¿ƒè®¡æ•°å¢åŠ  Vã€‚
- en: The conclusion states that most kernel performance bottlenecks can be removed
    by changing the application code (or kernel) â€“ as long as you know what to modify,
    and you are familiar with standard parallel programming techniques ğŸ™‚
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“è®ºæŒ‡å‡ºï¼Œåªè¦æ‚¨çŸ¥é“è¦ä¿®æ”¹ä»€ä¹ˆï¼Œå¹¶ä¸”ç†Ÿæ‚‰æ ‡å‡†çš„å¹¶è¡Œç¼–ç¨‹æŠ€æœ¯ğŸ™‚ï¼Œå°±å¯ä»¥é€šè¿‡æ›´æ”¹åº”ç”¨ç¨‹åºä»£ç ï¼ˆæˆ–å†…æ ¸ï¼‰æ¥æ¶ˆé™¤å¤§å¤šæ•°å†…æ ¸æ€§èƒ½ç“¶é¢ˆã€‚
- en: ~ by mdavey on April 23, 2013.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: ~ by mdavey on 2013 å¹´ 4 æœˆ 23 æ—¥ã€‚
- en: Posted in [Languages](https://mdavey.wordpress.com/category/languages/)
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: Posted in [è¯­è¨€](https://mdavey.wordpress.com/category/languages/)
