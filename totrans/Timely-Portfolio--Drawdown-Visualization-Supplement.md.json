["```\nrequire(quantmod)\nrequire(PerformanceAnalytics)   getSymbols(\"DJIA\",src=\"FRED\")\ngetSymbols(\"DJTA\",src=\"FRED\")\ngetSymbols(\"DJUA\",src=\"FRED\")   DJ <- merge(DJIA,DJTA,DJUA)   #DJ.yearly <- DJ[endpoints(DJ, on=\"years\", k=1),]\nDJ.roc <- ROC(DJ,n=1,type=\"discrete\")     #another method of viewing drawdowns\n#this is really easy with PerformanceAnalytics\n#here is how to apply the very nice example\n#provided in the documentation   DJ.draw = Drawdowns(DJ.roc[,1])\ndrawdowns = table.Drawdowns(DJ.roc[,1])                          \n#jpeg(filename=\"DJIA worst drawdown event chart.jpg\",\n# quality=100,width=6.25, height = 6.25,  units=\"in\",res=96)\nchart.Events(DJ.draw,\n dates = drawdowns$Trough, prior=max(na.omit(drawdowns$\"To Trough\")),\n post=max(na.omit(drawdowns$Recovery)),\n lwd=2, colorset=redfocus, legend.loc=NULL,\n main = \"DJIA Worst Drawdowns\")\n#dev.off()\n#drawdown is so long in 1929 that it messes up the chart\n#let's limit this to two years or 750 trading days\n#jpeg(filename=\"DJIA worst drawdown event chart with limit.jpg\",\n# quality=100,width=6.25, height = 6.25,  units=\"in\",res=96)\nchart.Events(DJ.draw,\n dates = drawdowns$Trough, prior=max(na.omit(drawdowns$\"To Trough\")),\n post=min(750,max(na.omit(drawdowns$Recovery))),\n lwd=2, colorset=redfocus, legend.loc=NULL,\n main = \"DJIA Worst Drawdowns\n with Recovery Limit at 750 Days\")\n#dev.off()   #now let's do it for GDP\ngetSymbols(\"GDP\",src=\"FRED\")\nGDP.roc <- ROC(GDP,type=\"discrete\",n=1)\nGDP.draw = Drawdowns(GDP.roc[,1])\ndrawdownsGDP = table.Drawdowns(GDP.roc[,1])                          \n#jpeg(filename=\"GDP worst drawdown event chart.jpg\",\n# quality=100,width=6.25, height = 6.25,  units=\"in\",res=96)\nchart.Events(GDP.draw,\n dates = drawdownsGDP$Trough, prior=max(na.omit(drawdownsGDP$\"To Trough\")),\n post=max(na.omit(drawdownsGDP$Recovery)),\n lwd=2, colorset=redfocus, legend.loc=\"bottomright\",xlab=\"Quarters +/- Drawdown\",\n main = \"US GDP Worst Drawdowns\")\n#dev.off()\n```"]