["```\n\n# Load Systematic Investor Toolbox (SIT)\nsetInternet2(TRUE)\ncon = gzcon(url('https://github.com/systematicinvestor/SIT/raw/master/sit.gz', 'rb'))\n\tsource(con)\nclose(con)\n\n\t#*****************************************************************\n\t# Load historical data\n\t#******************************************************************\n\tload.packages('quantmod')\n\ttickers = spl('DIA,EEM,EFA,EWH,EWJ,EWT,EWZ,FXI,GLD,GSG,IEF,ILF,IWM,IYR,QQQ,SPY,VNQ,XLB,XLE,XLF,XLI,XLP,XLU,XLV,XLY,XLK')\t\n\n\tdata <- new.env()\n\tgetSymbols(tickers, src = 'yahoo', from = '1995-01-01', env = data, auto.assign = T)\n\t\tfor(i in ls(data)) data[[i]] = adjustOHLC(data[[i]], use.Adjusted=T)\t\n\tbt.prep(data, align='keep.all', dates='1995::2011')\n\n\t#*****************************************************************\n\t# Code Strategies\n\t#****************************************************************** \n\tprices = data$prices   \n\tn = ncol(prices)\n\tnperiods = nrow(prices)\n\n\t# Equal Weight\n\tdata$weight[] = ntop(prices, n)\n\tequal.weight = bt.run(data)\t\n\n\t# find month ends\n\tmonth.ends = endpoints(prices, 'months')\n\t\tmonth.ends = month.ends[month.ends > 0]\t\t\n\tmonth.ends2 = iif(month.ends + 2 > nperiods, nperiods, month.ends + 2)\n\n\t# Strategy MEOM - Equal Weight\n\tdata$weight[] = NA\n\t\tdata$weight[month.ends,] = ntop(prices, n)[month.ends,]\t\n\t\tdata$weight[month.ends2,] = 0\n\n\t\tcapital = 100000\n\t\tdata$weight[] = (capital / prices) * data$weight\n\tmeom.equal.weight = bt.run(data, type='share')\n\n\t#*****************************************************************\n\t# Rank1 = MA( C/Ref(C,-2), 5 ) * MA( C/Ref(C,-2), 40 )\n\t#****************************************************************** \t\t\t\n\t# BuyRule = C > WMA(C, 89)\n\tbuy.rule = prices > bt.apply.matrix(prices, function(x) { WMA(x, 89) } )\t\t\n\t\tbuy.rule = ifna(buy.rule, F)\n\n\t# 2-day returns\n\tret2 = ifna(prices / mlag(prices, 2), 0)\n\n\t# Rank1 = MA( C/Ref(C,-2), 5 ) * MA( C/Ref(C,-2), 40 )\n\tposition.score = bt.apply.matrix(ret2, SMA, 5) * bt.apply.matrix(ret2, SMA, 40)\n\t\tposition.score[!buy.rule,] = NA\n\n\t# Strategy MEOM - top 2    \n\tdata$weight[] = NA;\n\t\tdata$weight[month.ends,] = ntop(position.score[month.ends,], 2)\t\t\n\t\tdata$weight[month.ends2,] = 0\t\t\n\n\t\tcapital = 100000\n\t\tdata$weight[] = (capital / prices) * data$weight\n\tmeom.top2.rank1 = bt.run(data, type='share', trade.summary=T)\n\n\t#*****************************************************************\n\t# Rank2 = MA( C/Ref(C,-2), 5 ) * Ref( MA( C/Ref(C,-2), 10 ), -5 )\n\t#****************************************************************** \t\t\n\tposition.score = bt.apply.matrix(ret2, SMA, 5) * mlag( bt.apply.matrix(ret2, SMA, 10), 5)\n\t\tposition.score[!buy.rule,] = NA\n\n\t# Strategy MEOM - top 2    \n\tdata$weight[] = NA;\n\t\tdata$weight[month.ends,] = ntop(position.score[month.ends,], 2)\t\t\n\t\tdata$weight[month.ends2,] = 0\t\t\n\n\t\tcapital = 100000\n\t\tdata$weight[] = (capital / prices) * data$weight\n\tmeom.top2.rank2 = bt.run(data, type='share', trade.summary=T)\t\n\n\t#*****************************************************************\n\t# Create Report\n\t#****************************************************************** \n\tplotbt.custom.report(meom.top2.rank2, meom.top2.rank1, meom.equal.weight, equal.weight, trade.summary=T)\n\n```", "```\n\ntickers = spl('DIA,EEM,EFA,EWH,EWJ,EWT,EWZ,FXI,GLD,GSG,IEF,ILF,IWM,IYR,QQQ,SPY,VNQ,XLB,XLE,XLF,XLI,XLP,XLU,XLV,XLY,XLK')\n\n```", "```\n\ntickers = dow.jones.components()\n\n```"]