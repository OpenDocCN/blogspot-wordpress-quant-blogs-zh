["```\n\n###############################################################################\n# Load Systematic Investor Toolbox (SIT)\n# https://systematicinvestor.wordpress.com/systematic-investor-toolbox/\n###############################################################################\nsetInternet2(TRUE)\ncon = gzcon(url('http://www.systematicportfolio.com/sit.gz', 'rb'))\n    source(con)\nclose(con)\n\n\t#*****************************************************************\n\t# Load historical data\n\t#****************************************************************** \n\tload.packages('quantmod,quadprog,corpcor,lpSolve')\n\ttickers = spl('SPY,QQQ,EEM,IWM,EFA,TLT,IYR,GLD')\n\n\tdata <- new.env()\n\tgetSymbols(tickers, src = 'yahoo', from = '1980-01-01', env = data, auto.assign = T)\n\t\tfor(i in ls(data)) data[[i]] = adjustOHLC(data[[i]], use.Adjusted=T)\t\t\t\t\t\t\t\n\tbt.prep(data, align='remove.na', dates='1990::') \n\n\t#*****************************************************************\n\t# Code Strategies\n\t#****************************************************************** \t\t\t\t\t\n\tcluster.group = cluster.group.kmeans.90\n\n\tobj = portfolio.allocation.helper(data$prices, \n\t\tperiodicity = 'months', lookback.len = 60, \n\t\tmin.risk.fns = list(\n\t\t\tEW=equal.weight.portfolio,\n\t\t\tRP=risk.parity.portfolio(),\n\t\t\tMD=max.div.portfolio,\t\t\t\t\t\t\n\n\t\t\tMV=min.var.portfolio,\n\t\t\tMVE=min.var.excel.portfolio,\n\t\t\tMV2=min.var2.portfolio,\n\n\t\t\tMC=min.corr.portfolio,\n\t\t\tMCE=min.corr.excel.portfolio,\n\t\t\tMC2=min.corr2.portfolio,\n\n\t\t\tMS=max.sharpe.portfolio(),\n\t\t\tERC = equal.risk.contribution.portfolio,\n\n\t\t\t# target retunr / risk\n\t\t\tTRET.12 = target.return.portfolio(12/100),\t\t\t\t\t\t\t\t\n\t\t\tTRISK.10 = target.risk.portfolio(10/100),\n\n\t\t\t# cluster\n\t\t\tC.EW = distribute.weights(equal.weight.portfolio, cluster.group),\n\t\t\tC.RP = distribute.weights(risk.parity.portfolio, cluster.group),\n\n\t\t\t# rso\n\t\t\tRSO.RP.5 = rso.portfolio(risk.parity.portfolio, 5, 500), \n\n\t\t\t# others\n\t\t\tMMaxLoss = min.maxloss.portfolio,\n\t\t\tMMad = min.mad.portfolio,\n\t\t\tMCVaR = min.cvar.portfolio,\n\t\t\tMCDaR = min.cdar.portfolio,\n\t\t\tMMadDown = min.mad.downside.portfolio,\n\t\t\tMRiskDown = min.risk.downside.portfolio,\n\t\t\tMCorCov = min.cor.insteadof.cov.portfolio\n\t\t)\n\t)\n\n\tmodels = create.strategies(obj, data)$models\n\n\t#*****************************************************************\n\t# Create Report\n\t#******************************************************************    \n\tstrategy.performance.snapshoot(models, T, 'Backtesting Asset Allocation portfolios')\n\n```"]