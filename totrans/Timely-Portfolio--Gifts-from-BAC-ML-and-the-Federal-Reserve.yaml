- en: <!--yml
  prefs: []
  type: TYPE_NORMAL
- en: 'category: 未分类'
  prefs: []
  type: TYPE_NORMAL
- en: 'date: 2024-05-18 15:16:01'
  prefs: []
  type: TYPE_NORMAL
- en: -->
  prefs: []
  type: TYPE_NORMAL
- en: 'Timely Portfolio: Gifts from BAC ML and the Federal Reserve'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 来源：[http://timelyportfolio.blogspot.com/2011/05/gifts-from-bac-ml-and-federal-reserve.html#0001-01-01](http://timelyportfolio.blogspot.com/2011/05/gifts-from-bac-ml-and-federal-reserve.html#0001-01-01)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Bank of America Merrill Lynch and the Federal Reserve Bank of St. Louis Fed
    continue to surprise me with even more gifts.  This time they added Emerging Market
    Bond Indexes with history back to 1998 (cannot see Asia Pacific Crisis of 1997-1998
    but can see Argentina 2001-2002).  Data like this is extremely difficult to attain
    without significant subscription costs.
  prefs: []
  type: TYPE_NORMAL
- en: Since BAC ML and the Fed took it a step further, I feel equally obligated to
    extend my post [Bank of America Merrill Lynch Bond Returns on St. Louis Fed](http://timelyportfolio.blogspot.com/2011/05/bank-of-america-merrill-lynch-bond.html)
    to include some of this newly added data.
  prefs: []
  type: TYPE_NORMAL
- en: 'R code:'
  prefs: []
  type: TYPE_NORMAL
- en: '#thank you Bank of America Merrill Lynch and St. Louis Fed for this data'
  prefs: []
  type: TYPE_NORMAL
- en: require(quantmod)
  prefs: []
  type: TYPE_NORMAL
- en: require(PerformanceAnalytics)
  prefs: []
  type: TYPE_NORMAL
- en: require(ggplot2)
  prefs: []
  type: TYPE_NORMAL
- en: '#get Bank of America Merrill Lynch bond index data from St. Louis Fed'
  prefs: []
  type: TYPE_NORMAL
- en: '#use auto.assign = FALSE so we can use shorter names'
  prefs: []
  type: TYPE_NORMAL
- en: MLAsiaEmCorp<-getSymbols("BAMLEMRACRPIASIATRIV",src="FRED",auto.assign=FALSE)
  prefs: []
  type: TYPE_NORMAL
- en: MLLatAmEmCorp<-getSymbols("BAMLEMRLCRPILATRIV", src="FRED", auto.assign=FALSE)
  prefs: []
  type: TYPE_NORMAL
- en: MLUSCorp<-getSymbols("BAMLCC0A0CMTRIV", src="FRED", auto.assign=FALSE)
  prefs: []
  type: TYPE_NORMAL
- en: MLBondIndexes<-na.omit(merge(ROC(MLAsiaEmCorp,1,type="discrete"),ROC(MLLatAmEmCorp,1,type="discrete"),ROC(MLUSCorp,1,type="discrete")))
  prefs: []
  type: TYPE_NORMAL
- en: colnames(MLBondIndexes)<-c("BAC ML Asia Emerging Corporate","BAC ML Latin America
    Emerging Corp","BAC ML US Corporate Master")
  prefs: []
  type: TYPE_NORMAL
- en: charts.PerformanceSummary(MLBondIndexes,ylog=TRUE,
  prefs: []
  type: TYPE_NORMAL
- en: colorset=c("cadetblue","darkolivegreen3","gray70"),
  prefs: []
  type: TYPE_NORMAL
- en: main="Bank of America Merrill Lynch Bond Indicies from St. Louis Fed")
  prefs: []
  type: TYPE_NORMAL
- en: '#do some downside analysis on monthly returns'
  prefs: []
  type: TYPE_NORMAL
- en: MLBondIndexes<-merge(monthlyReturn(MLAsiaEmCorp),monthlyReturn(MLLatAmEmCorp),monthlyReturn(MLUSCorp))
  prefs: []
  type: TYPE_NORMAL
- en: colnames(MLBondIndexes)<-c("BAC ML Asia Emerging Corporate","BAC ML Latin America
    Emerging Corp","BAC ML US Corporate Master")
  prefs: []
  type: TYPE_NORMAL
- en: downsideTable<-melt(cbind(rownames(table.DownsideRisk(MLBondIndexes)),table.DownsideRisk(MLBondIndexes)))
  prefs: []
  type: TYPE_NORMAL
- en: colnames(downsideTable)<-c("Statistic","BondIndex","Value")
  prefs: []
  type: TYPE_NORMAL
- en: ggplot(downsideTable, stat="identity", aes(x=Statistic,y=Value,fill=BondIndex))
    + geom_bar(position="dodge") + coord_flip()
  prefs: []
  type: TYPE_NORMAL
- en: '#ggplot annual returns'
  prefs: []
  type: TYPE_NORMAL
- en: yearReturns<-na.omit(table.CalendarReturns(MLBondIndexes)[,(13:NCOL(table.CalendarReturns(MLBondIndexes)))])
  prefs: []
  type: TYPE_NORMAL
- en: yearReturns<-melt(cbind(rownames(yearReturns),yearReturns))
  prefs: []
  type: TYPE_NORMAL
- en: colnames(yearReturns)<-c("Year","BondIndex","Return")
  prefs: []
  type: TYPE_NORMAL
- en: ggplot(yearReturns, stat="identity", aes(x=Year,y=Return,fill=BondIndex)) +
    geom_bar(position="dodge")
  prefs: []
  type: TYPE_NORMAL
- en: '#ggplot CAPM statistics'
  prefs: []
  type: TYPE_NORMAL
- en: capmTable<-melt(cbind(rownames(table.CAPM(MLBondIndexes[,1:2],MLBondIndexes[,3])),table.CAPM(MLBondIndexes[,1:2],MLBondIndexes[,3])))
  prefs: []
  type: TYPE_NORMAL
- en: colnames(capmTable)<-c("Statistic","BondIndex","Return")
  prefs: []
  type: TYPE_NORMAL
- en: ggplot(capmTable, stat="identity", aes(x=Statistic,y=Return,fill=BondIndex))
    + geom_bar(position="dodge") + coord_flip()
  prefs: []
  type: TYPE_NORMAL
