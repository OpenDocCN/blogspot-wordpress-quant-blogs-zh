["```\n\n###############################################################################\n# Load Systematic Investor Toolbox (SIT)\n# https://systematicinvestor.wordpress.com/systematic-investor-toolbox/\n###############################################################################\nsetInternet2(TRUE)\ncon = gzcon(url('http://www.systematicportfolio.com/sit.gz', 'rb'))\n    source(con)\nclose(con)\n\n\t#*****************************************************************\n\t# Load historical data\n\t#****************************************************************** \n\tload.packages('quantmod')\n\n\ttickers = spl('SPY,EFA,EWJ,EEM,IYR,RWX,IEF,TLT,DBC,GLD')\n\n\tdata <- new.env()\n\tgetSymbols(tickers, src = 'yahoo', from = '1980-01-01', env = data, auto.assign = T)\n\t\tfor(i in ls(data)) data[[i]] = adjustOHLC(data[[i]], use.Adjusted=T)\t\t\t\t\t\t\t\n\tbt.prep(data, align='keep.all', dates='2004:12::')\n\n    #*****************************************************************\n    # Code Strategies\n    #******************************************************************\n    prices = data$prices  \n    n = ncol(prices)\n\n    models = list()\n\n    # find period ends\n    period.ends = endpoints(prices, 'months')\n        period.ends = period.ends[period.ends > 0]\n\n```", "```\n\n\t#*****************************************************************\n\t# Test\n\t#****************************************************************** \n\tmodels = list()\n\n\tmodels$combo = bt.aaa.combo(data, period.ends, n.top = 5,\n\t\t\t\t\tn.mom = 180, n.vol = 20)\n\n\tmodels$aaa = bt.aaa.minrisk(data, period.ends, n.top = 5,\n\t\t\t\t\tn.mom = 180, n.vol = 20)\n\n\tplotbt.custom.report.part1(models) \n\n```", "```\n\n\t#*****************************************************************\n\t# Sensitivity Analysis: bt.aaa.combo / bt.aaa.minrisk\n\t#****************************************************************** \n\t# length of momentum look back\n\tmom.lens = ( 1 : 12 ) * 20\n\t# length of volatility look back\n\tvol.lens = ( 1 : 12 ) * 20\n\n\tmodels = list()\n\n\t# evaluate strategies\n\tfor(n.mom in mom.lens) {\n\t\tcat('MOM =', n.mom, '\\n')\n\n\t\tfor(n.vol in vol.lens) {\n\t\t\tcat('\\tVOL =', n.vol, '\\n')\n\n\t\t\tmodels[[ paste('M', n.mom, 'V', n.vol) ]] = \n\t\t\t\tbt.aaa.combo(data, period.ends, n.top = 5,\n\t\t\t\t\tn.mom = n.mom, n.vol = n.vol)\n\t\t}\n\t}\n\n\tout = plotbt.strategy.sidebyside(models, return.table=T, make.plot = F)\n\n```", "```\n\n\t#*****************************************************************\n\t# Create Report\n\t#****************************************************************** \n\t# allocate matrix to store backtest results\n\tdummy = matrix('', len(vol.lens), len(mom.lens))\n\t\tcolnames(dummy) = paste('M', mom.lens)\n\t\trownames(dummy) = paste('V', vol.lens)\n\n\tnames = spl('Sharpe,Cagr,DVR,MaxDD')\n\n\tlayout(matrix(1:4,nrow=2))\t\n\tfor(i in names) {\n\t\tdummy[] = ''\n\n\t\tfor(n.mom in mom.lens)\n\t\t\tfor(n.vol in vol.lens)\n\t\t\t\tdummy[paste('V', n.vol), paste('M', n.mom)] =\n\t\t\t\t\tout[i, paste('M', n.mom, 'V', n.vol) ]\n\n\t\tplot.table(dummy, smain = i, highlight = T, colorbar = F)\n\n\t}\n\n```"]