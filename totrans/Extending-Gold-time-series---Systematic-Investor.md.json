["```\n\n###############################################################################\n# Load Systematic Investor Toolbox (SIT)\n# https://systematicinvestor.wordpress.com/systematic-investor-toolbox/\n###############################################################################\nsetInternet2(TRUE)\ncon = gzcon(url('http://www.systematicportfolio.com/sit.gz', 'rb'))\n    source(con)\nclose(con)\n\n\t#*****************************************************************\n\t# Load historical data\n\t#****************************************************************** \n\tload.packages('quantmod')\t\n\tGLD = getSymbols('GLD', src = 'yahoo', from = '1970-01-01', auto.assign = F)\t\t\t\n\t\tGLD = adjustOHLC(GLD, use.Adjusted=T)\n\n\t# get Gold.PM - London Gold afternoon fixing prices\n\ttemp = read.csv('http://wikiposit.org/w?action=dl&dltypes=comma%20separated&sp=daily&uid=KITCO',skip=4,header=TRUE, stringsAsFactors=F)\n\tGold.PM = make.xts(as.double(temp$Gold.PM) / 10, as.Date(temp$Date, '%d-%b-%Y'))\n\t\tGold.PM = Gold.PM[ !is.na(Gold.PM), ]\n\n\t# merge GLD and Gold.PM\n\tdata <- new.env()\n\t\tdata$GLD = GLD\n\t\tdata$Gold.PM = Gold.PM\n\tbt.prep(data, align='remove.na')\n\n\t#*****************************************************************\n\t# Plot GLD and Gold.PM\n\t#****************************************************************** \n\tlayout(1:2)\n\tplota(data$GLD, type='l', col='black', plotX=F)\t\n\t\tplota.lines(data$Gold.PM, col='blue')\t\n\tplota.legend('GLD,Gold.PM', 'black,blue', list(data$GLD, data$Gold.PM))\n\n\t# plot GLD and London afternoon gold fix spread\n\tspread = 100 * (Cl(data$GLD) - data$Gold.PM) / data$Gold.PM\n\tplota(spread , type='l', col='black')\t\n\t\tplota.legend('GLD vs Gold.PM % spread', 'black', spread)\n\n```", "```\n\n\t#*****************************************************************\n\t# Create simple equal weight back-test\n\t#****************************************************************** \n\ttickers = spl('GLD,TLT')\n\n\tdata <- new.env()\n\tgetSymbols(tickers, src = 'yahoo', from = '1980-01-01', env = data, auto.assign = T)\n\t\tfor(i in ls(data)) data[[i]] = adjustOHLC(data[[i]], use.Adjusted=T)\n\n\t\t# extend GLD with Gold.PM - London Gold afternoon fixing prices\n\t\tdata$GLD = extend.GLD(data$GLD)\n\n\tbt.prep(data, align='remove.na')\n\n    #*****************************************************************\n    # Code Strategies\n    #******************************************************************\n    prices = data$prices      \n    n = ncol(prices)\n\n    # find period ends\n    period.ends = endpoints(prices, 'months')\n        period.ends = period.ends[period.ends > 0]\n\n    models = list()\n\n    #*****************************************************************\n    # Equal Weight\n    #******************************************************************\n    data$weight[] = NA\n        data$weight[period.ends,] = ntop(prices[period.ends,], n)   \n    models$equal.weight = bt.run.share(data, clean.signal=F)\n\n    #*****************************************************************\n    # Create Report\n    #******************************************************************       \n    plotbt.custom.report.part1(models)       \n    plotbt.custom.report.part2(models)       \n\n```"]