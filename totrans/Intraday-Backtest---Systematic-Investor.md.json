["```\n\n###############################################################################\n# Load Systematic Investor Toolbox (SIT)\n# https://systematicinvestor.wordpress.com/systematic-investor-toolbox/\n###############################################################################\ncon = gzcon(url('http://www.systematicportfolio.com/sit.gz', 'rb'))\n    source(con)\nclose(con)\n\n\t#*****************************************************************\n\t# Load historical data\n\t#****************************************************************** \n\tload.packages('quantmod')\t\n\n\tEURUSD = getSymbols.fxhistoricaldata('EURUSD', 'hour', auto.assign = F, download=T)\n\tSPY = getSymbols('SPY', src = 'yahoo', from = '1980-01-01', auto.assign = F)\n\n\t#*****************************************************************\n\t# Reference intraday period\n\t#****************************************************************** \n\tplota(EURUSD['2012:03:06 10::2012:03:06 21'], type='candle', main='EURUSD on 2012:03:06 from 10 to 21')\n\n```", "```\n\n\t#*****************************************************************\n\t# Plot hourly and daily prices on the same chart\n\t#****************************************************************** \t\n\t# two Y axis plot\t\n\tdates= '2012:01:01::2012:01:11'\n\ty = SPY[dates]\n\tplota(y, type = 'candle', LeftMargin=3)\n\n\ty = EURUSD[dates]\n\tplota2Y(y, ylim = range(OHLC(y), na.rm=T), las=1, col='red', col.axis = 'red')\n\t\tplota.ohlc(y, col=plota.candle.col(y))\n\tplota.legend('SPY(rhs),EURUSD(lhs)', 'black,red', list(SPY[dates],EURUSD[dates]))\n\n```", "```\n\n\t#*****************************************************************\n\t# Universe: Currency Majors\n\t# http://en.wikipedia.org/wiki/Currency_pair\t\n\t#****************************************************************** \n\ttickers = spl('EURUSD,USDJPY,GBPUSD,AUDUSD,USDCHF,USDCAD')\n\n\t#*****************************************************************\n\t# Daily Backtest\n\t#****************************************************************** \n\tdata <- new.env()\n\tgetSymbols.fxhistoricaldata(tickers, 'day', data, download=T)\n\tbt.prep(data, align='remove.na', dates='1990::')\n\n\tprices = data$prices   \n\tn = len(tickers)  \n\tmodels = list()\n\n\t# Equal Weight\n\tdata$weight[] = NA\n\t\tdata$weight[] = ntop(prices, n)\n\tmodels$equal.weight = bt.run.share(data, clean.signal=F)\n\n\t# Timing by M. Faber\n\tsma = bt.apply.matrix(prices, SMA, 200)\n\tdata$weight[] = NA\n\t\tdata$weight[] = ntop(prices, n) * (prices > sma)\n\tmodels$timing = bt.run.share(data, clean.signal=F)\n\n\t# Report\n\tmodels = rev(models)\n\tplotbt.custom.report.part1(models)\n\tplotbt.custom.report.part2(models)\n\n```", "```\n\n\t#*****************************************************************\n\t# Intraday Backtest\n\t#****************************************************************** \n\tdata <- new.env()\t\n\tgetSymbols.fxhistoricaldata(tickers, 'hour', data, download=T)\t\n\tbt.prep(data, align='remove.na', dates='1990::')\n\n\tprices = data$prices   \n\tn = len(tickers)  \n\tmodels = list()\n\n\t# Equal Weight\n\tdata$weight[] = NA\n\t\tdata$weight[] = ntop(prices, n)\n\tmodels$equal.weight = bt.run.share(data, clean.signal=F)\n\n\t# Timing by M. Faber\n\tsma = bt.apply.matrix(prices, SMA, 200)\n\tdata$weight[] = NA\n\t\tdata$weight[] = ntop(prices, n) * (prices > sma)\n\tmodels$timing = bt.run.share(data, clean.signal=F)\n\n\t# Report\n\tmodels = rev(models)\n\tplotbt.custom.report.part1(models)\n\tplotbt.custom.report.part2(models)\t\n\n```", "```\n    getSymbols.fxhistoricaldata(tickers, 'day', data, download=T)\n    ```", "```\n    getSymbols.fxhistoricaldata(tickers, 'hour', data, download=T)\n    ```"]