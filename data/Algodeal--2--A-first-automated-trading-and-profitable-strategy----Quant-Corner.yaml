- en: <!--yml
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: <!--yml
- en: 'category: æœªåˆ†ç±»'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: ç±»åˆ«ï¼šæœªåˆ†ç±»
- en: 'date: 2024-05-18 08:10:10'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: æ—¥æœŸï¼š2024-05-18 08:10:10
- en: -->
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: -->
- en: Algodeal (2) A first automated trading and profitable strategy! | Quant Corner
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Algodeal (2) A first automated trading and profitable strategy! | Quant Corner
- en: æ¥æºï¼š[https://quantcorner.wordpress.com/2011/06/13/algodeal-2-a-first-automated-trading-and-profitable-strategy/#0001-01-01](https://quantcorner.wordpress.com/2011/06/13/algodeal-2-a-first-automated-trading-and-profitable-strategy/#0001-01-01)
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ¥æºï¼š[https://quantcorner.wordpress.com/2011/06/13/algodeal-2-a-first-automated-trading-and-profitable-strategy/#0001-01-01](https://quantcorner.wordpress.com/2011/06/13/algodeal-2-a-first-automated-trading-and-profitable-strategy/#0001-01-01)
- en: Introduction
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä»‹ç»
- en: Today, we write a first automated trading strategy using the **Market Runner**
    development environment in **Java** developed byÂ the **Algodeal** team. Then,
    we will send it out to the **Algodeal** servers that is we will run our strategy
    to see how well it performs in pseudo real conditions.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: ä»Šå¤©ï¼Œæˆ‘ä»¬ä½¿ç”¨ç”± **Algodeal** å›¢é˜Ÿå¼€å‘çš„ **Java** ä¸­çš„ **Market Runner** å¼€å‘ç¯å¢ƒç¼–å†™äº†ç¬¬ä¸€ä¸ªè‡ªåŠ¨åŒ–äº¤æ˜“ç­–ç•¥ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†å…¶å‘é€åˆ°
    **Algodeal** æœåŠ¡å™¨ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å°†è¿è¡Œæˆ‘ä»¬çš„ç­–ç•¥ï¼Œä»¥æŸ¥çœ‹å…¶åœ¨ä¼ªå®é™…æ¡ä»¶ä¸‹çš„è¡¨ç°å¦‚ä½•ã€‚
- en: Beforehand, we did our homework that is we did market research seeking to understand
    the behaviour of a stock/index/future price. Then, we determined a trading framework,
    entry and exit rules.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: äº‹å…ˆï¼Œæˆ‘ä»¬åšäº†æˆ‘ä»¬çš„åŠŸè¯¾ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬è¿›è¡Œäº†å¸‚åœºè°ƒç ”ï¼Œè¯•å›¾äº†è§£è‚¡ç¥¨/æŒ‡æ•°/æœŸè´§ä»·æ ¼çš„è¡Œä¸ºã€‚ç„¶åï¼Œæˆ‘ä»¬ç¡®å®šäº†ä¸€ä¸ªäº¤æ˜“æ¡†æ¶ï¼Œå…¥åœºå’Œé€€å‡ºè§„åˆ™ã€‚
- en: There are various way one can come up with a automated trading idea depending
    on oneâ€™s trading experience, knowledge in the field of finance, econometrics,
    technical analysis, neural networks, support vector machine, â€¦ It is a mix of
    science and experience (and luck ?) .
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®ä¸€ä¸ªäººåœ¨é‡‘èé¢†åŸŸçš„äº¤æ˜“ç»éªŒã€é‡‘èçŸ¥è¯†ã€è®¡é‡ç»æµå­¦ã€æŠ€æœ¯åˆ†æã€ç¥ç»ç½‘ç»œã€æ”¯æŒå‘é‡æœºç­‰æ–¹é¢çš„çŸ¥è¯†ï¼Œå¯ä»¥æå‡ºå„ç§å„æ ·çš„è‡ªåŠ¨åŒ–äº¤æ˜“æ€æƒ³ã€‚è¿™æ˜¯ç§‘å­¦å’Œç»éªŒï¼ˆå’Œè¿æ°”ï¼Ÿï¼‰çš„æ··åˆã€‚
- en: For this first code, this research step is restricted to the observation of
    common technical analysis indicators, and knowledge of the underlying.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºè¿™ä¸ªç¬¬ä¸€æ®µä»£ç ï¼Œè¿™ä¸ªç ”ç©¶æ­¥éª¤ä»…é™äºè§‚å¯Ÿå¸¸è§çš„æŠ€æœ¯åˆ†ææŒ‡æ ‡ï¼Œå¹¶äº†è§£åº•å±‚çŸ¥è¯†ã€‚
- en: As far as coding in **Java** is concerned, we will derive the code examples
    given by the **Algodeal** team. The structure of our code draw from the tutorials
    available.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: å°±**Java**ç¼–ç è€Œè¨€ï¼Œæˆ‘ä»¬å°†å‚è€ƒ **Algodeal** å›¢é˜Ÿæä¾›çš„ä»£ç ç¤ºä¾‹ã€‚æˆ‘ä»¬çš„ä»£ç ç»“æ„æ¥æºäºå¯ç”¨çš„æ•™ç¨‹ã€‚
- en: The underlying and trading rules
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åº•å±‚å’Œäº¤æ˜“è§„åˆ™
- en: We selected an **agricultural commodity future**, calledÂ *Underlying* in our
    code.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªåä¸º*åº•å±‚*çš„**å†œäº§å“æœŸè´§**ã€‚
- en: We make use of the **RSI**Â (Relative Strength Index) technical indicator, coupled
    with the drop (in %) of the underlying price on a trading day.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬åˆ©ç”¨äº†**RSI**ï¼ˆç›¸å¯¹å¼ºå¼±æŒ‡æ ‡ï¼‰æŠ€æœ¯æŒ‡æ ‡ï¼Œç»“åˆäº¤æ˜“æ—¥åº•å±‚ä»·æ ¼çš„ä¸‹è·Œï¼ˆä»¥ç™¾åˆ†æ¯”è¡¨ç¤ºï¼‰ã€‚
- en: We determined certain levels for both the **RSI** and the price drop. More exactly,
    we determined two different level for each indicator.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç¡®å®šäº†**RSI**å’Œä»·æ ¼ä¸‹è·Œçš„æŸäº›æ°´å¹³ã€‚æ›´ç¡®åˆ‡åœ°è¯´ï¼Œæˆ‘ä»¬ä¸ºæ¯ä¸ªæŒ‡æ ‡ç¡®å®šäº†ä¸¤ä¸ªä¸åŒçš„æ°´å¹³ã€‚
- en: 'The (pseudo) pseudo code for our strategy is as follows :'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç­–ç•¥çš„ï¼ˆä¼ªï¼‰ä¼ªä»£ç å¦‚ä¸‹ï¼š
- en: _____________________
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: _____________________
- en: ifÂ  x > RSI > y andÂ  a > drop > b
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœ x > RSI > y å¹¶ä¸” a > drop > b
- en: then buy 1 unit
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åè´­ä¹° 1 å•ä½
- en: If y > RSI > z and drop > b
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœ y > RSI > z å¹¶ä¸” drop > b
- en: then buy 1 unit
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åè´­ä¹° 1 å•ä½
- en: If position = long then
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæŒä»“ä¸ºå¤šå¤´åˆ™
- en: wait 3 bars and close out the position
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: ç­‰å¾… 3 ä¸ªæ¡å½¢å›¾ç„¶åå¹³ä»“
- en: _____________________
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: _____________________
- en: Here, x < y < z , and a < b.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™é‡Œï¼Œx < y < zï¼Œè€Œ a < bã€‚
- en: One can see it is really basic, somehow *heterodox*, and *a priori* risky as
    there are no safeguards. Notice this strategy will require cash as it is ofÂ *buy
    first then sell* type. But, it is OK for now!
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: äººä»¬å¯ä»¥çœ‹åˆ°è¿™çœŸçš„å¾ˆåŸºç¡€ï¼Œæœ‰äº›*å¼‚ç«¯*ï¼Œ*a priori*é£é™©å¾ˆå¤§ï¼Œå› ä¸ºæ²¡æœ‰å®‰å…¨ä¿éšœã€‚è¯·æ³¨æ„ï¼Œè¿™ç§ç­–ç•¥å°†éœ€è¦ç°é‡‘ï¼Œå› ä¸ºå®ƒæ˜¯*å…ˆä¹°åå–*ç±»å‹ã€‚ä½†æ˜¯ï¼Œç°åœ¨è¿˜å¯ä»¥ï¼
- en: The code of the strategy in Java
  id: totrans-27
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Java ä»£ç ä¸­çš„ç­–ç•¥
- en: We follow the general code structures showed at beta.algodeal.com.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éµå¾ªåœ¨ beta.algodeal.com ä¸Šå±•ç¤ºçš„ä¸€èˆ¬ä»£ç ç»“æ„ã€‚
- en: 'Our code starts with fundamental instructions :'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„ä»£ç ä»åŸºæœ¬çš„æŒ‡ä»¤å¼€å§‹ï¼š
- en: '[PRE0]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'As it is showed in the **Algodeal** code examples, we extend the AbstractStrategy
    class:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚åœ¨ **Algodeal** ä»£ç ç¤ºä¾‹ä¸­æ‰€ç¤ºï¼Œæˆ‘ä»¬æ‰©å±•äº† AbstractStrategy ç±»ï¼š
- en: '[PRE1]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Then, we define all our variables :'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæˆ‘ä»¬å®šä¹‰äº†æ‰€æœ‰çš„å˜é‡ï¼š
- en: '[PRE2]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This way it will be easy to change the values hoping to better score by trial
    and error.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ ·åšå°†å¾ˆå®¹æ˜“é€šè¿‡åå¤è¯•éªŒæ”¹å˜å€¼ä»¥å¸Œæœ›è·å¾—æ›´å¥½çš„å¾—åˆ†ã€‚
- en: 'Then, we declare our variable rsi and we draw it on a graph as such :'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæˆ‘ä»¬å£°æ˜äº†æˆ‘ä»¬çš„å˜é‡ rsi å¹¶åœ¨å›¾ä¸Šç»˜åˆ¶å¦‚ä¸‹ï¼š
- en: '[PRE3]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '*Please refer to the MarketRunner API documentation for the details of the
    parameters.*'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '*è¯·å‚è€ƒ MarketRunner API æ–‡æ¡£äº†è§£å‚æ•°çš„è¯¦ç»†ä¿¡æ¯*ã€‚'
- en: Finally, we get to the heart of the strategy. All our conditions, loops, etc
    â€¦ are contained in a single **onClose()** callback.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œæˆ‘ä»¬æ¥åˆ°ç­–ç•¥çš„æ ¸å¿ƒã€‚æˆ‘ä»¬æ‰€æœ‰çš„æ¡ä»¶ã€å¾ªç¯ç­‰éƒ½åŒ…å«åœ¨ä¸€ä¸ª **onClose()** å›è°ƒä¸­ã€‚
- en: 'The whole code snippet looks like :'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: æ•´ä¸ªä»£ç ç‰‡æ®µçœ‹èµ·æ¥åƒï¼š
- en: '[PRE4]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Running the strategy
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¿è¡Œç­–ç•¥
- en: '*Last but not least*, we run our strategy in â€˜realâ€™ conditions by sending out
    our code towards the **Algodeal** grid of servers. In no time, we receive back
    a series of performance indicators of our trading strategy.'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '*æœ€åä½†å¹¶éæœ€ä¸é‡è¦*ï¼Œæˆ‘ä»¬é€šè¿‡å‘**Algodeal**æœåŠ¡å™¨ç½‘æ ¼å‘é€æˆ‘ä»¬çš„ä»£ç æ¥åœ¨â€œçœŸå®â€æ¡ä»¶ä¸‹è¿è¡Œæˆ‘ä»¬çš„ç­–ç•¥ã€‚åœ¨å¾ˆçŸ­çš„æ—¶é—´å†…ï¼Œæˆ‘ä»¬å°±ä¼šæ”¶åˆ°ä¸€ç³»åˆ—æˆ‘ä»¬äº¤æ˜“ç­–ç•¥çš„è¡¨ç°æŒ‡æ ‡ã€‚'
- en: 'The overall performance of our strategy :'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç­–ç•¥çš„æ•´ä½“è¡¨ç°ï¼š
- en: '[![](img/50cf2ac150597a8bb22f2697405c05dd.png "equityChartSoybean")](https://quantcorner.wordpress.com/wp-content/uploads/2011/06/equitychartsoybean.png)'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '[![](img/50cf2ac150597a8bb22f2697405c05dd.png "equityChartSoybean")](https://quantcorner.wordpress.com/wp-content/uploads/2011/06/equitychartsoybean.png)'
- en: '[![](img/91a4c590328e5bac353b27abcf11a5a9.png "barChartSoybean")](https://quantcorner.wordpress.com/wp-content/uploads/2011/06/barchartsoybean1.png)'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '[![](img/91a4c590328e5bac353b27abcf11a5a9.png "barChartSoybean")](https://quantcorner.wordpress.com/wp-content/uploads/2011/06/barchartsoybean1.png)'
- en: OK, it is far from perfect, and this strategy has many caveats as it is oversimplified.
    But, can you believe it ? It is profitable! This should convince one that it worth
    spending time doing market research, defining automated trading strategies and
    coding them using the **Algodeal.**
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: å¥½å§ï¼Œè¿™ç¦»å®Œç¾è¿˜æœ‰å¾ˆè¿œï¼Œè¿™ç§ç­–ç•¥æœ‰å¾ˆå¤šæ³¨æ„äº‹é¡¹ï¼Œå› ä¸ºå®ƒè¿‡äºç®€åŒ–äº†ã€‚ä½†æ˜¯ï¼Œä½ èƒ½ç›¸ä¿¡å—ï¼Ÿè¿™æ˜¯æœ‰åˆ©å¯å›¾çš„ï¼è¿™åº”è¯¥èƒ½è¯´æœä¸€ä¸ªäººï¼Œå€¼å¾—èŠ±æ—¶é—´åšå¸‚åœºè°ƒç ”ï¼Œå®šä¹‰è‡ªåŠ¨äº¤æ˜“ç­–ç•¥ï¼Œå¹¶ä½¿ç”¨**Algodeal**è¿›è¡Œç¼–ç ã€‚
- en: Once an author wrote that Â *knowledge is all around waiting to be articulated*.
    Now, it is tempting to derive this assertion asÂ *wealth is all around waiting
    to be coded*. ğŸ™‚
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰ä¸€æ¬¡ï¼Œä¸€ä½ä½œè€…å†™é“ï¼Œ*çŸ¥è¯†æ— å¤„ä¸åœ¨ï¼Œç­‰å¾…è¢«è¡¨è¾¾*ã€‚ç°åœ¨ï¼ŒæŠŠè¿™ç§è¯´æ³•æ¨æ–­ä¸º*è´¢å¯Œæ— å¤„ä¸åœ¨ï¼Œç­‰å¾…è¢«ç¼–ç * æ˜¯å¾ˆè¯±äººçš„ ğŸ™‚ã€‚
