- en: <!--yml
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: <!--yml
- en: 'category: æœªåˆ†ç±»'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: ç±»åˆ«ï¼šæœªåˆ†ç±»
- en: 'date: 2024-05-18 06:14:30'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: æ—¥æœŸï¼š2024-05-18 06:14:30
- en: -->
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: -->
- en: Plane Reading and DryadLINQ | Tales from a Trading Desk
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: é£æœºé˜…è¯»å’ŒDryadLINQ | äº¤æ˜“æ¡Œä¸Šçš„æ•…äº‹
- en: æ¥æºï¼š[https://mdavey.wordpress.com/2010/08/27/plane-reading-and-dryadlinq/#0001-01-01](https://mdavey.wordpress.com/2010/08/27/plane-reading-and-dryadlinq/#0001-01-01)
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ¥æºï¼š[https://mdavey.wordpress.com/2010/08/27/plane-reading-and-dryadlinq/#0001-01-01](https://mdavey.wordpress.com/2010/08/27/plane-reading-and-dryadlinq/#0001-01-01)
- en: For once I wasnâ€™t flight to New York. But as usual one has to read something
    during these long flights.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰ä¸€æ¬¡æˆ‘æ²¡æœ‰é£å¾€çº½çº¦ã€‚ä½†åƒå¾€å¸¸ä¸€æ ·ï¼Œåœ¨æ¼«é•¿çš„é£è¡Œä¸­æ€»å¾—è¯»ç‚¹ä»€ä¹ˆã€‚
- en: '[jQuery](http://weblogs.asp.net/jalpeshpvadgama/archive/2010/08/27/jquery-javascript-library-write-less-do-more.aspx)â€“
    JavaScript Library Write less do more'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[jQuery](http://weblogs.asp.net/jalpeshpvadgama/archive/2010/08/27/jquery-javascript-library-write-less-do-more.aspx)â€”â€”JavaScriptåº“ï¼Œå†™å¾—æ›´å°‘ï¼Œåšå¾—æ›´å¤š'
- en: HTML5 [Reset](http://html5reset.org/)
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HTML5 [Reset](http://html5reset.org/)
- en: HTML5 [Boilerplate](http://html5boilerplate.com/)
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HTML5 [Boilerplate](http://html5boilerplate.com/)
- en: Azure Throughput [Analyzer](http://research.microsoft.com/en-us/downloads/5c8189b9-53aa-4d6a-a086-013d927e15a7/default.aspx)
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Azure Throughput [åˆ†æå™¨](http://research.microsoft.com/en-us/downloads/5c8189b9-53aa-4d6a-a086-013d927e15a7/default.aspx)
- en: '[Orleans](http://www.zdnet.com/blog/microsoft/orleans-microsofts-next-generation-programming-model-for-the-cloud/7152):
    Microsoftâ€™s next-generation programming model for the cloud'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[Orleans](http://www.zdnet.com/blog/microsoft/orleans-microsofts-next-generation-programming-model-for-the-cloud/7152)ï¼šå¾®è½¯é’ˆå¯¹äº‘è®¡ç®—çš„ä¸‹ä¸€ä»£ç¼–ç¨‹æ¨¡å‹'
- en: '[Rx](http://blogs.msdn.com/b/jeffva/archive/2010/08/20/rx-on-the-server-part-3-of-n-writing-an-observable-to-a-stream.aspx)
    on the server, part 3 of n: Writing an observable to a stream'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[Rx](http://blogs.msdn.com/b/jeffva/archive/2010/08/20/rx-on-the-server-part-3-of-n-writing-an-observable-to-a-stream.aspx)
    åœ¨æœåŠ¡å™¨ä¸Šï¼Œç¬¬néƒ¨åˆ†3ï¼šå°†å¯è§‚å¯Ÿå¯¹è±¡å†™å…¥æµ'
- en: So lets get back to DryadLINQ. Dryad has been on my radar for a long time â€“
    Iâ€™ve also blogged about it a little. One of the problem I have with Dryad and
    Windows HPC 2008 R2 is the amount of hardware you need to just do development
    ğŸ˜¦ Iâ€™m sure that if I could get more hardware I would have done a lot more than
    Iâ€™ve currently been able to achieve. One think Iâ€™ve found to date is that the
    HPC API is â€œpainfulâ€.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€ä»¥è®©æˆ‘ä»¬å›åˆ°DryadLINQã€‚Dryadå·²ç»åœ¨æˆ‘é›·è¾¾ä¸Šå¾ˆé•¿æ—¶é—´äº†â€”â€”æˆ‘ä¹Ÿç¨å¾®å†™è¿‡ä¸€äº›å…³äºå®ƒçš„åšå®¢ã€‚æˆ‘ä¸Dryadå’ŒWindows HPC 2008
    R2ä¹‹é—´çš„ä¸€ä¸ªé—®é¢˜æ˜¯ä½ éœ€è¦å¤§é‡çš„ç¡¬ä»¶æ‰èƒ½è¿›è¡Œå¼€å‘ ğŸ˜¦ æˆ‘ç›¸ä¿¡å¦‚æœæˆ‘èƒ½å¾—åˆ°æ›´å¤šçš„ç¡¬ä»¶ï¼Œæˆ‘ä¼šåšåˆ°æ¯”æˆ‘ç°åœ¨å·²ç»å®ç°çš„æ›´å¤šã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘å‘ç°HPC APIæ˜¯â€œç—›è‹¦çš„â€ã€‚
- en: So let me get back to Dryad and Real-Time Market Risk (a topic I seem to be
    spending a fair amount of time on from solutions to iPad UX). In DryadLINQ, I
    can get the trades I want to process using
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€ä»¥è®©æˆ‘å›åˆ°Dryadå’Œå®æ—¶å¸‚åœºé£é™©ï¼ˆä¸€ä¸ªæˆ‘ä¼¼ä¹èŠ±äº†ä¸å°‘æ—¶é—´ä»è§£å†³æ–¹æ¡ˆåˆ°iPad UXçš„è¯é¢˜ï¼‰ã€‚åœ¨DryadLINQä¸­ï¼Œæˆ‘å¯ä»¥ä½¿ç”¨
- en: PartitionedTable trades = PartitionedTable.Get(inputUri);
  id: totrans-15
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åˆ†åŒºè¡¨ trades = PartitionedTable.Get(inputUri);
- en: 'Which lead to calculating market risk using something like:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¯¼è‡´äº†ä½¿ç”¨ç±»ä¼¼çš„ä¸œè¥¿æ¥è®¡ç®—å¸‚åœºé£é™©ï¼š
- en: var result = trades.Select(t => Risk(t, curves);
  id: totrans-17
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ç»“æœ var result = trades.Select(t => Risk(t, curves);
- en: 'Assuming I have a function:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾æˆ‘æœ‰ä¸€ä¸ªå‡½æ•°ï¼š
- en: TResult Risk(Trade t, Curve[] curves);
  id: totrans-19
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: TResult Risk(Trade t, Curve[] curves);
- en: However the above is flawed, since I donâ€™t want to send all the curves to every
    trade as its network bandwidth unfriendly ğŸ™‚
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œä¸Šé¢çš„æ–¹æ³•æ˜¯æœ‰ç¼ºé™·çš„ï¼Œå› ä¸ºæˆ‘ä¸æƒ³æŠŠæ‰€æœ‰çš„æ›²çº¿éƒ½å‘é€ç»™æ¯ä¸€ä¸ªäº¤æ˜“ï¼Œå› ä¸ºè¿™æ ·ä¼šå ç”¨è¿‡å¤šçš„ç½‘ç»œå¸¦å®½:-)
- en: '**Sidebar:** The DryadLINQ Programming Guideâ€™s samples are primarily driven
    from a dataset within flat files which again isnâ€™t what I typically have the luxury
    of using as a trade repository. Given the amount of hardware/software to install
    for Dryad development, one would have thought Microsoft would propose a simulator
    mode to speed up development, and reduce cost?'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä¾§è¾¹æ ï¼š** DryadLINQç¼–ç¨‹æŒ‡å—çš„ç¤ºä¾‹ä¸»è¦æ¥æºäºå¹³é¢æ–‡ä»¶ä¸­çš„æ•°æ®é›†ï¼Œè¿™ä¹Ÿä¸æ˜¯æˆ‘é€šå¸¸ä½œä¸ºäº¤æ˜“å­˜å‚¨åº“æ‰€æ‹¥æœ‰çš„ç‰¹æƒã€‚è€ƒè™‘åˆ°ä¸ºDryadå¼€å‘æ‰€éœ€å®‰è£…çš„ç¡¬ä»¶/è½¯ä»¶é‡ï¼Œå¾®è½¯æ˜¯å¦ä¼šæå‡ºä¸€ä¸ªæ¨¡æ‹Ÿæ¨¡å¼æ¥åŠ é€Ÿå¼€å‘å¹¶é™ä½æˆæœ¬å‘¢ï¼Ÿ'
- en: Anyway, back to a better solution which possible comes from the Histogram sample
    and specifically the BuildHistogram function.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: æ— è®ºå¦‚ä½•ï¼Œè®©æˆ‘ä»¬å›åˆ°ä¸€ä¸ªæ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå¯èƒ½æ¥è‡ªäºç›´æ–¹å›¾ç¤ºä¾‹ï¼Œç‰¹åˆ«æ˜¯BuildHistogramå‡½æ•°ã€‚
- en: return inputTable
  id: totrans-23
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: è¿”å›inputTable
- en: .SelectMany(x => x.line.Split(â€˜ â€˜))
  id: totrans-24
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: .SelectMany(x => x.line.Split(' '))
- en: .GroupBy(x => x)
  id: totrans-25
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: .GroupBy(x => x)
- en: .Select(x => new Pair(x.Key, x.Count()))
  id: totrans-26
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: .Select(x => new Pair(x.Key, x.Count()))
- en: .OrderByDescending(x => x.Count)
  id: totrans-27
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: .OrderByDescending(x => x.Count)
- en: .Take(k);
  id: totrans-28
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: .Take(k);
- en: Specifically if the trade set is a full book/portfolio, then maybe we want to
    do a SelectMany and spit to trades by product and then maybe GroupBy currency.
    We could then send the appropriate yield curves to the correct trades.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: ç‰¹åˆ«æ˜¯å¦‚æœäº¤æ˜“é›†æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç°¿è®°/æŠ•èµ„ç»„åˆï¼Œé‚£ä¹ˆä¹Ÿè®¸æˆ‘ä»¬æƒ³è¦è¿›è¡Œä¸€ä¸ªSelectManyï¼ŒæŒ‰äº§å“å°†äº¤æ˜“åˆ†å‰²å‡ºæ¥ï¼Œç„¶åä¹Ÿè®¸æŒ‰è´§å¸è¿›è¡ŒGroupByã€‚æˆ‘ä»¬ç„¶åå¯ä»¥å°†é€‚å½“çš„æ”¶ç›Šç‡æ›²çº¿å‘é€åˆ°æ­£ç¡®çš„äº¤æ˜“ã€‚
- en: More thought needed.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: è¿˜éœ€è¦æ›´å¤šçš„æ€è€ƒã€‚
- en: ~ by mdavey on August 27, 2010.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: ~ mdaveyäº2010å¹´8æœˆ27æ—¥å‘è¡¨ã€‚
- en: Posted in [HPC](https://mdavey.wordpress.com/category/hpc/)
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: å‘å¸ƒäº[é«˜æ€§èƒ½è®¡ç®—](https://mdavey.wordpress.com/category/hpc/)
- en: 'Tags: [Microsoft](https://mdavey.wordpress.com/tag/microsoft/)'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: æ ‡ç­¾ï¼š[å¾®è½¯](https://mdavey.wordpress.com/tag/microsoft/)
