<!--yml

类别：未分类

日期：2024-05-18 15:39:52

-->

# 转换打击 | Tr8dr

> 来源：[`tr8dr.wordpress.com/2009/07/31/switch-hitting/#0001-01-01`](https://tr8dr.wordpress.com/2009/07/31/switch-hitting/#0001-01-01)

在这些年中，我使用了许多语言，包括函数式和命令式语言。由于我生活在现实世界中（即非学术环境），我通常不得不使用具有庞大用户基础、强大势头等语言。总的来说，我必须具备的标准是：

+   性能

+   访问广泛的基础设施和数值库

+   可扩展到大型、复杂、应用程序

+   在一个主要的虚拟机（JVM 或 CLR）上运行

我还希望拥有以下内容：

+   优雅

+   函数式编程构造

**变化的气候**

尽管如此，过去几年情况发生了变化。现在我们有了一些功能强大的函数式编程语言，它们具有高性能，能够访问多种多样的库，并且拥有更广泛的用户基础。现在即使是更广泛的（非函数式编程）社区也在讨论函数式编程语言。

在命令式方面，我使用过的语言（按频率排序）有 Java、C#、Python、C/C++、Fortran 等。到目前为止，我可能在 Java 上的投入最多，因为多年来我发现 C++的复杂性令人不快且耗时。

我编写针对并行目标的数值模型，并围绕它们编写交易策略。问题是，上述任何一种命令式语言都无法很好地映射到我思考问题的方法，并要求大量不必要的架构。

**在虚拟机上的函数式语言**

有一些秘密的函数式语言项目（即在函数式社区之外并不是很出名），例如为 JVM 的[Clojure](http://clojure.org/)。然而，Clojure 的性能水平并非我所寻求的，并且它与 lisp 没有太大区别。我爱 scheme/Lisp，但我认为它在大项目上的扩展性不好。

相对较新的是[Scala](http://www.scala-lang.org/)。Scala 旨在成为一种静态类型的语言，具有面向对象和函数式特性，桥接两种范式。它有许多很好的特性，但比其他函数式语言更冗长。它确实比 Java 简洁得多，这是一个很大的优点，但它有一些奇怪的语法和不一致之处，这让我不太高兴。还有一些与 for-comprehensions 相关的性能问题，这意味着我现在无法使用它。尽管如此，对于 JVM，我认为它是我可以考虑的唯一一种函数式编程语言。

进入[F#](http://research.microsoft.com/en-us/um/cambridge/projects/fsharp/)。好吧，微软让我感到害怕。话说回来，正如 C#和 CLR 一样，他们在创新方面一直走在前列。他们接过了 Java 的接力棒，修复了它的缺陷，并将其演变成了一种更好的语言：C#。

F#是一种新语言（好吧，几岁了），是基于 OCAML 的.NET CLR 语言，与 Haskell 或 ML 并不遥远。该语言简洁，与 CLR 和库集成良好，性能出色。

坦白说，我认为 F#是优于 JVM 或 CLR 上可用的其他任何语言的。我现在担心的问题是：从 JVM 转换到 CLR 是否值得。我有一套用 Java 编写的庞大库。我也担心可移植性，并且 Web 2.0 API（谷歌在很大程度上定义了它们）往往是基于 Java/JVM 的。

**实用细节**

我是否要生活在一个混合世界中，比如我可能用 Java 编写一些 GWT 应用，而我的核心工作在.NET CLR 中进行？JVM 上有望出现类似 F#的东西吗？我是否应该放弃 Eclipse 和其他工具，转而使用 Mono 工具，或者更糟糕的是，被要求使用 Visual Studio？

请给我一个在 JVM 上的 F#等效物。求你了！
