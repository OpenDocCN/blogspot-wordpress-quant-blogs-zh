```

类别：未分类

日期：2024-05-18 05:17:59

```

# 磁玛系统博客：需要：一个数据泵工具

> 来源：[`magmasystems.blogspot.com/2006/09/wanted-data-pumping-tool.html#0001-01-01`](http://magmasystems.blogspot.com/2006/09/wanted-data-pumping-tool.html#0001-01-01)

在我华尔街咨询生涯中参与的公司中，令人惊讶的是，许多系统都没有设置单元测试。

单元测试、TDD、代码指标等概念刚刚开始进入 IB 的开发小组。然而，一直被忽视的一个领域是压力和浸泡测试。

我们需要的工具之一是我所说的通用数据泵。这是一个可以运行以生成一定形状的数据的服务，并将数据泵入等待的应用程序。我们需要泵送的数据类型可能包括报价、执行、风险等。

以下是我想从数据泵看到的特性：

**回放模式**

我们需要以某种时间格式重新播放数据。我们还可以对回放间隔应用一条分布曲线。

**突发模式**：一次性回放所有数据，尽可能快地播放。

**间隔模式**：以一定的间隔回放数据。例如，每秒回放 500 条消息。我们还可以在间隔上应用某种分布，使得在回放周期的开始和结束时间隔最低（模拟市场开盘和收盘）。

的时间模式：这将导致在实际数据生成的确切时间进行回放。在这种模式下，我们首先捕捉真实数据并记录实际数据接收的确切时间。然后我们使用真实数据的时间来回放模拟数据。

**传输方式**

我们需要配置数据传输机制，以便数据被传递到等待的应用程序。

泰比 RV 或 EMS（目前，大多数 IB 都使用泰比来分发高频数据）。

- LBM（泰比的竞争对手）

- 套接字（或 SmartSockets）

- MQ 或 MSMQ

- CPS（摩根士丹利）

**数据生成**

为了提供一些参考数据，需要捕捉实际数据几天。

我们可以给某些字段打上标签，用于随机数据生成。例如，我们可以调整各种乐器的价格。

我们可以生成完全随机的数据。

**格式**

XML 在很多地方似乎都被使用，但反序列化中涉及到延迟。二进制对象很快，但需要一个同质环境。

XML

泰比二进制消息映射

分隔的字符串

的二进制对象

固定长度的 ASCII

**路透社**（Craig 会告诉我关于在路透社格式中模拟数据的法律问题）。

**其他考虑**

Instead of sending data directly to the end application, we can send it to an object cache, and let the object cache handle distribution.

我们需要一个图形用户界面（GUI）来监控数据传输，以及控制让用户能够动态修改时间间隔。

我们需要在目标应用中部署探针，以便能够实时监测其在不同负载下的性能表现。
