<!--yml

类别：未分类

日期：2024-05-12 18:53:40

-->

# [CSSA | 数量研究中的新概念](https://cssanalytics.wordpress.com#0001-01-01)

> 来源：[`cssanalytics.wordpress.com#0001-01-01`](https://cssanalytics.wordpress.com#0001-01-01)

使用时间序列动量或使用移动平均值的“趋势跟随”的前提是相同的，只是数学上略有不同（参见[AQR 的“哪种趋势是你的朋友？”](https://www.aqr.com/Insights/Research/Journal-Article/Which-Trend-Is-Your-Friend)）：使用一些固定的回顾期，您可以计时市场周期并捕获更多的上涨而不是下跌，因此改善性能相对于买入并持有，或者至少改善回报与下行风险之比。问题在于描述中的“固定”部分：我们所知道的市场是非平稳的，商业周期可以变化得很大。

在 2020 年，COVID-19 抛售在相对于过去的修正而言，在其速度和猛烈程度上是前所未有的。下面来自[“Towards Data Science”](https://towardsdatascience.com/understanding-the-2020-us-stock-market-drop-using-data-visualizations-bccd2d91bf9f)的图表显示了跌幅深度的比较以及接近底部所需的天数。

![](https://cssanalytics.files.wordpress.com/2020/12/covid-drawdown.png)

从上面的图表中，您还可以得出一个结论，即 2015 年和 2018 年的修正也是相对快速的抛售，***这可能是现代环境的一个决定性特征***。人们可以理性地推测这种情况的原因；通过低利率推动的货币政策导致资产泡沫人为膨胀，就像气球一样在去除气体时迅速排出，和/或利用计算机化交易迅速将价格移开以逃离卖方的压力。不管原因是什么，现实是市场似乎在今天的时代里一路上升而一路下跌。依赖线性和静态的基于时间的回顾的传统方法一直表现不佳，这并不奇怪。有一篇记录趋势追随者挣扎的文章发布在彭博社上。

![](https://cssanalytics.files.wordpress.com/2020/12/the-trend-isnt-always-your-friend.jpg)

正如你所看到的，最近 CTA 并不容易，而且他们的困难似乎始于 2015 年左右。我知道有些人在想什么：只采取战术性长期跟随 ETF 的方法与交易期货的多空对冲基金并不相同。你们对和错的：对的是只有 ETF 的长期持有倾向于从资产类别的正向漂移中获利，而多空对冲则没有这样有利的尾风，特别是在低利率环境下。但错误的是这并不排除时间组成部分的收益，而这对股票指数来说并不利。当考虑趋势跟随如何产生超额收益时，问题更为直接。在哲学经济学的一篇[绝妙的文章中](http://www.philosophicaleconomics.com/2016/01/gtt/)，他准确地说明了趋势跟随的盈亏情况由什么负责：

![](https://cssanalytics.files.wordpress.com/2020/12/trend-following-math.jpg)

如果市场的波动速度超过移动平均振荡周期（大约为回看期的一半），那么你将通过**鞭挞**（whipsaw）亏钱。如果振荡周期是不对称的，比如向上的时间比向下的时间长，情况就更糟了。大多数趋势跟随者或战术管理者使用 1 年或 6 个月的回看期。如果回撤在不到一个季度内发生，这些期限可能太长了。此外，使用月度持有期而不是每日检查还会引入更多的运气因素，因为回撤可能随时发生，而不是在某人期望的再平衡周期上发生。精明的投资组合经理使用多个回看期和持有期，以减少由于不知道振荡周期将是什么样子而产生的方差。***然而，这并没有解决核心问题，这需要更具动态或非线性的方法。***

在[Garg 等人最近发表的名为“动量转折点”的论文](https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3489539)中，他们探讨了动态趋势跟随或时间序列动量策略的性质。他们将短期趋势和长期趋势不一致的情况称为“转折点”，而这些转折点的数量决定了趋势跟随的表现。[AllocateSmartly 提供了一篇绝妙的文章](https://allocatesmartly.com/momentum-turning-points/?aff=634)审查了这篇论文，并展示了以下图表：

![](https://cssanalytics.files.wordpress.com/2020/12/impact-of-turning-points.png)

***更频繁的转折点与更快的振荡是一致的，这与哲学经济学所描述的一样。***正如你所看到的，当转折点的数量增加时，传统的趋势跟随策略的表现往往会下降，这些策略倾向于依赖于更长期和静态的回看期。

Garg 等人在论文中对由短期与长期趋势跟随信号产生的不同市场状态进行分类：

牛市：短期上升，长期上升

修正：短期下降，长期上升

熊市：短期下降，长期下降

反弹：短期上升，长期下降

在审查市场状态作为趋势跟随回溯期的最佳函数时，该论文得出了一个有趣的结论：

“我们的状态依赖速度分析的结论：**在修正月份后选择较慢的动量，而在反弹月份后选择较快的动量**“

不幸的是，他们解决此类调整的方法依赖于基于先前数据的长期优化。即使这是向前走的，调整期间也存在相当大的滞后。有一种简单的方法可以解释可能更快地发生且可能以非线性方式发生的振荡。 ***显而易见，“回撤”的概念本身是一个与时间无关且与投资者利润直接相关的非线性变量***，这使其成为进行调整的良好候选。此外，基于上述论文中提出的分析，小回撤（修正）需要较长的回溯期，而大回撤（在反弹之前发生）则需要较短/较快的回溯期。 ***如果我们可以在自适应框架内使用历史回撤的相对度量，这应该更直接地解决问题。*** 在这种情况下，我们不关心有多少个转折点（这是选择静态回溯期所做的假设），而是如何以逻辑方式调整它们。

**简单解决方案**

第一步是从历史最高点创建一系列回撤（选择全部时间并不关键，选择 1 年最高点也可以）。然后使用一些回溯期找到这些回撤的经验分布，使用过去 6 个月的百分位排名（再次强调，可以使用更长或更短或其组合）。我使用此值的平方的简单原因是我们要忽略小回撤并专注于更大的回撤以进行回溯期长度的调整（记住，修正需要长期回溯期，大回撤后的反弹需要短期回溯期）。接下来选择一个短期趋势跟随回溯期和一个长期回溯期。在这种情况下，我选择了 50 和 200，这些值经常由市场参与者通过各自的移动平均线进行关注，但是参数选择并不关键。一个实用的观点是，在战术交易中使用真正短期的回溯期（例如 20 天）是低效的。我们可以使用指数移动平均线框架计算移动平均的最佳α，方法如下：

回撤百分位排名^ 2（平方）= P

短期α= ST

长期α= LT

最佳α= P*短期+(1-P)*长期

然后我们使用最佳α计算自适应移动平均，其形式如下：

![](https://cssanalytics.files.wordpress.com/2020/12/adaptive-momentum-2.png)

注意，随着市场创新高后，自适应移动平均值变慢，而在大幅回撤后变得更快，这正是我们所期望的。其结果是允许更早地退出和进入市场。后者更重要，因为市场有形成“V”形回升的倾向。但是，为了测试这个理论，我们需要在长时间段内进行回溯测试，并与传统的静态回溯进行比较。我们将不使用固定的持有期，而是在收盘时进行每日信号生成。由于自适应移动平均值作为低通滤波器的效果不如简单移动平均值，因此在使用传统价格与移动平均值策略时，过滤价格是很重要的。为了过滤价格，我取价格的 10 日移动平均值（可以是 3 天，也可以是 15 天，没有太大关系）。请注意，在指数移动平均值框架中，价格（或经过滤的价格）与移动平均值之间的关系在数学上等同于动量。**因此，在这种情况下使用价格与 ema 基本上是一种自适应动量计算。**下面是自适应动量与典型静态回溯的对比：

![](https://cssanalytics.files.wordpress.com/2020/12/adpative-momentum-1.png)

对于那些量化交易者来说，这是性能表格：

![](https://cssanalytics.files.wordpress.com/2020/12/adaptive-table.png)

自适应动量在 CAGR 方面表现最佳，但最大的区别在于风险调整后的回报（夏普）和更高的矩（偏度和峰度）。自适应动量具有更多的正偏度和较低的峰度，表明更高的上行/下行捕获和较低的尾部风险。最令人印象深刻的是，它几乎与 12 个月时间序列动量一样多地进行交易。如果仔细观察线图，您会发现自适应动量在最近几年的表现比我们预期的静态回溯要好得多。总体表现令人印象深刻，这可以被视为一种用于战术资产配置的实用方法。有趣的是，如果在计算中放弃百分位排名，并且在市场创新高时将回溯期增加到最大，并在市场不创新高时将回溯期减小，您会得到相似的表现。总体而言，该策略几乎不表现出任何参数敏感性。  

虽然这种简单的解决方案并不是完美的方法，但它确实具有直观的意义，并产生了有价值的结果。在静态和自适应/动态之间选择时，我个人会选择这种类型的方法进行实际交易。
