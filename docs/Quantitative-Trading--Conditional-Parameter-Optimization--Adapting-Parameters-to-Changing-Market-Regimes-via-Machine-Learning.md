<!--yml

分类：未分类

日期：2024-05-12 18:54:19

-->

# 量化交易：条件参数优化：通过机器学习适应市场制度的参数调整

> 来源：[`epchan.blogspot.com/2021/04/conditional-parameter-optimization.html#0001-01-01`](http://epchan.blogspot.com/2021/04/conditional-parameter-optimization.html#0001-01-01)

每个交易员都知道，有些市场制度有利于他们的策略，而其他制度则不利。一些制度很明显，比如牛市对熊市、平静市场对波动市场等。这些制度会影响许多策略和投资组合（除非它们是市场中性或波动性中性投资组合），并且是可以轻易观察和识别的（尽管可能不可预测）。其他制度则更为微妙，可能只影响您的特定策略。制度可能每天都在变化，而且可能不可观察。通常并不是说市场有两个制度，我们现在处于制度 2 而不是 1。例如，对于您特定策略的盈利性，市场可能有 5 个不同的制度。但确切地指定这 5 个制度是什么，以及我们今天处于其中的哪一个，更不用说预测我们明天将处于哪一个制度了。我们甚至不知道确切的制度数量是 5 个！

市场制度的变化有时需要交易策略的根本改变（例如，交易均值回归策略而不是动量策略）。在其他时候，交易员只需要改变他们现有交易策略的参数以适应不同的制度。PredictNow.ai 的我和我的同事们提出了一种新颖的适应交易策略参数的方法，我们称之为“条件参数优化”（CPO）。这项正在申请专利的发明允许交易员像他们喜欢的那样频繁地适应新参数——也许是对每一笔交易或者每一次交易都进行调整。

CPO 利用机器学习根据任何市场的变化市场条件(*制度*)最优化地下单。这些市场的交易员通常已经拥有一个基本的交易策略，该策略决定订单的时间、定价、类型和/或大小。这个交易策略通常具有少数可调整的交易参数。传统上，它们通常是基于一个固定的历史数据集（“训练集”）进行优化的。或者，它们可能定期使用扩展或滚动训练集进行重新优化。（后者通常被称为“前进优化”）使用固定训练集，交易参数显然无法适应变化的制度。使用扩展训练集，交易参数仍然无法响应快速变化的市场状况，因为附加数据只是现有训练集的一小部分。即使使用滚动训练集，也没有证据表明最近历史时期优化的参数在样本外表现更好。滚动训练集太小也会因统计意义不足而给出不稳定和不可靠的预测结果。所有这些传统的优化程序都可以被称为*无条件参数优化*，因为交易参数并没有智能地响应快速变化的市场状况。理想情况下，我们希望能够使交易参数更加敏感于市场状况，同时又在足够多的数据上进行训练。

为了解决这种适应性问题，我们应用了一种监督式机器学习算法（具体来说，是带有提升的随机森林），从大量预测因子（“特征”）集中学习，这些特征集捕捉了当前市场状况的各种方面，以及特定的交易参数值，来预测交易策略的结果。（一个结果的例子是策略未来的单日回报。）一旦这样的机器学习模型被训练出来预测结果，我们就可以通过输入代表最新市场状况的各种特征以及交易参数的各种组合，将其应用于实际交易。产生最优预测结果（例如，未来单日回报最高）的参数集将被选为最优，并用于下一期的交易策略。交易员可以根据需要频繁地进行此类预测和调整交易策略，以应对快速变化的市场状况。

在您可以从这里下载的[示例](https://py.predictnow.ai/request_cpo_paper)中，我说明了如何使用 PredictNow.ai 的金融机器学习 API 适应基于 Bollinger Bands 的平均回归策略的参数（黄金 ETF）并取得优越的结果，我在这里突出显示：

|  | 无条件优化 | 条件优化 |
| --- | --- | --- |
| 年化回报 | 17.29% | 19.77% |
| 夏普比率 | 1.947 | 2.325 |
| 卡马尔比率 | 0.984 | 1.454 |

**CPO 技术**在金融业以外的工业垂直领域也非常有用——毕竟，在时变和随机条件下的优化是一个非常普遍的问题。例如，通过优化人员配置水平、设备和物资准备情况、出院率等各种参数，医院急诊室的等待时间可能得到最小化。目前最先进的方法通常是通过查看过去平均表现最好的情况来找到最优参数。基于这些参数也没有确切的数学函数能精确确定等待时间。CPO 技术利用其他变量，如一天中的时间、一周中的某一天、季节、天气、是否最近有大型活动等，来预测在各种参数组合下的等待时间，从而找到在当前条件下实现最短等待时间的最优组合。

我们可以为您提供脚本，使用 Predictnow.ai 的 API 运行 CPO。请发送电子邮件至 info@predictnow.ai 获取免费试用。
