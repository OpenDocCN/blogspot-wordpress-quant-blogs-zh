<!--yml

分类：未分类

日期：2024-05-12 19:28:54

-->

# Showstopper! | 编码市场

> 来源：[`etrading.wordpress.com/2020/12/08/showstopper/#0001-01-01`](https://etrading.wordpress.com/2020/12/08/showstopper/#0001-01-01)

## Showstopper!

### 2020 年 12 月 8 日

我刚刚读完扎卡里亚的《Showstopper》，这是一本关于 20 世纪 80 年代和 90 年代晚期在微软开发 Windows NT 的扣人心弦的记录。我非常喜欢行业战争故事，所以我有点困惑，自己是怎么错过这本书的。其他我喜欢的类似作品包括弗格森的《No Prisoners》，基德德的《新机器的灵魂》和勒维的《黑客》。书中有些地方由于对核心开发活动（如编码、测试、调试和构建）的笨拙解释而略显逊色。扎卡里亚是一名科技记者，但显然不是一名程序员。除了这个轻微的反对意见外，还有很多值得欣赏的地方，还有几个惊喜。那些在过去几十年里一直在软件世界工作的人会认出这些主要人物：比尔·盖茨、史蒂夫·鲍尔默、内森·迈尔沃德，以及 NT 的负责人，DEC 的 VMS 开发者戴夫·卡特勒。叙述遵循任何大型软件项目都熟悉的弧线，以及所有典型的挫折和压力。以下是我感到惊讶的要点……

+   Cutler 于 1988 年 10 月加入微软，而在决定将 NT 作为 Windows 3 的继承者之前，NT 的开发已经进行了一段时间。最初，OS/2 承担了那个角色。但是 1990 年 Windows 3 的意外成功，以及微软与 IBM 紧张的关系改变了一切。在那之前，NT 是一个传统的多任务控制台操作系统，类似于 VMS 或 Unix。

+   Cutler 的设计指导原则有三个：可靠性、个性和可移植性。可靠性通过一个适当划分的内核模式来实现，与 DOS 和 Windows 不同。个性是通过向应用程序呈现不同的用户模式 API（Win32），并保持内核 API 私有来实现的。这在 WinNT 的历史上后来的版本 1 中使 WSL 成为可能。个性还使 Windows 3 应用程序能够在 NT 下运行。可移植性意味着尽量减少汇编代码的使用。

+   Cutler 原始目标 CPU 是英特尔的 RISC 产品，即 i860。这是一款如此新且存在缺陷的 CPU，以至于 Cutler 将他的硬件伙伴罗伊·肖特从 DEC 请过来，在微软建造基于 i860 的系统。盖茨最初想先针对 80386，但在许多关键决策上推迟给了 Cutler。后来增加了对 MIPS 和 DEC Alpha 的支持。我记得在 90 年代中期看到基于 Alpha 的 NT 工作站，并对它的强大和速度印象深刻。

+   手动构建！那时还没有 CI/CD 自动化。运行“构建实验室”的这些人选择了他们将要采用的补丁，合并并构建。构建需要 19 个小时。

+   大部分 NT 是用 C 语言编写的，但很多图形界面是用 C++编写的。这些图形编码者是长期在微软工作的人，而不是来自 DEC 的 Cutler 的同盟，他们在 C++方面得到了 Gates 的支持。由于 Windows 图形界面直到 1990 年才加入 NT 项目，而 Cutler 并不是一个 GUI 爱好者，所以他们不必遵循他的语言选择。我记得早期的 C++编译器——Glockenspiel CommonView 有人记得吗？1990 年用 C++编写新操作系统的部分是一个非常大的胆的选择。

+   NT 团队有 20%是第一次就业的人！

我们还会再次看到一个大型的新操作系统开发项目吗？也许不会。Cutler 的 Personality 理念通过 NT 实现了向 Windows 的转变，但现在我们有虚拟化和廉价硬件，所以 Personality 的工作由虚拟化器完成。只需看看 WSL2 和 WSL1 的区别！操作系统已经变得商品化，由于 Linux 是开源的，它促进了一种 proprietary OSes 无法比拟的创新风格。所以，总的来说，Showstopper 是我强烈推荐的一本书，对于这位资深开发者来说，是一次怀旧的阅读。几乎是一种“当恐龙在地球上漫游”的经历。而 Cutler 可能很难共事，但他显然有着卓越的编程能力。
