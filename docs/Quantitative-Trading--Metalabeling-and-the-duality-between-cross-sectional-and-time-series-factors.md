同时，时间序列因子通常是市场范围或宏观经济变量，如熟悉的 Fama-French 3 因子：市场（简单地说，就是市场指数回报）、SMB（小盘股与大盘股的相对回报）和 HML（价值股与成长股的相对回报）。这些时间序列因子非常适合金属标签，因为它们可以用来预测您的投资组合或策略的回报。

通常有两种因子类型：横截面和时间序列。如果您在建模股票回报，横截面因子是针对个别股票的变量，如它的收益率、股息收益率等。在我们之前的[博客文章](https://www.predictnow.ai/blog/introducing-pre-engineered-stock-fundamental-features-at-predictnow-ai/)中，我们描述了如何为我们的订阅者提供 40 个此类因子，用于回测和实时预测。但是，我们倡导使用机器学习进行风险管理和资本配置（即[金属标签](https://www.predictnow.ai/blog/what-is-the-probability-of-profit-of-your-next-trade-introducing-predictnow-ai/)），而不是回报预测，您可能想知道这些因子如何帮助预测您的交易策略或投资组合的回报。例如，如果您有一个包含 AAPL、GOOG、AMZN 等科技股的长期空头组合，并且想要预测在某种市场体制下整个组合是否盈利，AAPL、GOOG 和 AMZN 的收益率作为个别特征真的有意义吗？

分类：未分类

来源：[`epchan.blogspot.com/2021/07/metalabeling-and-duality-between-cross.html#0001-01-01`](http://epchan.blogspot.com/2021/07/metalabeling-and-duality-between-cross.html#0001-01-01)

# 日期：2024-05-12 18:54:13

> <!--yml

![](img/5612d841760b6fbdee7c387f68f0f694.png)

作者：Ernest Chan 和 Akshay Nautiyal

-->

特征是监督机器学习（ML）模型的输入。在传统金融中，它们通常被称为“因子”，它们用于线性回归模型来解释或预测回报。在前一种用法中，因子与目标回报是同时的，而在后一种用法中，因子必须来自一个先前的时期。

量化交易：金属标签与横截面和时间序列因子的双重性

考虑到可用的横截面因素比时间序列因素更多，且更加明显，我们无法将横截面因素用作金属标注的特征，这实在是一件遗憾。实际上，我们是可以这么做的——尤金·法玛（Eugene Fama）和肯·法国（Ken French）本人已经向我们展示了方法。如果我们手头有一个股票的横截面因素，我们只需使用它来对股票进行排序，根据排序形成一个多空组合，并将这个组合的回报作为一个时间序列因素。这个多空组合被称为对冲组合。

我们通过一个示例来展示如何创建对冲组合，这个示例从 Sharadar 的基本横截面因素开始（我们如博客中所示生成了这些因素 [博客](https://www.predictnow.ai/blog/introducing-pre-engineered-stock-fundamental-features-at-predictnow-ai/)）。有 40 个横截面因素，以三种不同的频率更新——季度、年度和十二个月滚动。在这个练习中，我们只使用季度的横截面因素。给定一个如 CapEx（资本支出）的因素，我们考虑从 2010 年 1 月 1 日至今的特定日期的约 8500 只股票的标准化 CapEx。每年有四个特别的日子感兴趣——1 月 15 日、4 月 15 日、7 月 15 日和 10 月 15 日。我们称这些为排序日期。在每这些日期，我们根据标准化 CapEx 找到股票的百分位排名。这些日期是精心选择的，以捕捉季度文件发布后最多股票的横截面因素的变化。

一旦每年在四个排序日期对股票的 CapEx 进行排序（即每季度一次），我们就得到了处于上四分位（即排名在 75 百分位以上）的股票和处于下四分位（即排名在 25 百分位以下）的股票。我们对那些显示最高标准化 CapEx 的股票持多头立场，对那些最低的股票持空头立场。这两组股票共同构成了我们的多空对冲组合。

一旦我们在给定的排序日期上有了组合，我们就可以使用风险对等分配（即按逆波动率分配）来产生组合的日回报。为每个选定的股票计算每个日期的日回报，直至下一个排序日期。每个交易日的组合权重是两个月滚动标准差的归一化倒数。这些权重每天都会变化，并将乘以单个股票的日回报，以得到组合的日回报。如果一个组合股票在排序日期之间被摘牌，我们只需删除该股票，不使用它来计算组合回报。这个过程产生的日回报是资本支出（CapEx）的时间序列因素。这个过程对所有其他 Sharadar 横截面因素重复进行。

所以，就这样！40 个横截面因子变成了 40 个时间序列因子，它们可以用于任何投资组合或交易策略的金属标签，无论它交易的是股票、期货、外汇还是其他任何东西。

那么反过来转换呢？我们可以把时间序列因子变成适合预测个别股票回报的横截面因子吗？实际上，并不需要。你可以直接将任何时间序列因子添加到你的特征集中，用于预测个别股票的回报。这相当于建立一个线性因子模型，以个别股票的回报为因变量，时间序列因子为自变量，这一过程在传统金融中是众所周知的。

顺便提一下：除了这 40 个时间序列（及其相应的横截面）特征外，我们还编制了另外 197 个专有时间序列特征，供我们的[高级订阅用户](https://www.predictnow.ai/services/)使用，并通过我们的 API 提供。
