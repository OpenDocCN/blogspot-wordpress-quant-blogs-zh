<!--yml

类别：未分类

日期：2024-05-13 00:03:51

-->

# NASDAQ 黑客 @ 500FPS：太多的帽子

> 来源：[`hackingnasdaq.blogspot.com/2012/03/too-many-hats.html#0001-01-01`](http://hackingnasdaq.blogspot.com/2012/03/too-many-hats.html#0001-01-01)

另一个周围并没有稳定的阿尔法表现。大部分技术问题都解决了，只剩下数学问题。遗憾的是数学并不容易解决。我运行了几种子 tick 套利策略的变体，遗憾的是佣金/折扣/延迟/大数定律的组合意味着它永远不会赚钱/不一致或不足以覆盖固定的基础设施成本。所以我达到了崩溃点，接受了止损，并正在构建一个新的策略。

有趣的地方（也令人沮丧的）是，我现在可以相当容易地构建多种有利可图的经过回测的策略，而几个月前显然不是这种情况。但在实际运行时，它无法与模型匹配。原因？很多。但大部分是我不了解与真实市场/真实经纪打交道时的特性/行为，这显着削弱了优势。

我的一般策略开发过程如下

1 阶段）"信封背面模式"，这是快速测试一些基本假设，使用一级数据或中等粒度条或两者。在这一点上，不关心延迟甚至队列和佣金/折扣不包括在内。这里的目标是检查“边缘”是否存在，如果存在，它需要足够强大和一致。

2 阶段）添加队列/佣金/折扣/税收然后交易和报价数据。在这一点上，一切都是同步运行的。例如，一步等于一个消息。我大部分时间都在这个阶段。这个阶段好的地方是，非常容易改变策略，添加新东西，删除东西，做各种各样的随机操作，并且不必担心任何下单/市场数据的细节，例如下单/取消拒绝处理，重新定价，延迟等等。

3 阶段）将其编码成一个真正的策略。这意味着实际异步的下单和市场数据，现在你有一个时间约束 - 如果一个 tick 花费 1 秒来计算，那么你会失败。这里的环境是一个完全模拟的交易所，既有下单也有市场数据，正在回放历史数据。这可能有点麻烦，但你只是重新编码第 2 阶段，这是相当直接的，并且你已经编码的环境因此不会花费很长时间。

4 阶段）对真正的交易所实施实时运行。我的设置使得启动策略只需在命令行上执行程序，没有庞大的 gui/主程序/嵌套程序。所有策略都是通过共享内存进行通信。因此可以一次性运行它，也可以连续不断地运行，有脚本调用脚本调用策略，等等，通常的 linux 脚本操作。从这里很容易进行监视，调整和修复/调试。关键在于使其与理论回测模型相匹配，或者改变理论模型以匹配观察到的行为。

...这就是我的处境。花了这么多时间和精力，到目前为止都没有真正的成功，感觉相当糟糕。虽然也有一些收获，几次成功翻转我的头寸真的很酷！还有向市场发送了价值半百万美元的订单，但遗憾的是，仍然缺少什么，仍然亏损，而且连续工作 20 个小时的日子正在追上我。

探索还在继续...
