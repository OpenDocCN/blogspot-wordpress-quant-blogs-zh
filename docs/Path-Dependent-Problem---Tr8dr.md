<!--yml

分类：未分类

日期：2024-05-18 15:41:22

-->

# 路径依赖问题 | Tr8dr

> 来源：[`tr8dr.wordpress.com/2007/10/29/path-dependent-problem/#0001-01-01`](https://tr8dr.wordpress.com/2007/10/29/path-dependent-problem/#0001-01-01)

2007 年 10 月 29 日 · 11:54 pm

在[Joel On Software](http://joelonsoftware.com/)论坛上看到一个有趣的问题：

> 在一个空棋盘上，一个马从点（比如说位置 x,y）开始随机移动，但一旦它走出棋盘，就不能再回到棋盘内。那么，它在 N 步之后还留在棋盘内的总概率是多少。

这个问题与数字淘汰屏障期权相似，不同之处在于路径是棋子在棋盘上随机移动，而不是证券价格随时间的变化。我写的解决方案如下：

> 这可以表示为所有可能路径的期望函数（包括 8×8 网格外的路径）。想象一个 8 向树，根节点代表起始位置，每个节点有 8 个子节点，代表从当前位置的 8 个可能移动。
> 
> 联合概率为：
> 
> – 移动（1/8）
> 
> – 在网格内（0 或 1）
> 
> 应该是任何给定节点的值（基本上是 1/8 或 0）。对于任何长度为 N 的路径，采取该路径并且完全在网格内的联合概率要么是(1/8)^N，要么是 0。期望函数简单地对所有可能的 N 长度路径求和。
> 
> 期望函数和路径可以表示为递归和（假设 i,j 在棋盘上为[1,8]）：
> 
> E(i,j,N) =
> 
> +   1/8[E(i-2,j-1,N-1) + E(i-2,j+1,N-1) + E(i+2,j-1,N-1) + …] 如果 1 <= i,j <= 8
> +   
> +   如果 N <= 0
> +   
> +   否则 0

我很想看看这个问题其他的解决方法。带有条件函数的递推关系很有趣，因为它可以引入各种各样的条件和收益。改变“屏障”和/或朝一个方向移动的概率与另一个方向的概率很容易。
