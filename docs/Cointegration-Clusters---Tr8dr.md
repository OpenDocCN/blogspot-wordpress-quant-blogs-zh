<!--yml

类别：未分类

日期：2024-05-18 15:34:35

-->

# 协整簇 | Tr8dr

> 来源：[`tr8dr.wordpress.com/2010/01/22/cointegration-clusters/#0001-01-01`](https://tr8dr.wordpress.com/2010/01/22/cointegration-clusters/#0001-01-01)

之前，我曾编写过一个简单的聚类算法，使用相关性来查看股票之间的粗略“关系”，无论是真实的还是“偶然”的。 我曾在标普 500 上进行了评估。

我决定对所有美国股票进行更广泛的评估，其中平均成交量> 200K，市值> 500M + ETF。 这些股票子集大约有 2800 个资产，或者需要评估 378 万对。 在 R 中评估这个是不切实际的，所以用 Java 评估。 评估时间是以秒为单位而不是可能需要的几天。

为了发现更强的关系，对所有配对进行了相关性和增强迪基-富勒测试的评估，保留了 adf p-value < 0.05 的配对。 此外，还对之前的年份进行了交叉验证，丢弃了不符合交叉验证期间的配对。

然后我使用了我之前概述的聚类算法来确定最相关的资产网络。

这导致了大约 1000 个配对（原始的大约 400 万个配对）。 其中一部分配对“有意义”，另一部分则完全令人惊讶。 也就是说，鉴于大量系列，发现在测试期间相对协整的“不相关”资产并不奇怪。

它生成了大约 50 个簇，这里随机选择一个：

![](https://tr8dr.wordpress.com/wp-content/uploads/2010/01/screen-shot-2010-01-22-at-10-25-54-pm.png)

**交易配对

协整序列的美妙之处在于，它们比具有异方差性或趋势均值的序列容易建模得多。 有多种方法可以交易配对（或更大的协整投资组合）。 在开始之前，首先想要说明一个非协整的价差：

**![](https://tr8dr.wordpress.com/wp-content/uploads/2010/01/non-coint.png)**

我们可以看到 NI 和 ACG 之间的价差随着时间从轴上增长。 理想的价差是围绕一个恒定的均值（通常为 0）波动。 上述内容可以交易，但需要首先确定存在一个长期 beta 差异约为 0.25，并适当地权衡篮子。

许多人看待每种资产的相对“beta”（即长期累积回报的斜率），并根据线性回归确定权重。 如果趋势在观察期内近似线性，则该方法效果很好。

更好的方法是找到权重，使价差“在原点上方和下方花费相同的时间”（好吧，这是我想出的一个粗略的启发式方法）。 这可以表达为：

![](https://tr8dr.wordpress.com/wp-content/uploads/2010/01/screen-shot-2010-01-22-at-4-51-49-pm.png)

基本上，上述内容是在“说”：找到某种价差函数的加权积分，使得该区域尽可能接近 0（即我们在原点上方和下方有平衡的扫描）。 约束条件确保权重不会变为 0。

**如果它是协整的。

理论上，这是一个简化的情况，我们可以选择相等且偏移的权重（-1，1），然后分析生成的价差以进行进出（技术上，根据我们关注的 MR 期间，仍然可以调整权重以调整漂移）。**

**接下来，我们要寻找均值回归模式，或者至少确定在过去的条件下可能均值回归的水平。 这是一个在此期间协整的配对：**

**![](https://tr8dr.wordpress.com/wp-content/uploads/2010/01/coint2.png)**

**典型方法是将价差标准化为标准差，并在实现 2 个标准差或其他适当阈值时进行反转交易。可以使用动量和波动率的一些基本观察来决定何时精确进入。**

另一种使用的方法是校准 Ornstein-Uhlbleck MR 模型的某个后代至所需的 MR 水平，并将其用作进入的驱动器。 我现在不交易配对，所以我不确定是否值得采用 MR 模型。 从过去对这些模型的经验来看，它们很难校准，并且需要显著修改以匹配经验行为，即使是宽松的匹配也是如此。

**超越配对**

我们使用配对提供更合适的统计过程，更易于 MR 分析。 “价差篮子” 中存在更广泛的可能性。 通过“价差篮子”，我指的是多于 2 个资产的集合，这些资产是分数多头或空头的，产生紧密协整的回报。

对于许多原因，确定这样的篮子非常复杂：

1.  搜索规模大约以 O(N^k) 的速度增长，其中 k 是篮子的大小，N 是资产数量。

1.  需要确定最优权重（昂贵的 NLP）。

1.  最优权重需要在交叉验证中进行测试。

缓解最坏情况的方法是：

1.  可以丢弃相关性低的资产。

举个例子，如果我们考虑在 2000 支股票上进行 3 资产情况，最坏情况下的搜索将涉及到 26 亿组合来检查。相关矩阵可能会使这变得可行。
