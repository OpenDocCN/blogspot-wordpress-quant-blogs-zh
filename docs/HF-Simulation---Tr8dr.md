<!--yml

类别：未分类

日期：2024 年 5 月 18 日 15 点 30 分 39 秒

-->

# HF 模拟 | Tr8dr

> 来源：[`tr8dr.wordpress.com/2011/02/05/hf-simulation/#0001-01-01`](https://tr8dr.wordpress.com/2011/02/05/hf-simulation/#0001-01-01)

高频策略的模拟，充其量是一个很好的方式，可以让我们的策略通过各种合成假设的情况。 它无法准确展示盈利能力，最好是可以看到策略在各种合成假设下的表现。

当然，我们的模拟器必须反映：

1.  典型订单事件延迟（或许带有些抖动）

1.  typical market event latency

1.  准确的订单簿

1.  交易完成的视图

1.  冲击视图（或许不是必要的东西）

## 数据

市场数据中呈现的信息不足以完全准确地建立模型，我们也不能确定我们交易对后续市场事件的影响。 通过访问 HF feed，我们会收到以下事件：

![](https://tr8dr.wordpress.com/wp-content/uploads/2011/02/screen-shot-2011-02-05-at-11-40-51-am.png)

我们可以看到大多数单独订单的活动。 主要的操作是新订单，更新订单和删除订单。 例外情况是：

1.  隐藏订单

1.  立即交叉的订单

1.  IOC 订单（即时或取消）

所显示或未显示的内容可能因场所而异。 通过上述内容，我们可以重建订单簿，将其维护为要约和供约的价格水平集合。 每个价格水平代表一个队列，根据 FIFO 原则进行交易。

订单簿（缩写）可能看起来像这样：

![](https://tr8dr.wordpress.com/wp-content/uploads/2011/02/screen-shot-2011-02-05-at-12-29-37-pm.png)

使用历史数据的模拟器需要重建订单簿，保持适当的 FIFO 行为。 模拟中最大的两个问题是：

1.  确定贸易何时/是否发生

1.  确定战略交易对历史数据的市场影响

通过各个外汇交易场所，交易被选择性地展示，并且有显著的滞后。 新订单（或更新）可能的交叉订单也不会显示。 这使我们能够猜测交易可能发生的时间。 我们可以在各种交易完成的假设下执行我们的策略。

## 可能的交易事件

让我们看一些可能表明交易发生的信号：

1.  我们水平上的所有订单都被移除

    1.  由于交易还是取消？

1.  内部订单水平已移除

    1.  由于交易还是取消？

1.  the above 的一种 + 我们的水平已经接近穿越的𝜖

1.  我们的水平现在正在穿越

除了（4）之外，所有这些情况都不能确定地表示有交易发生，然而，如果不对前三种情况进行一些假设，只会让我们得到进攻性的交叉或等待价格水平碰撞。

## 我们级别上的所有订单都已移除

考虑上述的订单簿和下面的变换（删除的订单标为红色）：

![](https://tr8dr.wordpress.com/wp-content/uploads/2011/02/screen-shot-2011-02-05-at-1-06-37-pm.png)

我们要测试的策略的合成订单除外，我们要求的价格 82.709 水平上的所有订单在历史事件中都已被移除。如果历史上该水平上的订单数量和/或最大尺寸很高，可能已发生交易。如果水平上的订单数量减少了一个，可能是取消订单。

在这种特定情况下，我们看到我们级别上的订单和下一个级别的第一个订单被移除了。这加强了一个交易可能已经发生的观点。

基于这样的证据，我们可以给交易分配一个概率（尽管如果使用随机/概率方法，每次运行的结果都会不同）。

## 更深的内部水平被移除

考虑下面的订单簿：

![](https://tr8dr.wordpress.com/wp-content/uploads/2011/02/screen-shot-2011-02-05-at-1-17-00-pm.png)

我们的订单在内部水平上，其上面的水平要么被取消，要么被吞噬。这是交易的更强迹象，如果超过一个水平被吞噬。水平可以迅速消失，可能有多种可能的刺激因素：

1.  交易：大买入算法以规模购买（这在白天经常发生）

1.  移动：市场制造商主要引导并在其他地方的活动需求下改变报价

1.  风险厌恶：未决事件或波动引起回撤

#2 或许更难判断，但#1 和#3 回顾起来相对容易看到。

## 订单接近交叉点

我们可能会有一个被动订单朝着交叉点漂移（或者非常接近交叉点）：

![](https://tr8dr.wordpress.com/wp-content/uploads/2011/02/screen-shot-2011-02-05-at-1-28-03-pm.png)

我们看到我们的订单离交叉点有 2/10 个点。在一些交易场所，可能会有内部-内部的隐藏订单（对于不需要部分敞口大小的交易场所）。在这种情况下，这样紧密的移动很可能会立即执行。有存货的市场制造商可能也会觉得 2/10 点的交叉点很吸引人。

## 其他交易信号？

我们没有观察书本另一面的情况，但可能可以将书本另一面的活动和上述情景中的活动相互关联，以确定交易更有可能发生。我会感激任何建议。
