<!--yml

category: 未分类

date: 2024-05-18 14:14:08

-->

# “与其说是科学，不如说是艺术” – Sniper In Mahwah & 朋友们

> 来源：[`sniperinmahwah.wordpress.com/2015/07/16/more-an-art-than-a-science/#0001-01-01`](https://sniperinmahwah.wordpress.com/2015/07/16/more-an-art-than-a-science/#0001-01-01)

我目前正在整理自 2012 年 1 月起深入研究高频交易（HFT）以来打印的成千上万页的文章、学术论文、新闻稿等，并重新发现了我与一位高频交易员之间有趣的讨论。有时，Twitter 上关于 HFT 和市场结构的激烈讨论会促使一些匿名人士给我留言（因为我有时会在 Twitter 上提问），而某位（不在 Twitter 上，且匿名）人士非常慷慨地回答了我关于不同问题的技术性疑问，这些问题是我当时试图理解的（自那以后我对这些问题有了更清晰的认识）。

下面探讨的不同主题（禁止锁定市场、匹配引擎附近的抖动、报价填充、做市方式等）将在后续的多个帖子中展开，因此此处不作评论。同时，以下是关于高频交易这个小世界某些部分的原始评论。我通过电子邮件或面对面与 HFT 行业的多位人士（或多或少匿名）进行了许多其他讨论，但下面的评论特别清晰。鉴于这个博客主要由 HFT 公司的人访问（我有跟踪器，所以有很多名字），这些人可能学不到什么，但其他人可能会感兴趣。（我为了更好地理解，对某些部分进行了轻微编辑；方括号中的小评论是我加的。）

##### 禁止锁定市场

> “[Regulation NMS]禁止交易所展示锁定其他市场价格的报价（买价=卖价）。由于美国市场存在返佣，被动交易（下达限价订单并等待成交，另一交易者前来与你交易）与主动交易（你的价格与限价订单簿上的订单交叉）的实际成本是不同的。
> 
> 假设 BATS 显示的买价是 10.01，卖价是 10.02。
> 
> 如果我以 10.02 的卖价买入，由于接受者费用，我实际支付的是 10.0230。如果市场扩大，变为 10.01 的买价，10.03 的卖价，如果我在 10.02 处增加一个买单并等待被动交易，我将获得返佣，实际支付的将是 10.0170。这对普通人来说差别不大，但对高频交易做市商而言，他们每股的净收益可能只有 0.0010，这就产生了巨大差异。
> 
> 现在假设 BATS 以 10.01 的买价和 10.03 的卖价进行交易，但[NYSE] ARCA 仍然显示 10.02 的卖价。作为高频交易者，我的估值模型可能表明，我可以在 10.0170 买入获利，但不能在 10.0230 买入。我想在 BATS 上发布一个买价，但除非有人在 ARCA 上交易该订单，或者我自己发送一个 ISO 订单，否则我无法这样做。这就在市场上产生了一种摩擦，并导致了这样的订单类型：我可以在 BATS 上放置我的 10.02 订单，但它们不会显示，直到 ARCA 移动，这只会使市场更加复杂，并阻止其他人与我的订单进行交易，他们可能更愿意等待在另一个市场上的被动填充。这也使得某人难以说，购买所有在卖价上的股票，然后将剩余部分以该价格被动地发布以购买更多，这在市场上是完全自然的事情。相反，他们的订单将被拒绝或滑点，高频交易者可能会首先跳入那个价格。
> 
> 有些人认为订单类型不公平地偏好了高频交易者。我不认为这是事实，因为它们是公开的[咳咳，博德克先生无疑会不同意]，但这只是很多不必要的复杂性[在这点上，每个人都同意]，并使人们认为市场是不公平的。”

##### 做市策略

> “我所做的是为每种我交易的证券制定一个统计预测的‘公允价值’。这些模型中包含的内容是专有的，但一般可以想象任何可能影响其短期价格的订单簿事件：供需失衡、同一行业相关证券的变动、我在该股票或其他股票中的自有库存等。其中一些模型是统计的，我使用历史数据，而其他模型是机械的经济关系，例如，ETF 不应以其成分股票的折扣/溢价交易，或者股票应在每个市场上以大致相同的价格交易，[我将在 9 月的*圣彼得堡的克塞尼亚*系列中进一步讨论套利]，等等。
> 
> 一旦我确定了公允价值，我就会在它周围放置买卖订单，目的是被动地卖出卖价和买入买价，以便平均而言，我捕捉到这个价差的一部分。随着我的估值变化，我会更新这些订单以反映我的观点并控制我的风险敞口。我的模型有许多变量，并由订单簿事件驱动；这就是为什么你经常听到高频交易者有高报价/交易比率，因为他们不断调整市场价格以反映他们的观点和风险承受能力。
> 
> 制定合理的买卖价差并决定出价和要价的大小，与其说是科学，不如说是一门艺术。我不断进行实验，以最大化我的风险调整回报和市场份额。速度至关重要，因为在价格时间优先的世界里，必须以最快的速度设定最激进的价格才能赢得订单流。同时，必须使用智能预测模型来取消可能被激进的套利交易者（那些拥有微波天线的人？）、知情市场参与者等击中的订单。
> 
> 想象一下，我的模型通常在最佳买卖盘上停留，偶尔在买卖对我特别不利时，我们会尝试“避开”，这时我们会将我的买卖盘撤离。我们的目标不是对价格进行投机，而是要“不错”，因此平均而言，我们的预期胜率（即价差）略高于我的平盘（买卖同价）。尽管许多人声称高频交易（HFT）会“刮取”人们的利润，但实际上我们大部分时间只捕捉到价差的一小部分。我们的净收益是几美分的几分之一。平均而言，当有人选择与我们的报价交易时，价格会朝着他们的利益方向移动。我们的目标是让价格平均移动幅度略小于价差，这样我们就能赚取少量利润，并通过足够的交易量来实现……[已审查]。

##### 撮合引擎与抖动

> 大多数交易所的撮合引擎结构是每个交易品种都有一个中央撮合引擎，以及为每个会员提供的网关进程，用于发送订单，处理协议转换，可能还包括一些安全检查和消息限流，以防止某个会员导致交易所崩溃。
> 
> 通常，撮合引擎为每家机构提供订单入口网关，这些网关维护着一个队列，用于添加、取消或修改订单的传入消息。交易所的撮合引擎会依次检查每个网关，并按顺序处理来自每个网关的一条消息。声称“报价填充”可以为参与者带来好处是可疑的，原因有几点：1. 如果我们快速发送消息，这些消息将在我们自己的网关排队，因此其他参与者的订单将先被处理。2. 发送订单在计算上成本高昂；我们必须编码一条消息并通过网络发送，这比什么都不做要耗时。3. 每个订单簿事件都会通过多播馈送反映给所有参与者。如果我们快速发送大量消息，我们自己的软件或硬件必须像其他人一样处理所有这些消息。大多数“报价填充”是由于软件错误或算法之间的交互，这些算法都在试图设定最佳价格等。[有些人读到这里可能会大声抗议，但这不是我第一次听到这种观点]。
> 
> 交易所软件本身存在固有的延迟和抖动。目前，即使是顶级交易所之间的网关，其抖动也比顶级高频交易公司之间的差异更大。这意味着，如果你有两家反应迅速的公司，一家对事件的响应时间为 5 微秒，另一家为 10 微秒，那么 10 微秒的公司有时会因为网关抖动而比 5 微秒的公司更快地进入交易所匹配引擎[!]. 最终结果是，如果你有一批响应时间小于 10 微秒或其他低数值的公司，削减额外的微秒延迟已不足以赢得交易。这只是在统计上稍微增加了可能性。现在不再是有一两家公司占据主导地位，而是一批较小的公司在共享同一块蛋糕。因此，我认为内部延迟的“军备竞赛”基本上已经结束，尽管通过更快的网络线路[和微波天线]仍有提升空间。

##### 结论

> 没有像我们这样的交易者，那里的订单簿几乎会空空如也。
> 
> 如果篇幅较长，敬请谅解。我必须保持模糊，因为竞争对手总是在试图弄清楚其他人在做什么。

无需道歉——篇幅太短了。
