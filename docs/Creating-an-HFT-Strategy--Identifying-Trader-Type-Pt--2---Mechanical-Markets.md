<!--yml

category: 未分类

date: 2024-05-18 06:44:41

-->

# 创建一个 HFT 策略：识别交易者类型 Pt. 2 | 机械市场

> 来源：[`mechanicalmarkets.wordpress.com/2015/01/20/identifying-trader-type-pt-2/#0001-01-01`](https://mechanicalmarkets.wordpress.com/2015/01/20/identifying-trader-type-pt-2/#0001-01-01)

我们在[第一部分](https://mechanicalmarkets.wordpress.com/2015/01/13/trader-type-and-order-age/ "第一部分")中看到，长时间存在于交易所的订单与其短命同行相比，与市场价格的表现不佳。在这篇文章中，我讨论了这种倾向是否可以成为可行的交易策略。最显而易见的策略基础可能是执行以下操作：

+   当我们在市场数据源中看到足够老的订单执行时，立即以相同价格发送一个市价订单，试图与订单簿中剩余的任何流动性进行交易。

虽然这样做比简单复制所有执行的效果要好，但这不会使我们达到盈利。要做到这一点，我们需要了解一些关于美国股票市场结构的其他信息。可能最重要的事实是，DirectEdge 的 EdgeX 上的挂单在执行后的表现要比其他传统交易所差得多。我不知道原因，但每个交易所都有不同的交易者和订单流量组合。EdgeX 可能会有具有异常高 alpha 值的传入市价订单，以及具有异常低 alpha 值的挂单，或者两者都有。

![toa-exchangesummary-1366](https://mechanicalmarkets.wordpress.com/wp-content/uploads/2015/01/toa-exchangesummary-13661.png)

在各个交易所执行的可见订单的表现。图表与第一部分中的图表基本相同。请注意，交易所回扣未包含在内，因此倒置交易所（纳斯达克 Bx（Bsx）；蝙蝠 BYX（BatsY）；DirectEdge EdgeA（EdgeA））上的被动订单的增强表现在很大程度上是由于回扣的差异。

另一个重要的事实是，'昂贵'股票（指每股价格高的股票，而不是估值高的股票）在执行后，它们的被动一方表现往往比'便宜'股票差。这本身就是一个有趣的现象，可能表明昂贵股票的做市活动减少-可能是由于流动性降低，tick 大小和交易所回扣相对波动性不那么重要，SEC 费用（按交易的美元价值收取）每股更高，甚至只是订单以 100 股为单位提交的传统（使得'最小'交易对手订单量至少为 100 股，这对于做市商来说太大，无法盈利地处理）。基于类似的原因，倾向于移除挂单流动性的策略可能在昂贵的股票上有更好的经济效益。EdgeX 更奇怪的特性是，它的大量挂单为有利的交易对手。在许多交易所上进行的广泛类别交易活动中，大量订单部分执行，留下大量未执行，可能意味着大订单获得的交易更好。这种行为的原因是直观的；至少您期望，如果在这个例子中的较小交易者对价格方向有信心，那么这个交易者将交易所有可用数量。如果所有高阿尔法交易者都以这种方式有效行动，那么只针对大订单进行交易的交易将由相对更多的噪声交易者发送，并且那些不会跟进其他订单的交易者（例如，他们填满了自己的配额或达到了头寸限制）。但由于某种原因，在 EdgeX 上并非真的如此。例如，如果我模拟一个简单复制在 EdgeX 上看到的激进执行（与挂单被动交易）的“策略”，当 EdgeX 在价格水平上可用的数量更多时，它实际上表现更好。

![toa-shrsfilled-edgexsignal-1000shrorder-800](https://mechanicalmarkets.wordpress.com/wp-content/uploads/2015/01/toa-shrsfilled-edgexsignal-1000shrorder-13662.png)

模拟的 1000 股订单的表现，只是简单地复制了在 EdgeX 上看到的交易执行，按股价和填充数量划分。较大订单的增强表现非常不寻常。

理解为什么这么奇怪的话，想象一下去百思买看到某个大人物把所有现货中的戴尔笔记本都买走。再想象一下，一个普通人来买一台 Mac，只留下 50 台在货架上。你可能会期待买了戴尔的那个人，已经做好了功课，会得到比买 Mac 的人更好的价格。但事实证明，如果百思买在 EdgeX 上销售其商品，买 Mac 的人往往是一个更聪明的买家。也许戴尔的那个人是用公司费用账户买了所有那些电脑，不在乎价格，但这并不是你在一个据说他们的表现受到仔细追踪的专业交易员的世界里所期待的。我们还可以通过仅查看已交易订单的年龄来思考一下我们的特定优势是否实现良好。让我们的策略看看所有交易所的所有订单，并且只有在所有这些订单都足够老的时候才交易，这将更有意义。这样做可以使我们每股再增加 0.1 – 0.15 美分的收益。肯定有一种方法可以通过交易所优化年龄截止时间，但我们将在每个交易所的每个挂单上都打上一个统一的 5 秒的阈值。总结一下，我们提议的策略做了以下几件事：

1.  在 EdgeX 上寻找 100 股要与一个至少 5 秒的订单交易。

1.  如果我们市场范围内看到的每笔订单都超过 5 秒，那么提交一个意图与 EdgeX 上剩余任何数量进行交易的订单。

1.  发送一个大订单（例如 1000 股）来做更多的交易量，并在 EdgeX 上仍有大量股票可用时进行优先交易（或者，只有在至少有 300 股可用时发送任意大小的订单）。

1.  在股票超过每股 70 美元时执行此操作，并且为了做更多的交易量，比我们刚刚看到的交易价格高 1 美分。

它的表现如何？

![toa-edgex-5s_execution-1000shr-backtest800](https://mechanicalmarkets.wordpress.com/wp-content/uploads/2015/01/toa-edgex-5s_execution-1000shr-backtest13662.png)

上述策略执行的交易的模拟表现。模拟数据中缺少一些重要交易所的数据，这可能会损害我们策略的表现，因为它无法考虑到这些交易所订单的年龄。请注意（像之前的所有图表一样），这个图表通过执行的数量来权衡交易的市场盈亏。模拟是在 2014 年 8 月的大约 2.5 周内进行的，并不是这个策略的特别特殊的时间。模拟成交按成交数量拆分以进行说明。请注意，在我们模拟交易后，纳斯达克（最大和最快的交易所）的交易量没有出现巨大的激增。平均每个交易之后 1 毫秒有 10-20 股交易，类似于在上面直接模拟中看到的数量。交易量的激增可能表明同时进行的算法交易活动，这表明很少有自动化交易者在执行与此策略相关的操作。

我认为结果相当令人震惊。该策略使用的所有事实都可以在市场数据中轻松看到，而且确实没有做任何花哨的事情。就高频交易而言，这是你能得到的最简单的策略之一；它几乎没有经过优化，没有统计模型，逻辑有限，并且在市场数据中使用的特征很少。这确实有点违背了成功的交易策略极度复杂且需要多年构建的智慧。当然，它并没有赚太多钱（按照高频交易的标准），而且缺乏及时退出头寸的方法，但不难想象一些更严肃的工作可以将其转变为更大的量。就目前的情况而言，在相关交易中每股在手续费之前大约赚取 1 美分，每天交易大约 7000 次，平均执行量约为 350 股。支付每股大约 0.5 美分的费用（0.3 美分的交易所费用，这些股票约为 0.2 美分的 SEC 费用，清算费通常不超过几百分之几美分），我们可以看到每天约 10k 美元的利润。我还没有在生产环境中运行过这个策略；它只是一个模拟，有时实际结果会有所不同。但总的来说，在交易积极性较强的模拟中，出错的可能性较小，相比做市商模拟。在某些情况下，即使有警惕的交易员存在，市场的不有效率也可能持续存在。通常在这种情况下，无效率会被挤压到所谓的微观结构中，这是市场上最快速的交易者的时间尺度。我们可以想象这样一种情况，即有几个粗心的交易员负责那些表现不佳的旧大订单。使无效率对我们可见的可能性是在这些旧订单执行后，大家会争相交易剩余的任何数量。在这种情况下，我们预期在这些执行后会有交易量激增，以及模拟中的实质性延迟敏感性，但我没有看到这两者。将模拟延迟增加 100 微秒（对于高频交易来说是很长的时间）并没有产生很大的影响。人们常说市场无效率往往只存在于微观结构中。这个例子不仅显示了中等时间尺度上的无效率，而且显示了从原理上产生利润的足够大的无效率。这确实让我想知道，所有那些据说是复杂的执行算法和量化策略是否能捕捉到市场最基本的特征。
