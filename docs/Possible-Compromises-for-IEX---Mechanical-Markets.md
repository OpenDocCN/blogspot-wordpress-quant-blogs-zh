```yml

分类：未分类

日期：2024-05-18 06:42:26

-->

# 《IEX 可能的妥协》| 机械市场

> 来源：[`mechanicalmarkets.wordpress.com/2015/12/18/possible-compromises-for-iex/#0001-01-01`](https://mechanicalmarkets.wordpress.com/2015/12/18/possible-compromises-for-iex/#0001-01-01)

IEX 拟议设计中最有争议的方面似乎是对其速度障碍的非均匀应用。 [1] 在社区过多讨论这个问题之前，我想讨论为什么 IEX 提出的非公平访问是不必要的。IEX 可以在不向其挂钩订单或路由器提供信息优势的情况下实现其声明的目标。

显然，IEX 不对用于重新定价算法订单类型的传入市场数据，或交易所与他们的路由器之间的通信应用速度障碍。很多人（包括我）[2][3]已经解释了这些差异可能引起的问题。简而言之，使用对手尚未看到的市场数据重新定价算法订单类型相当于“延迟套利”。IEX 延迟与每个未关联路由器之间的通信感觉具有反竞争性。在这篇文章中，我将解释为什么这两个速度障碍的例外不是防止“延迟套利”和“抢先交易”所必需的。

# 保护挂钩订单而不赋予其特权

IEX 希望确保其挂钩订单无法被比 IEX 更快处理市场数据的交易者“挑选”。但实际上，IEX 实际上并不需要使用完全非延迟的市场数据来重新定价其挂钩订单。CME 正在引入一种功能，在接收客户订单的那一刻时间戳，然后按照那些时间戳的顺序处理它们。IEX 可以采取同样的措施，同时对传入的市场数据进行时间戳。如果 IEX 不想订阅无线数据馈送，它可以从无线和光纤链路之间的延迟差异中减去其市场数据时间戳。 [4] 一旦 IEX 为所有消息水平化时间戳，它所需要做的一切就是按正确的顺序处理这些消息。这将实现 IEX 的[目标](http://www.sec.gov/comments/10-222/10222-20.pdf)，即“确保在任何市场参与者可以对 IEX 采取行动以反应市场价格变化之前，IEX 已经意识到同样的价格变化。”

如果在与鞋盒延迟期间用软件重新排序消息使延迟看起来更加“有意”（这违反了 Reg. NMS），还有类似的替代方案。 [5] IEX 可以为它处理的方向性馈送引入更小的鞋盒。例如，如果 IEX 在任何交易者可以采取行动之前 200us 收到纳斯达克的市场数据消息，那么它可以将其从纳斯达克的电缆增加 200us 的延迟线。而且，如果它从纽约证券交易所收到市场数据 50us 快于快速交易者，那么它可以将其从纽约证券交易所的馈送增加 50us 的延迟线，等等。

这两个选项中的任何一个都可以防止 IEX peg 订单以“最后查看”类似的方式重新定价。这是一个风格化、糟糕的图表：

![IEX_peg_partial_fix_drawing](https://mechanicalmarkets.wordpress.com/wp-content/uploads/2015/12/iex_peg_partial_fix_drawing.png)

# 防止从 IEX 路由器泄露信息而不赋予其特权

IEX [表示](http://www.sec.gov/comments/10-222/10222-26.pdf)，它延迟向所有订阅者发送的消息，除了他们的路由经纪商（IEXS），以“防止信息泄露或流动性衰减，当 IEXS 路由到其他市场时。” 他们的担忧是，如果没有这种非对称延迟，市场制造商如果在交易者向 IEX 发送的大订单部分执行之前被路由出去，他们可能会在其他交易所撤销他们的报价。然而，IEX 可以通过将路由器位于 Secaucus 的速度障碍之外，与客户一起，来防止这种“抢跑”行为 [6]。 然后，路由器可以维护其对交易所可见订单簿的看法，包括 IEX 的订单簿，并调整订单发送时间，使它们同时到达所有交易所。

IEX 表示，竞争性路由器可以以这种方式运行，因此 IEX 应该意识到其路由器也可能这样做。 [7][8] 但这种方法有一个缺点。路由器只能知道在 IEX 上发布的可见数量，而无法最优地与 IEX 的隐藏订单互动。路由器完全访问给定交易所的隐藏流动性的唯一方式是按顺序操作：首先向该交易所发送订单，等待回复，然后将任何未完成的余额发送到其他市场。隐藏流动性的整个意义在于，你只有在与它（或他人）交易后才知道它的存在。 [9]

通过允许其路由器绕过速度障碍，IEX 实际上赋予了它对 IEX 隐藏订单簿信息的独家访问权。这种特殊的访问权仅持续 350us 的速度障碍时间，但这仍然是个问题。Lava 因被指控使用其隐藏订单簿的信息来帮助其在关联公司的路由决策而被 [罚款](http://www.sec.gov/News/PressRelease/Detail/PressRelease/1370542371114)。Matt Levine [认为](http://www.bloombergview.com/articles/2014-07-25/citi-wasn-t-so-clear-on-what-hidden-orders-meant)这种违法行为（大部分）没有受害者：

> ColorBook 利用隐藏订单所做的就是将其客户路由到这些隐藏订单...一旦他们提交了以 Y 价格购买 X 股的订单，ColorBook 就会将其发送到隐藏订单。这正是提交隐藏订单时你所希望发生的！

这当然可能是真的，尽管那些隐藏订单用户可能不喜欢与 ColorBook 路由器的流量互动。10

允许 IEX 对其路由器给予优惠待遇的论点与 Levine 关于 Lava 的观点基本相同。如果这种待遇得到充分披露，可能会提高使用路由器和 IEX 隐藏订单的用户的市场填充率。然而，这也伤害了使用非 IEX 路由器（和非 IEX 挂单，会导致错失成交）的用户。问题在于，交易所是否应该被允许通过任何手段帮助他们的用户，或者他们是否必须考虑更广泛的竞争格局。应该允许 BATS 根据对 Edge 隐藏订单的特殊访问来做出路由决策吗？同样的权衡适用。

无论如何，IEX 完全有能力运营一个对“前端交易”免疫的路由器，而不给它优先访问的权利。这个问题不是关于“前端交易”，而是关于访问隐藏流动性。11

# 妥协

围绕 IEX 的言论总是太过激烈，不利于合理辩论。这很遗憾。我认为有一个妥协的空间，这可以让 IEX 实现其目标，同时也能满足自动化交易者和竞争对手。那些“闪电男孩”们不得不面对的事实是，有时候，他们讨厌的人也会提出合理的观点。也许这是[成长](http://www.bloombergview.com/articles/2015-09-16/the-flash-boys-exchange-is-growing-up)的一部分。[](#bottom12iexdesign)

[](#1iexdesign)此篇博文，像往常一样，关于 IEX 的，都是猜测。他们目前发布的[交易所申请](http://www.sec.gov/rules/other/2015/investors-exchange-form-1.htm)对速度阻碍及其应用时间并没有太多信息。IEX 的评论信[提供](http://www.sec.gov/comments/10-222/10222-20.pdf)了更多[细节](http://www.sec.gov/comments/10-222/10222-26.pdf)，但我心中对他们市场模型具体包含什么仍有一些不确定性。

[](#2iexdesign)IEX 有点[否认](http://www.sec.gov/comments/10-222/10222-20.pdf)这一点：

> IEXS，这个路由经纪商，不将订单路由到 IEX，所有可路由或不可路由的订单必须通过 POP，因此在访问 IEX 交易系统方面不存在竞争性差异。

但还有：

> 在完成路由操作后，根据交易所的指示，任何未成交的股票余额将返回交易所，根据适用规则进行处理。这条信息不会穿越 POP。

[3] IEX 对其路由器的优惠待遇可能会促使其他交易所为它们自己的路由器创建类似的安排，从而使经纪人的智能订单路由器和小交易所处于竞争劣势。我真的不明白 IEX 为什么要允许这种情况。如果像纳斯达克这样的大型交易所引入一个不适用于其路由器的速度障碍，交易员将强烈激励使用纳斯达克的 router，而没有人会使用 IEX 的。我认为，一个初创交易所应该最支持 Reg NMS 的公平竞争精神。

IEX 的 peg 订单处理可能也会引起公平竞争的问题。交易员和经纪人可能被迫使用 IEX 的算法订单类型，而不是他们自己的。 [Citadel](http://www.sec.gov/comments/10-222/10222-16.pdf)表达了担忧，IEX 有朝一日可能会“对执行 peg 订单收取更多费用…这些订单具有其他订单类型固有的时间优势。”也许 IEX 已经开始这样做了——通过为隐藏订单收取更高的费用。我的理解是，IEX 上的所有隐藏订单实际上都是中点 peg，使用未经过速度障碍的市场数据进行重新定价。交易所对隐藏执行收取额外费用并不罕见，但为隐藏订单提供延迟优势引发了关于他们费用的新问题。

[4] 例如，如果 IEX 从纳斯达克以 200us 的单向延迟通过光纤在 10:00:00.000000 收到书籍更新，但他们知道最快的无线链路具有 100us 的单向延迟，那么 IEX 可以将该书籍更新的时间戳重新校准为 9:59:59.999900。这将是最快的交易员可能收到同一市场数据消息的时间（比 IEX 早 100us）。当你考虑到无线链路并不总是可用时，还有一些曲折，所以如果 IEX 要完全公平，天气恶劣时就不会进行这个减法。与其处理这个问题，IEX 可能更容易只是订阅最重要市场的无线数据流。这可能会[花费](http://images.qnasdaqomx.com/Web/NASDAQOMX/%7Bc6c41d3b-68f7-4408-a404-20b8436209c8%7D_MMWfaqs_April_2015_-_clean.pdf)总计大约每月 5 万美元，这听起来并不是一个沉重的负担。

[5] 我不知道延迟是否具有软件组件是否重要，但我也不是律师。

[6] 或者他们现在是怎么称呼它的。

[7] 见[p15](http://www.sec.gov/comments/10-222/10222-26.pdf)顶部。

[8] 尽管我不了解交易所可以在经纪人般的角色上采取何种程度的行动。也许将他们的路由器放在不同的数据中心并提供与经纪人智能订单路由器（SORs）类似的 functionality 会越过某些界限？如果是这样，这仍然似乎比他们提供具有系统优势的 SOR-like 功能的提议要好。

在一份评论信中，IEX 对顺序路由似乎相当轻视([p16](http://www.sec.gov/comments/10-222/10222-26.pdf))。但顺序路由确实有其优点。并非每个用户都希望不考虑市场影响、价格改进或费用而完全访问亮报价。

这取决于许多因素，包括 ColorBook 路由订单的毒性。如果 Lava ECN 与 ColorBook 路由器之间的信息共享被隐藏订单用户得知，他们可以在发送这些隐藏订单之前将其考虑在内。正如 Levine 所说([says](http://www.bloombergview.com/articles/2014-07-25/citi-wasn-t-so-clear-on-what-hidden-orders-meant)):

> 这在其文件中未披露，或在其广告中一致披露。尽管有时会这样：这更多的是“LavaFlow 没有告诉人们的事实”，而不是“LavaFlow 保持秘密的事实”。

IEX 是如何一致披露其路由器享有的任何有利访问的？我不知道，但 Citadel 表示([says](http://www.sec.gov/comments/10-222/10222-16.pdf)):

> 虽然在应用程序中没有明确说明，但 IEX 已非正式解释称，IEX 路由器在访问 IEX 交易系统或将从 IEX 交易系统路由订单到其他市场中心时，无需经历 IEX 访问延迟。

还有一种观点是，允许 IEX 路由器跳过速度障碍确保了任何可路由订单未成交的部分在返回 IEX 时将是队列中的第一个。忽略 IEX 是否应仅向其路由器的客户提供这一利益的争议，我不认为这是真的。我不确切知道 IEX 的路由器是如何工作的。但如果它提交的订单使得它们与 BATS 和 NYSE 同时到达，那么交易员应该有可能在 IEX 从 NYSE 那里得到回复之前 350us 以上向 IEX 提交订单。

负责创造这个双关语的是[Matt Levine](http://www.bloombergview.com/articles/2015-09-16/the-flash-boys-exchange-is-growing-up)，我则 responsibility for using it badly.
