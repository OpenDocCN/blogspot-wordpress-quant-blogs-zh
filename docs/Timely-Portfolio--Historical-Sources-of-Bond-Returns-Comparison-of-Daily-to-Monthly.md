<!--yml

类别：未分类

日期：2024-05-18 15:18:19

-->

# Timely Portfolio：历史债券回报来源-每日与月度的比较

> 来源：[`timelyportfolio.blogspot.com/2011/04/historical-sources-of-bond-returns_17.html#0001-01-01`](http://timelyportfolio.blogspot.com/2011/04/historical-sources-of-bond-returns_17.html#0001-01-01)

非常感谢您对我上篇帖子[10 年收益率系列的历史债券价格和总回报](http://timelyportfolio.blogspot.com/2011/04/historical-bond-price-and-total-returns.html)的评论

> “我知道这可能

这使我错了，并让我多得到了九年的历史。这个问题使我进一步证明了我的观点..."但是 Shiller 和美联储的月度收益率是日收益率的平均值，而不是月末值。将这种方法应用于这些月平均值是不行的。"这种月平均值在过去给我带来了很多问题，但在这个情况下，这并不重要。我们可以在这张图表中看到月平均值（GS10）和月末日值（DGS10）的区别。

然而，如果我们查看它们的价格和总回报序列，差异是微不足道的。

现在我已经澄清了这一点，我可以继续将债券市场当作赌场游戏，数据可以追溯到 1953 年。

R 代码：

#为了比较月平均值和每日值，两次做所有的事情

需要(RQuantLib)

需要(quantmod)

需要(PerformanceAnalytics)

获取符号("DGS10",src="FRED") #加载每日美国国债 10y 数据从美联储 Fred

获取符号("GS10",src="FRED") #从美联储 Fred 加载月平均美国 10y 数据

#美联储的月度收益率系列是每日收益率的月平均值

#Shiller 系列也是月平均值

#计算回报月平均值是不行的

所以我们要按日计算，然后取月末的月平均值

不幸的是，该系列并没有追溯到那么久远

DGS10<-to.monthly(DGS10)[,4]

将索引设置为 yyyy-mm-dd 格式，而不是 to.monthly mmm yyy，以便以后更好地合并

索引(DGS10)<-as.Date(索引(DGS10))

DGS10 价格回报<-DGS10 #设置此以保存价格回报

GS10 价格回报<-GS10

DGS10 价格回报[1,1]<-0

列名(DGS10 价格回报)<-"价格回报-每日到月度的 DGS10"

我知道我需要将这进行向量化，但还不够资格

#请随意评论以告诉我如何做到这一点

对于（i 在 1:(NROW(DGS10)-1)）{

DGS10 价格回报[i+1,1]<-固定利率债券价格（收益率=DGS10[i+1,1]/100,发行日期=系统日期(),

到期日期= advance("UnitedStates/GovernmentBond", Sys.Date(), 10, 3),

利率=DGS10[i,1]/100,期限=2)[1]/100-1

}

GS10 价格回报[1,1]<-0

列名(GS10 价格回报)<-"价格回报-月平均 GS10"

我知道我需要将这进行向量化，但还不够资格

请随意评论以告诉我如何做到这一点

对于（i 在 1:(NROW(GS10)-1)）{

GS10 价格回报[i+1,1]<-固定利率债券价格（收益率=GS10[i+1,1]/100,发行日期=系统日期(),

到期日期= advance("UnitedStates/GovernmentBond", Sys.Date(), 10, 3),

利率=GS10[i,1]/100,期限=2)[1]/100-1

}

#总回报将为期一个月的价格回报+收益率/12

DGS10 总回报<-DGS10 价格回报+DGS10 滞后(k=1)/12/100

列名(DGS10 总回报)<-"总回报-DGS10 每日到每月"

#总回报将为期一个月的价格回报+收益率/12

GS10 总回报<-GS10 价格回报+DGS10 滞后(k=1)/12/100

列名(GS10 总回报)<-"总回报-GS10 月平均"

图表系列(DGS10,TA="添加 TA(GS10,在=1);添加 TA((DGS10-GS10)/100)",名称="DGS10 和 GS10 的比较",主题="白色")

mtext("数据来源：美联储 FRED",侧=1,调整=0)

图表.性能总结(合并(DGS10 价格回报,DGS10 总回报,GS10 价格回报,GS10 总回报),y 对数=TRUE,颜色集合=c("海军蓝","深橄榄绿 3","金黄色","灰色 70"),主标题="美国 10 年收益率的模拟回报")

mtext("数据来源：美联储 FRED",侧=1,调整=0)
