<!--yml

category: 未分类

date: 2024-05-18 06:44:21

-->

# 高频交易时代的订单大小：识别交易者类型 第三部分 | 机械市场

> 来源：[`mechanicalmarkets.wordpress.com/2015/02/09/order-size-in-the-hft-era-identifying-trade-type-pt-3/#0001-01-01`](https://mechanicalmarkets.wordpress.com/2015/02/09/order-size-in-the-hft-era-identifying-trade-type-pt-3/#0001-01-01)

在过去的两部分[[pt. 1](https://mechanicalmarkets.wordpress.com/2015/01/13/trader-type-and-order-age/ "Finding Low-Alpha Orders: Identifying Trader Type Pt. 1"), [pt. 2](https://mechanicalmarkets.wordpress.com/2015/01/20/identifying-trader-type-pt-2/ "Creating an HFT Strategy: Identifying Trader Type Pt. 2")]中，我们看到了高频交易（HFT）的一个已知特征，即他们的取消率高，可以用来评估一类广泛订单的毒性，并形成交易策略的基础。在这篇文章中，我将介绍同一主题的另一个特征和一个简单的伴随策略。

这个系列第一篇文章的一个好处是特征的明显性。如果我们思考高频交易（HFT）的刻板印象，在高取消率之后，下一个浮现在脑海中的事情就是他们的小平均交易规模[1]。各种类型的计算机化交易者都被预期会发送小额挂单。做市高频交易（Market-making HFTs）之所以这样做，是因为他们想要与较小的攻击者选择性交易，努力避免整个价格水平的流动性清扫。添加流动性的执行算法会发送小订单，因为它们想要隐藏它们交易大量股票的意图，尽可能长时间地保持价格不远离它们。当然，激进交易可能有点不同——执行算法如果不在整个价格水平上进行清扫，就有其他程序取走它们留下的任何流动性风险，但仍然想要隐藏它们的的意图。激进的高频交易（Aggressive HFTs）甚至没有这种担忧，因此预计他们会移除所有他们认为会盈利的流动性。不过，我要提到的是，在第二部分中，我们没有在 EdgeX 上看到激进交易者这种行为。

带着这个想法，让我们考虑是否有一个好的方法来观察市场数据中计算机发送小订单的这种倾向。我们可以看看按订单大小划分的交易后的表现，但这似乎更好的考虑所有在一个价格水平的订单。而且，既然我们可以，我们将在所有交易所这样做。有很多我们可以使用的衡量标准，但我将比较在任何一个交易所发生交易时，没有显著小于 2 个整数手（200 股）的订单存在时，发生了什么。

![toa-age-201shrbbofilter-inet-800](https://mechanicalmarkets.wordpress.com/wp-content/uploads/2015/02/toa-age-201shrbbofilter-inet-1366.png)

顶部的面板显示了纳斯达克市场上交易的表现与市场价格的对比，按年龄和是否有 201 股或更小的订单进行分割。这里的订单大小指的是订单最初出现在市场数据中的**原始**大小，这排除了由于执行、减少或更新消息而引起的订单大小的任何变化。包括产生了基准交易订单。费用和回扣被排除在外，而且一些交易所的数据集缺失。底部的面板：纳斯达克市场上的股票成交量，包括基准交易。

![toa-age-201shrbbofilter-edgex-800](https://mechanicalmarkets.wordpress.com/wp-content/uploads/2015/02/toa-age-201shrbbofilter-edgex-1366.png)

纳斯达克市场上超过 1 秒的订单的类似图表。底部的面板仍然是纳斯达克市场上的股票成交量。

我们可以看到小订单的存在对交易的长期表现有非常大的影响。在纳斯达克，如果没有小订单存在，且成交的订单是新鲜的（不超过 1 秒 old），那么交易的被动方极度有毒。请注意，在纳斯达克上，交易盈亏平衡实际上可能会因为大约 0.30 美分的回扣而获得大量利润。这与我上述的假设相反，即任何小订单的缺失可能表明程序化订单较少，alpha 值较低。我没有深入研究这种情况是否确实如此，但这种模式可能与算法在订单簿快速翻转时提交大订单的努力一致，以赚取回扣。如果整个市场都知道价格非常接近整数价位，那么无论谁能在两边快速提交订单都可能预期会获得回扣。在这种情况下，提交非常大的订单是有道理的，尤其是如果首先需要提交亏损的市场间扫单。这种情景只是猜测，但如果正确，它可能表明在这些情况下市场质量较差。

当我们查看纳斯达克市场上超过 1 秒的订单时，情况发生了逆转，与原始假设一致。小订单的缺失对应于纳斯达克非常低的 alpha 流动性，在交易后几乎损失了整整一美分。这同样适用于 EdgeX 上年轻和年老订单，年龄和大小显示出协同效应。而且我在研究的所有交易所上都发现了这种情况，包括那些倒置定价的交易所（例如[EdgeA](https://mechanicalmarkets.wordpress.com/wp-content/uploads/2015/02/toa-age-201shrbbofilter-edgea-1366.png))。我无法解释为什么纳斯达克在年轻订单的情况下是独特的，但我要指出，它是高速消息流量下的最快股票交易所，当 NBBO 锁定时，交易所可以有非常复杂的行为。如果有需求，我可能在未来的帖子中讨论更多。

如果市场真的是有效的，我们可能就会看到这种影响小得多。例如，我们可以想象，如果有很多小订单存在，积极的交易者可能会变得更不挑剔。这可能会吸引市场制造商和被动执行算法提交更大的订单与这些低 alpha 值的积极交易者交易。最终，这种影响会缩小或消失。我要说明的是，会如此的机制并不完全类似于那些会减少年轻订单和旧订单 alpha 差异的机制；对于算法来说，改变订单大小通常很容易，但让算法保持订单活动时间比预期更长则比较困难。

现在我们已经可以使用这种方法挑选出低 alpha 值的挂单，我们可以模拟一个与第二部分基本相同的策略。也就是说，当我们看到低 alpha 值的订单在交易时，提交我们自己的市场订单去交易任何剩余的流动性。具体来说：

1.  跟踪所有在可用交易所上的订单，这些订单在其提交时 <= 201 股。

1.  如果一个超过 5 秒的订单在没有小订单或非常年轻（<100ms）的订单存在的情况下以某一价格水平成交，那么

1.  以相同的价格将订单发送到其他交易所。在之前的示例中，我们提交的订单更加积极地跳了一个价差，但我们在这里无法很好地模拟，因为这种策略并不仅限于昂贵股票。在更便宜的股票上，为了通过 NBBO 交易 1 个价差，我们需要发送 ISO 和/或可路由的订单，这些我们在这里不会模拟。

请注意以上是完全未调整的。如果我们使用纳斯达克交易作为信号，我们会得到以下结果：

![toa-age-201shrbbofilter-100shr_800](https://mechanicalmarkets.wordpress.com/wp-content/uploads/2015/02/toa-age-201shrbbofilter-100shr_1366.png)

顶面板：2014 年 8 月一周内，按执行交易所划分的模拟交易与市场价格的性能对比。所有模拟订单均为 100 股。底面板：纳斯达克成交量，扣除模拟交易后的。

成交量很低，但在扣除费用后，仍然有不错的利润空间，特别是在 EdgeX 上。正如我们所看到的，EdgeX 也可以接受更大规模的订单而不受 adverse selection 的影响。如果我们把 1000 股的订单发送到 EdgeX，这个策略在那条路线上就相当于每天约 5k。这只是一个示例，但我要说明的是，纳斯达克到 EdgeX 的交易所配对并不是唯一适用于这种策略的，特别是如果我们对交易低价股票更加严格的话。此外，如果我们对昂贵股票的价格更加积极地发送 1 美分的订单，成交量可能会更高。

再次看到检查对手订单特征的重要性。尤其有趣的是，我们可以使用这些对 HFT 的刻板印象来找出具有强烈预测性的特征。此外，如果计算机化交易者敏锐地捕捉到所有可用的 alpha，这些特征将毫无价值。好像算法交易者作为一个整体，并不了解他们自己对市场的具体影响。

> ###### HFT 代理包括高消息率、订单取消和修改的爆发、高的订单到交易比率、小的交易规模以及交易速度的增加。这些代理通常与算法交易的更广泛现象以及所有形式的计算机辅助交易有关。
