<!-- yml

分类：未分类

日期：2024 年 5 月 18 日 15:32:14

-->

# 评估高维期望|Tr8dr

> 来源：[`tr8dr.wordpress.com/2010/08/31/evaluating-high-dimensional-expectation/#0001-01-01`](https://tr8dr.wordpress.com/2010/08/31/evaluating-high-dimensional-expectation/#0001-01-01)

在这里，我将概述一种简单的方法来评估高维离散期望的经验数据。例如，如果考虑评估这样的期望：

![](https://tr8dr.wordpress.com/wp-content/uploads/2010/08/screen-shot-2010-08-31-at-5-33-37-pm.png)

假设 X 的维度为 10，我们有一个 10000 x 10 的观测矩阵。此外，这 10 个变量每一个都能够有 5 种可能的状态：

X0 = { 1,4,4,1,1,1,1,3,3,2 }

X1 = { 1,2,2,2,1,1,1,5,5,2 }

...

总可能的不同状态向量的数量是 5¹⁰，超过 900 万。以上积分的一个天真方法是考虑 X 的所有可能序列，但这将是非常昂贵的，而且随着维度或个别状态的数量增加，它将不会扩展。

分布将是稀疏的。我们知道这是因为 5¹⁰ >> 10,000 次观察。最坏情况下的算法将涉及扫描给定的模式，计算频率。这种糟糕的方法的复杂度为**O(N S^d)**，其中**N**是样本数量，**S**是不同符号的数量，**d**是维度。

简单观察：

1.  将积分的定义域限制在现有序列上是有意义的（摆脱了复杂度的 S^d）

1.  避免多次遍历是明智的，天真地进行每个频率计算都需要一次遍历

由于我们处理的是有限样本和已知符号，存在一个**O(N log N)**的方法。我们创建一个按符号序列进行字典排序的二进制或 n 进制树。通过样本迭代，对于每个样本，在树中定位或插入一个节点，跟踪其频率。增加频率。

![](https://tr8dr.wordpress.com/wp-content/uploads/2010/08/screen-shot-2010-08-31-at-7-41-11-pm.png)

该树根据需要进行重新排列以保持平衡，并将平均路径长度减少到 log N。在一个循环中，我们现在知道分布的域和频率。现在，评估期望是直截了当的。

注意，我们可以使用哈希表而不是树，哈希表以序列为键。这将导致 O(N)的算法。然而，对于一些应用程序，有必要使用一个将相邻元素紧密放在一起的树（例如，如果我们想运行近邻分析）。
