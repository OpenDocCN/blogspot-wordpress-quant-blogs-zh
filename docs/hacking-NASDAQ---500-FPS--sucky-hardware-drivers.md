<!--yml

类别：未分类

日期：2024-05-13 00:08:08

-->

# 以 500 FPS 攻击纳斯达克：烂硬件+烂驱动

> 来源：[`hackingnasdaq.blogspot.com/2009/12/all-software-isnt-equal.html#0001-01-01`](http://hackingnasdaq.blogspot.com/2009/12/all-software-isnt-equal.html#0001-01-01)

古怪的延迟出了什么问题？原来是硬件+驱动器的组合，很可能是一个糟糕的驱动器。之前的测试使用了 Send(Intel 823573L)和 Recv(Realtek RTL811/6168B)，因此合乎逻辑的问题是，如果我们交换发送和接收会发生什么？

首先是 Send(Realtek)（上面的），这还有点令人不安，因为它看起来有点像前一篇文章中的 Send(Intel)节流@ 1msg/10us。两次双峰，一个在你期望的地方，第二个在树林中开茶会或其他什么地方。当我们在两台不同的机器上看到这个时，它看起来可疑，像是在网卡和 sendto()之间的 IP 协议栈或 NAPI 中的某些东西......

接下来是接收（intel）和......

......严格，非常严格。没有我们在 Recv(Realtek)看到的那些狗屎一样的散播。非常低的数字和非常紧凑的分散，这很好。

还有一个好的特写。正如我们所看到的，它在 900ns 左右，2400 个周期@ 2.66Ghz（接收端机器时钟），考虑到这是一个用户程序+套接字用户库+网络堆栈+驱动程序，这个表现相当不错。然而，这只是数据包之间的时间，**而不是机器之间的延迟**，这是一条消息到另一条消息在一台机器上的延迟 - 一个非常不同但相关的数字。

机器到机器的延迟需要两台机器发送和接收，所以必须等到将另一台机箱放入一个少吸引人的网络卡+驱动器。
