<!--yml

分类：未分类

日期：2024-05-12 19:18:48

-->

# 量化交易：凯利公式再探

> 来源：[`epchan.blogspot.com/2009/02/kelly-formula-revisited.html#0001-01-01`](http://epchan.blogspot.com/2009/02/kelly-formula-revisited.html#0001-01-01)

与读者 Steven L 的一些关于凯利公式的讨论：

Q:

> “你的书我已经读了一半以上，但卡在一个我在其他论坛找不到答案的概念上。
> 
> 我读过 Ralph Vince 的《投资组合管理公式》，其中使用凯利公式计算每次试验中银行存款的最佳“比例”。因此，交易员可以计算出他总交易账户价值的某个比例用于每次交易的风险。我指的是所谓的“固定比例”交易。理论上，存在一个最佳比例，可以最大化交易权益的几何增长率。
> 
> 然而，在你书中的资金管理章节，你使用凯利公式推导出最佳“杠杆”。这似乎与我从 Ralph Vince 那里学到的东西相冲突，因为杠杆通常大于 1，而比例通常小于 1。我似乎无法找到这两个概念之间的联系。我也曾在 Lars Kestner 的《量化交易策略》中看到相同的最佳杠杆公式，并在一些论坛上提出同样的问题，但没有人能给我一个清晰的满意答案。如果你可以帮助我澄清这个困惑，我将不胜感激。”

A:

我没有带 Ralph Vince 的书在身边，但如果我记得没错，他的公式是基于离散投注（赢或输，没有中间结果），就像赌马或在赌场游戏中一样。我的方法，或者更准确地说，Ed Thorp 教授的方法，是基于连续金融，假设每一秒，你的损益可能会以高斯（对数正态）方式波动。

对于可能在一次投注中失去所有权益的离散投注， surely one should only bet a fraction of your total equity. 对于连续金融，由于假设价格的 log-normal 分布，一个人在一段时间内失去所有权益的可能性非常小，因此应该下注超过你的权益，即使用杠杆。

Q:

> 在你书中的例子 6.2 中，投资组合只包括多头 SPY，其归零的可能性很小。所以我可以看到你是如何合理地采用连续金融方法并将最佳杠杆用于放大收益的。
> 
> 但是让我们假设投资组合只包含一个策略，即买入期权。假设这个策略因为时间衰减大多数时候会亏损，但偶尔会因为黑天鹅事件而获利。我认为把整个投资组合的权益一次性下注在这个策略上不是一个好主意。在这种情况下，你还能应用连续金融方法吗，因为实际上交易就像做出离散下注？我们应该期待这个策略的平均值和方差自动产生一个小于 1 的最优杠杆吗？这样我们实际上需要每次交易承担账户权益的一定比例的风险？

A:

书中所描述的公式仅在收益和损失（P&L）分布为高斯分布时有效。如果因为黑天鹅事件预期一个厚尾分布，那么就需要使用不同的数学模型，尽管它仍然可以属于连续金融框架之内。然而，为了简化，如果分布看起来是多项式的（例如，“赢很多”的概率高于“输很多”），那么你可以像赌场游戏一样用分数投注来建模。
