<!--yml

category: 未分类

日期：2024 年 05 月 12 日 17 时 56 分 25 秒

-->

# 快速阈值聚类算法（FTCA）| CSSA

> 来源：[`cssanalytics.wordpress.com/2013/11/26/fast-threshold-clustering-algorithm-ftca/#0001-01-01`](https://cssanalytics.wordpress.com/2013/11/26/fast-threshold-clustering-algorithm-ftca/#0001-01-01)

![聚类图像](https://cssanalytics.files.wordpress.com/2013/11/cluster-image.png)

有时候，要改进一个简单而经得起时间考验的配方竟然会令人意外地困难。2011 年夏天，我与[Corey Rittenhouse](http://catallacticanalysis.com/)合作，为资产类别的分组开发算法。当时，我对常用于数据挖掘研究中的“聚类”算法一窍不通。最初创造的算法源于对简化资产分组这一复杂问题的愿望，希望只需几步就能完成，并且使计算过程简单。事实证明，无知是福。**快速阈值聚类算法（FTCA）**具有许多传统聚类算法所不具备的优点：1）它产生的聚类相当稳定，2）它速度快且确定性强，3）易于理解。与[Michael Kapler](http://systematicinvestor.wordpress.com/)一起为我们的[聚类风险平价](http://www.systematicportfolio.com/rfinance2013)组合配置方法进行的聚类研究中，我们都看到的最大问题之一是产生的聚类变化太频繁，导致交易额过多。此外，像道琼斯 30 这样高度相关的数据集，拥有比逻辑或常识所能决定的更多的聚类。这是由于大多数聚类算法的工作方式类似于寻求最大化簇间不相似性和簇内相似性的优化例程。这意味着聚类会因为相关矩阵中的微小变化而改变，这些变化更有可能是噪声的作用。相比之下，阈值聚类使用逻辑相关阈值来代替“相似”与“不相似”。在 FTCA 中，我最初使用了 0.5 的相关阈值（大约是统计显著水平）来区分相似和不相似的资产。FTCA 类似于[最小相关算法](https://cssanalytics.wordpress.com/2012/09/21/minimum-correlation-algorithm-paper-release/ "最小相关算法论文发布")，它使用每个资产与所选所有其他资产的平均相关性来确定资产与所选资产作为整体相近或相远相关的程度。FTCA 创建聚类的图示如下：

![快速阈值聚类](https://cssanalytics.files.wordpress.com/2013/11/fast-threshold-clustering.png)

FTCA 的伪代码如下：

***当还有未分配到簇的资产***

+   **如果只剩下一个资产**

    +   **添加一个新的簇**

    +   **唯一成员是剩下的资产**

+   **否则**

    +   **找到与尚未分配到簇的所有资产的平均相关性（HC）最高的资产**

    +   **找到与所有尚未分配到一个簇的资产的平均相关性（LC）最低的资产**

    +   **如果 HC 和 LC 之间的相关性 > 阈值**

        +   **添加一个由 HC 和 LC 制成的新簇**

        +   **将所有其他尚未分配到一个簇且与 HC 和 LC 的平均相关性 > 阈值的资产加入到簇中**

    +   **否则**

        +   **添加一个由 HC 制成的簇**

            +   **将所有其他尚未分配到一个簇且与 HC 的相关性 > 阈值的资产加入到簇中**

        +   **添加一个由 LC 制成的簇**

            +   **将所有其他尚未分配到一个簇且与 LC 的相关性 > 阈值的资产加入到簇中**

    +   **结束如果**

+   **结束如果**

***结束循环***

有趣的是，使用以前使用的数据集（如 8 个主要流动 ETF（GLD、TLT、SPY、IWM、QQQ、EFA、EEM、IYR）和 9 个行业 Spyders（标普 500 行业：XLP、XLV、XLU、XLK、XLI、XLE、XLB、XLY、XLF））使用 FTCA 和阈值为.5 来查看历史簇。数据库更新至 2013 年 5 月，并显示使用 252 天的相关性回溯和每月再平衡生成的最后 12 个月的历史分配/簇。首先是 8 个主要的流动 ETF：

![ETF8 FTCA](https://cssanalytics.files.wordpress.com/2013/11/etf8-ftca.png)

注意，这些簇非常合乎逻辑，并且在 12 个月期间内不会发生变化。这些簇基本上代表了黄金、债券和股票（请注意，60 个月的时间段显示变化也非常少）。现在让我们看看在著名的嘈杂的标普 500 行业上生成的簇：

![FTCA Spyders](https://cssanalytics.files.wordpress.com/2013/11/ftca-spyders.png)

同样，过去 12 个月的聚类显示聚类成员几乎没有变化。大多数情况下，行业通常被认为是一个簇，而偶尔公用事业部门显示与其他行业的相关性不足。阈值的选择将改变簇的数量和稳定性-较高的阈值显示更多的簇，而低阈值显示的成员变化更大。尽管在过去一年中我对非常复杂的聚类方法有了很多了解，但我经常回到 FTCA 的简单和实用性。 从投资组合管理的角度来看，对于战术资产配置或实施簇风险平价，也使得使用簇更加实际。
